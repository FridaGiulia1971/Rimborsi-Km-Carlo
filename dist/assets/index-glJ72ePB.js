function db(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Mf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function t2(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function hb(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var i=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return t[r]}})}),n}var n2={exports:{}},_h={},r2={exports:{}},ut={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oc=Symbol.for("react.element"),fb=Symbol.for("react.portal"),pb=Symbol.for("react.fragment"),mb=Symbol.for("react.strict_mode"),gb=Symbol.for("react.profiler"),vb=Symbol.for("react.provider"),yb=Symbol.for("react.context"),wb=Symbol.for("react.forward_ref"),bb=Symbol.for("react.suspense"),xb=Symbol.for("react.memo"),_b=Symbol.for("react.lazy"),Rg=Symbol.iterator;function Sb(t){return t===null||typeof t!="object"?null:(t=Rg&&t[Rg]||t["@@iterator"],typeof t=="function"?t:null)}var i2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},s2=Object.assign,a2={};function yl(t,e,n){this.props=t,this.context=e,this.refs=a2,this.updater=n||i2}yl.prototype.isReactComponent={};yl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};yl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function o2(){}o2.prototype=yl.prototype;function Ym(t,e,n){this.props=t,this.context=e,this.refs=a2,this.updater=n||i2}var Jm=Ym.prototype=new o2;Jm.constructor=Ym;s2(Jm,yl.prototype);Jm.isPureReactComponent=!0;var Ig=Array.isArray,l2=Object.prototype.hasOwnProperty,Qm={current:null},u2={key:!0,ref:!0,__self:!0,__source:!0};function c2(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)l2.call(e,r)&&!u2.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:oc,type:t,key:s,ref:a,props:i,_owner:Qm.current}}function kb(t,e){return{$$typeof:oc,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Xm(t){return typeof t=="object"&&t!==null&&t.$$typeof===oc}function Nb(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Og=/\/+/g;function zf(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Nb(""+t.key):e.toString(36)}function Ld(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case oc:case fb:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+zf(a,0):r,Ig(i)?(n="",t!=null&&(n=t.replace(Og,"$&/")+"/"),Ld(i,e,n,"",function(c){return c})):i!=null&&(Xm(i)&&(i=kb(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(Og,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",Ig(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+zf(s,o);a+=Ld(s,e,n,l,i)}else if(l=Sb(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+zf(s,o++),a+=Ld(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function id(t,e,n){if(t==null)return t;var r=[],i=0;return Ld(t,r,"","",function(s){return e.call(n,s,i++)}),r}function Ab(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tr={current:null},Td={transition:null},Pb={ReactCurrentDispatcher:tr,ReactCurrentBatchConfig:Td,ReactCurrentOwner:Qm};function d2(){throw Error("act(...) is not supported in production builds of React.")}ut.Children={map:id,forEach:function(t,e,n){id(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return id(t,function(){e++}),e},toArray:function(t){return id(t,function(e){return e})||[]},only:function(t){if(!Xm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};ut.Component=yl;ut.Fragment=pb;ut.Profiler=gb;ut.PureComponent=Ym;ut.StrictMode=mb;ut.Suspense=bb;ut.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Pb;ut.act=d2;ut.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=s2({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=Qm.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)l2.call(e,l)&&!u2.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:oc,type:t.type,key:i,ref:s,props:r,_owner:a}};ut.createContext=function(t){return t={$$typeof:yb,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:vb,_context:t},t.Consumer=t};ut.createElement=c2;ut.createFactory=function(t){var e=c2.bind(null,t);return e.type=t,e};ut.createRef=function(){return{current:null}};ut.forwardRef=function(t){return{$$typeof:wb,render:t}};ut.isValidElement=Xm;ut.lazy=function(t){return{$$typeof:_b,_payload:{_status:-1,_result:t},_init:Ab}};ut.memo=function(t,e){return{$$typeof:xb,type:t,compare:e===void 0?null:e}};ut.startTransition=function(t){var e=Td.transition;Td.transition={};try{t()}finally{Td.transition=e}};ut.unstable_act=d2;ut.useCallback=function(t,e){return tr.current.useCallback(t,e)};ut.useContext=function(t){return tr.current.useContext(t)};ut.useDebugValue=function(){};ut.useDeferredValue=function(t){return tr.current.useDeferredValue(t)};ut.useEffect=function(t,e){return tr.current.useEffect(t,e)};ut.useId=function(){return tr.current.useId()};ut.useImperativeHandle=function(t,e,n){return tr.current.useImperativeHandle(t,e,n)};ut.useInsertionEffect=function(t,e){return tr.current.useInsertionEffect(t,e)};ut.useLayoutEffect=function(t,e){return tr.current.useLayoutEffect(t,e)};ut.useMemo=function(t,e){return tr.current.useMemo(t,e)};ut.useReducer=function(t,e,n){return tr.current.useReducer(t,e,n)};ut.useRef=function(t){return tr.current.useRef(t)};ut.useState=function(t){return tr.current.useState(t)};ut.useSyncExternalStore=function(t,e,n){return tr.current.useSyncExternalStore(t,e,n)};ut.useTransition=function(){return tr.current.useTransition()};ut.version="18.3.1";r2.exports=ut;var ge=r2.exports;const jb=t2(ge),Cb=db({__proto__:null,default:jb},[ge]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Eb=ge,Lb=Symbol.for("react.element"),Tb=Symbol.for("react.fragment"),Rb=Object.prototype.hasOwnProperty,Ib=Eb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ob={key:!0,ref:!0,__self:!0,__source:!0};function h2(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)Rb.call(e,r)&&!Ob.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:Lb,type:t,key:s,ref:a,props:i,_owner:Ib.current}}_h.Fragment=Tb;_h.jsx=h2;_h.jsxs=h2;n2.exports=_h;var v=n2.exports,f2={exports:{}},Cr={},p2={exports:{}},m2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(I,M){var K=I.length;I.push(M);e:for(;0<K;){var ie=K-1>>>1,P=I[ie];if(0<i(P,M))I[ie]=M,I[K]=P,K=ie;else break e}}function n(I){return I.length===0?null:I[0]}function r(I){if(I.length===0)return null;var M=I[0],K=I.pop();if(K!==M){I[0]=K;e:for(var ie=0,P=I.length,B=P>>>1;ie<B;){var H=2*(ie+1)-1,Z=I[H],te=H+1,le=I[te];if(0>i(Z,K))te<P&&0>i(le,Z)?(I[ie]=le,I[te]=K,ie=te):(I[ie]=Z,I[H]=K,ie=H);else if(te<P&&0>i(le,K))I[ie]=le,I[te]=K,ie=te;else break e}}return M}function i(I,M){var K=I.sortIndex-M.sortIndex;return K!==0?K:I.id-M.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],m=1,f=null,y=3,h=!1,k=!1,S=!1,_=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,p=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(I){for(var M=n(c);M!==null;){if(M.callback===null)r(c);else if(M.startTime<=I)r(c),M.sortIndex=M.expirationTime,e(l,M);else break;M=n(c)}}function N(I){if(S=!1,w(I),!k)if(n(l)!==null)k=!0,R(F);else{var M=n(c);M!==null&&j(N,M.startTime-I)}}function F(I,M){k=!1,S&&(S=!1,b(E),E=-1),h=!0;var K=y;try{for(w(M),f=n(l);f!==null&&(!(f.expirationTime>M)||I&&!T());){var ie=f.callback;if(typeof ie=="function"){f.callback=null,y=f.priorityLevel;var P=ie(f.expirationTime<=M);M=t.unstable_now(),typeof P=="function"?f.callback=P:f===n(l)&&r(l),w(M)}else r(l);f=n(l)}if(f!==null)var B=!0;else{var H=n(c);H!==null&&j(N,H.startTime-M),B=!1}return B}finally{f=null,y=K,h=!1}}var q=!1,L=null,E=-1,V=5,X=-1;function T(){return!(t.unstable_now()-X<V)}function C(){if(L!==null){var I=t.unstable_now();X=I;var M=!0;try{M=L(!0,I)}finally{M?Y():(q=!1,L=null)}}else q=!1}var Y;if(typeof p=="function")Y=function(){p(C)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ce=G.port2;G.port1.onmessage=C,Y=function(){ce.postMessage(null)}}else Y=function(){_(C,0)};function R(I){L=I,q||(q=!0,Y())}function j(I,M){E=_(function(){I(t.unstable_now())},M)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(I){I.callback=null},t.unstable_continueExecution=function(){k||h||(k=!0,R(F))},t.unstable_forceFrameRate=function(I){0>I||125<I?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<I?Math.floor(1e3/I):5},t.unstable_getCurrentPriorityLevel=function(){return y},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(I){switch(y){case 1:case 2:case 3:var M=3;break;default:M=y}var K=y;y=M;try{return I()}finally{y=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(I,M){switch(I){case 1:case 2:case 3:case 4:case 5:break;default:I=3}var K=y;y=I;try{return M()}finally{y=K}},t.unstable_scheduleCallback=function(I,M,K){var ie=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?ie+K:ie):K=ie,I){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=K+P,I={id:m++,callback:M,priorityLevel:I,startTime:K,expirationTime:P,sortIndex:-1},K>ie?(I.sortIndex=K,e(c,I),n(l)===null&&I===n(c)&&(S?(b(E),E=-1):S=!0,j(N,K-ie))):(I.sortIndex=P,e(l,I),k||h||(k=!0,R(F))),I},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(I){var M=y;return function(){var K=y;y=M;try{return I.apply(this,arguments)}finally{y=K}}}})(m2);p2.exports=m2;var Db=p2.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fb=ge,jr=Db;function Pe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var g2=new Set,Ru={};function Ya(t,e){dl(t,e),dl(t+"Capture",e)}function dl(t,e){for(Ru[t]=e,t=0;t<e.length;t++)g2.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Lp=Object.prototype.hasOwnProperty,Mb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Dg={},Fg={};function zb(t){return Lp.call(Fg,t)?!0:Lp.call(Dg,t)?!1:Mb.test(t)?Fg[t]=!0:(Dg[t]=!0,!1)}function Bb(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Ub(t,e,n,r){if(e===null||typeof e>"u"||Bb(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nr(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Dn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Dn[t]=new nr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Dn[e]=new nr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Dn[t]=new nr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Dn[t]=new nr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Dn[t]=new nr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Dn[t]=new nr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Dn[t]=new nr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Dn[t]=new nr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Dn[t]=new nr(t,5,!1,t.toLowerCase(),null,!1,!1)});var Zm=/[\-:]([a-z])/g;function e0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Zm,e0);Dn[e]=new nr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Zm,e0);Dn[e]=new nr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Zm,e0);Dn[e]=new nr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Dn[t]=new nr(t,1,!1,t.toLowerCase(),null,!1,!1)});Dn.xlinkHref=new nr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Dn[t]=new nr(t,1,!1,t.toLowerCase(),null,!0,!0)});function t0(t,e,n,r){var i=Dn.hasOwnProperty(e)?Dn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Ub(e,n,i,r)&&(n=null),r||i===null?zb(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ds=Fb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sd=Symbol.for("react.element"),Wo=Symbol.for("react.portal"),Ho=Symbol.for("react.fragment"),n0=Symbol.for("react.strict_mode"),Tp=Symbol.for("react.profiler"),v2=Symbol.for("react.provider"),y2=Symbol.for("react.context"),r0=Symbol.for("react.forward_ref"),Rp=Symbol.for("react.suspense"),Ip=Symbol.for("react.suspense_list"),i0=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),w2=Symbol.for("react.offscreen"),Mg=Symbol.iterator;function tu(t){return t===null||typeof t!="object"?null:(t=Mg&&t[Mg]||t["@@iterator"],typeof t=="function"?t:null)}var Vt=Object.assign,Bf;function hu(t){if(Bf===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Bf=e&&e[1]||""}return`
`+Bf+t}var Uf=!1;function qf(t,e){if(!t||Uf)return"";Uf=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Uf=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hu(t):""}function qb(t){switch(t.tag){case 5:return hu(t.type);case 16:return hu("Lazy");case 13:return hu("Suspense");case 19:return hu("SuspenseList");case 0:case 2:case 15:return t=qf(t.type,!1),t;case 11:return t=qf(t.type.render,!1),t;case 1:return t=qf(t.type,!0),t;default:return""}}function Op(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ho:return"Fragment";case Wo:return"Portal";case Tp:return"Profiler";case n0:return"StrictMode";case Rp:return"Suspense";case Ip:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case y2:return(t.displayName||"Context")+".Consumer";case v2:return(t._context.displayName||"Context")+".Provider";case r0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case i0:return e=t.displayName||null,e!==null?e:Op(t.type)||"Memo";case Rs:e=t._payload,t=t._init;try{return Op(t(e))}catch{}}return null}function $b(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Op(e);case 8:return e===n0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ea(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function b2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Wb(t){var e=b2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ad(t){t._valueTracker||(t._valueTracker=Wb(t))}function x2(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=b2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function $d(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dp(t,e){var n=e.checked;return Vt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function zg(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=ea(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function _2(t,e){e=e.checked,e!=null&&t0(t,"checked",e,!1)}function Fp(t,e){_2(t,e);var n=ea(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Mp(t,e.type,n):e.hasOwnProperty("defaultValue")&&Mp(t,e.type,ea(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Bg(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Mp(t,e,n){(e!=="number"||$d(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var fu=Array.isArray;function rl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ea(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function zp(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Pe(91));return Vt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ug(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(Pe(92));if(fu(n)){if(1<n.length)throw Error(Pe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:ea(n)}}function S2(t,e){var n=ea(e.value),r=ea(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function qg(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function k2(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Bp(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?k2(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var od,N2=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(od=od||document.createElement("div"),od.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=od.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Iu(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var vu={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Hb=["Webkit","ms","Moz","O"];Object.keys(vu).forEach(function(t){Hb.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),vu[e]=vu[t]})});function A2(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||vu.hasOwnProperty(t)&&vu[t]?(""+e).trim():e+"px"}function P2(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=A2(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Vb=Vt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Up(t,e){if(e){if(Vb[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Pe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Pe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Pe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Pe(62))}}function qp(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var $p=null;function s0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Wp=null,il=null,sl=null;function $g(t){if(t=cc(t)){if(typeof Wp!="function")throw Error(Pe(280));var e=t.stateNode;e&&(e=Ph(e),Wp(t.stateNode,t.type,e))}}function j2(t){il?sl?sl.push(t):sl=[t]:il=t}function C2(){if(il){var t=il,e=sl;if(sl=il=null,$g(t),e)for(t=0;t<e.length;t++)$g(e[t])}}function E2(t,e){return t(e)}function L2(){}var $f=!1;function T2(t,e,n){if($f)return t(e,n);$f=!0;try{return E2(t,e,n)}finally{$f=!1,(il!==null||sl!==null)&&(L2(),C2())}}function Ou(t,e){var n=t.stateNode;if(n===null)return null;var r=Ph(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(Pe(231,e,typeof n));return n}var Hp=!1;if(os)try{var nu={};Object.defineProperty(nu,"passive",{get:function(){Hp=!0}}),window.addEventListener("test",nu,nu),window.removeEventListener("test",nu,nu)}catch{Hp=!1}function Gb(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(m){this.onError(m)}}var yu=!1,Wd=null,Hd=!1,Vp=null,Kb={onError:function(t){yu=!0,Wd=t}};function Yb(t,e,n,r,i,s,a,o,l){yu=!1,Wd=null,Gb.apply(Kb,arguments)}function Jb(t,e,n,r,i,s,a,o,l){if(Yb.apply(this,arguments),yu){if(yu){var c=Wd;yu=!1,Wd=null}else throw Error(Pe(198));Hd||(Hd=!0,Vp=c)}}function Ja(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function R2(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Wg(t){if(Ja(t)!==t)throw Error(Pe(188))}function Qb(t){var e=t.alternate;if(!e){if(e=Ja(t),e===null)throw Error(Pe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return Wg(i),t;if(s===r)return Wg(i),e;s=s.sibling}throw Error(Pe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(Pe(189))}}if(n.alternate!==r)throw Error(Pe(190))}if(n.tag!==3)throw Error(Pe(188));return n.stateNode.current===n?t:e}function I2(t){return t=Qb(t),t!==null?O2(t):null}function O2(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=O2(t);if(e!==null)return e;t=t.sibling}return null}var D2=jr.unstable_scheduleCallback,Hg=jr.unstable_cancelCallback,Xb=jr.unstable_shouldYield,Zb=jr.unstable_requestPaint,rn=jr.unstable_now,ex=jr.unstable_getCurrentPriorityLevel,a0=jr.unstable_ImmediatePriority,F2=jr.unstable_UserBlockingPriority,Vd=jr.unstable_NormalPriority,tx=jr.unstable_LowPriority,M2=jr.unstable_IdlePriority,Sh=null,Fi=null;function nx(t){if(Fi&&typeof Fi.onCommitFiberRoot=="function")try{Fi.onCommitFiberRoot(Sh,t,void 0,(t.current.flags&128)===128)}catch{}}var pi=Math.clz32?Math.clz32:sx,rx=Math.log,ix=Math.LN2;function sx(t){return t>>>=0,t===0?32:31-(rx(t)/ix|0)|0}var ld=64,ud=4194304;function pu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Gd(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=pu(o):(s&=a,s!==0&&(r=pu(s)))}else a=n&~i,a!==0?r=pu(a):s!==0&&(r=pu(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-pi(e),i=1<<n,r|=t[n],e&=~i;return r}function ax(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ox(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-pi(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=ax(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Gp(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function z2(){var t=ld;return ld<<=1,!(ld&4194240)&&(ld=64),t}function Wf(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function lc(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-pi(e),t[e]=n}function lx(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-pi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function o0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-pi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var Pt=0;function B2(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var U2,l0,q2,$2,W2,Kp=!1,cd=[],Ws=null,Hs=null,Vs=null,Du=new Map,Fu=new Map,Ds=[],ux="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Vg(t,e){switch(t){case"focusin":case"focusout":Ws=null;break;case"dragenter":case"dragleave":Hs=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Du.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Fu.delete(e.pointerId)}}function ru(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=cc(e),e!==null&&l0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function cx(t,e,n,r,i){switch(e){case"focusin":return Ws=ru(Ws,t,e,n,r,i),!0;case"dragenter":return Hs=ru(Hs,t,e,n,r,i),!0;case"mouseover":return Vs=ru(Vs,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Du.set(s,ru(Du.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Fu.set(s,ru(Fu.get(s)||null,t,e,n,r,i)),!0}return!1}function H2(t){var e=Ea(t.target);if(e!==null){var n=Ja(e);if(n!==null){if(e=n.tag,e===13){if(e=R2(n),e!==null){t.blockedOn=e,W2(t.priority,function(){q2(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Rd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Yp(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);$p=r,n.target.dispatchEvent(r),$p=null}else return e=cc(n),e!==null&&l0(e),t.blockedOn=n,!1;e.shift()}return!0}function Gg(t,e,n){Rd(t)&&n.delete(e)}function dx(){Kp=!1,Ws!==null&&Rd(Ws)&&(Ws=null),Hs!==null&&Rd(Hs)&&(Hs=null),Vs!==null&&Rd(Vs)&&(Vs=null),Du.forEach(Gg),Fu.forEach(Gg)}function iu(t,e){t.blockedOn===e&&(t.blockedOn=null,Kp||(Kp=!0,jr.unstable_scheduleCallback(jr.unstable_NormalPriority,dx)))}function Mu(t){function e(i){return iu(i,t)}if(0<cd.length){iu(cd[0],t);for(var n=1;n<cd.length;n++){var r=cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ws!==null&&iu(Ws,t),Hs!==null&&iu(Hs,t),Vs!==null&&iu(Vs,t),Du.forEach(e),Fu.forEach(e),n=0;n<Ds.length;n++)r=Ds[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Ds.length&&(n=Ds[0],n.blockedOn===null);)H2(n),n.blockedOn===null&&Ds.shift()}var al=ds.ReactCurrentBatchConfig,Kd=!0;function hx(t,e,n,r){var i=Pt,s=al.transition;al.transition=null;try{Pt=1,u0(t,e,n,r)}finally{Pt=i,al.transition=s}}function fx(t,e,n,r){var i=Pt,s=al.transition;al.transition=null;try{Pt=4,u0(t,e,n,r)}finally{Pt=i,al.transition=s}}function u0(t,e,n,r){if(Kd){var i=Yp(t,e,n,r);if(i===null)ep(t,e,r,Yd,n),Vg(t,r);else if(cx(i,t,e,n,r))r.stopPropagation();else if(Vg(t,r),e&4&&-1<ux.indexOf(t)){for(;i!==null;){var s=cc(i);if(s!==null&&U2(s),s=Yp(t,e,n,r),s===null&&ep(t,e,r,Yd,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else ep(t,e,r,null,n)}}var Yd=null;function Yp(t,e,n,r){if(Yd=null,t=s0(r),t=Ea(t),t!==null)if(e=Ja(t),e===null)t=null;else if(n=e.tag,n===13){if(t=R2(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Yd=t,null}function V2(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ex()){case a0:return 1;case F2:return 4;case Vd:case tx:return 16;case M2:return 536870912;default:return 16}default:return 16}}var Bs=null,c0=null,Id=null;function G2(){if(Id)return Id;var t,e=c0,n=e.length,r,i="value"in Bs?Bs.value:Bs.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Id=i.slice(t,1<r?1-r:void 0)}function Od(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function Kg(){return!1}function Er(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dd:Kg,this.isPropagationStopped=Kg,this}return Vt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},d0=Er(wl),uc=Vt({},wl,{view:0,detail:0}),px=Er(uc),Hf,Vf,su,kh=Vt({},uc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:h0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==su&&(su&&t.type==="mousemove"?(Hf=t.screenX-su.screenX,Vf=t.screenY-su.screenY):Vf=Hf=0,su=t),Hf)},movementY:function(t){return"movementY"in t?t.movementY:Vf}}),Yg=Er(kh),mx=Vt({},kh,{dataTransfer:0}),gx=Er(mx),vx=Vt({},uc,{relatedTarget:0}),Gf=Er(vx),yx=Vt({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),wx=Er(yx),bx=Vt({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),xx=Er(bx),_x=Vt({},wl,{data:0}),Jg=Er(_x),Sx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ax(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nx[t])?!!e[t]:!1}function h0(){return Ax}var Px=Vt({},uc,{key:function(t){if(t.key){var e=Sx[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Od(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kx[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:h0,charCode:function(t){return t.type==="keypress"?Od(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Od(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),jx=Er(Px),Cx=Vt({},kh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qg=Er(Cx),Ex=Vt({},uc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:h0}),Lx=Er(Ex),Tx=Vt({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),Rx=Er(Tx),Ix=Vt({},kh,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ox=Er(Ix),Dx=[9,13,27,32],f0=os&&"CompositionEvent"in window,wu=null;os&&"documentMode"in document&&(wu=document.documentMode);var Fx=os&&"TextEvent"in window&&!wu,K2=os&&(!f0||wu&&8<wu&&11>=wu),Xg=" ",Zg=!1;function Y2(t,e){switch(t){case"keyup":return Dx.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function J2(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Vo=!1;function Mx(t,e){switch(t){case"compositionend":return J2(e);case"keypress":return e.which!==32?null:(Zg=!0,Xg);case"textInput":return t=e.data,t===Xg&&Zg?null:t;default:return null}}function zx(t,e){if(Vo)return t==="compositionend"||!f0&&Y2(t,e)?(t=G2(),Id=c0=Bs=null,Vo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return K2&&e.locale!=="ko"?null:e.data;default:return null}}var Bx={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function e1(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Bx[t.type]:e==="textarea"}function Q2(t,e,n,r){j2(r),e=Jd(e,"onChange"),0<e.length&&(n=new d0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var bu=null,zu=null;function Ux(t){ly(t,0)}function Nh(t){var e=Yo(t);if(x2(e))return t}function qx(t,e){if(t==="change")return e}var X2=!1;if(os){var Kf;if(os){var Yf="oninput"in document;if(!Yf){var t1=document.createElement("div");t1.setAttribute("oninput","return;"),Yf=typeof t1.oninput=="function"}Kf=Yf}else Kf=!1;X2=Kf&&(!document.documentMode||9<document.documentMode)}function n1(){bu&&(bu.detachEvent("onpropertychange",Z2),zu=bu=null)}function Z2(t){if(t.propertyName==="value"&&Nh(zu)){var e=[];Q2(e,zu,t,s0(t)),T2(Ux,e)}}function $x(t,e,n){t==="focusin"?(n1(),bu=e,zu=n,bu.attachEvent("onpropertychange",Z2)):t==="focusout"&&n1()}function Wx(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Nh(zu)}function Hx(t,e){if(t==="click")return Nh(e)}function Vx(t,e){if(t==="input"||t==="change")return Nh(e)}function Gx(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var gi=typeof Object.is=="function"?Object.is:Gx;function Bu(t,e){if(gi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!Lp.call(e,i)||!gi(t[i],e[i]))return!1}return!0}function r1(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function i1(t,e){var n=r1(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=r1(n)}}function ey(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ey(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ty(){for(var t=window,e=$d();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=$d(t.document)}return e}function p0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Kx(t){var e=ty(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ey(n.ownerDocument.documentElement,n)){if(r!==null&&p0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=i1(n,s);var a=i1(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Yx=os&&"documentMode"in document&&11>=document.documentMode,Go=null,Jp=null,xu=null,Qp=!1;function s1(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Qp||Go==null||Go!==$d(r)||(r=Go,"selectionStart"in r&&p0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),xu&&Bu(xu,r)||(xu=r,r=Jd(Jp,"onSelect"),0<r.length&&(e=new d0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Go)))}function hd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ko={animationend:hd("Animation","AnimationEnd"),animationiteration:hd("Animation","AnimationIteration"),animationstart:hd("Animation","AnimationStart"),transitionend:hd("Transition","TransitionEnd")},Jf={},ny={};os&&(ny=document.createElement("div").style,"AnimationEvent"in window||(delete Ko.animationend.animation,delete Ko.animationiteration.animation,delete Ko.animationstart.animation),"TransitionEvent"in window||delete Ko.transitionend.transition);function Ah(t){if(Jf[t])return Jf[t];if(!Ko[t])return t;var e=Ko[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in ny)return Jf[t]=e[n];return t}var ry=Ah("animationend"),iy=Ah("animationiteration"),sy=Ah("animationstart"),ay=Ah("transitionend"),oy=new Map,a1="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ia(t,e){oy.set(t,e),Ya(e,[t])}for(var Qf=0;Qf<a1.length;Qf++){var Xf=a1[Qf],Jx=Xf.toLowerCase(),Qx=Xf[0].toUpperCase()+Xf.slice(1);ia(Jx,"on"+Qx)}ia(ry,"onAnimationEnd");ia(iy,"onAnimationIteration");ia(sy,"onAnimationStart");ia("dblclick","onDoubleClick");ia("focusin","onFocus");ia("focusout","onBlur");ia(ay,"onTransitionEnd");dl("onMouseEnter",["mouseout","mouseover"]);dl("onMouseLeave",["mouseout","mouseover"]);dl("onPointerEnter",["pointerout","pointerover"]);dl("onPointerLeave",["pointerout","pointerover"]);Ya("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ya("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ya("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ya("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ya("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var mu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Xx=new Set("cancel close invalid load scroll toggle".split(" ").concat(mu));function o1(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Jb(r,e,void 0,t),t.currentTarget=null}function ly(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;o1(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;o1(i,o,c),s=l}}}if(Hd)throw t=Vp,Hd=!1,Vp=null,t}function Ft(t,e){var n=e[nm];n===void 0&&(n=e[nm]=new Set);var r=t+"__bubble";n.has(r)||(uy(e,t,2,!1),n.add(r))}function Zf(t,e,n){var r=0;e&&(r|=4),uy(n,t,r,e)}var fd="_reactListening"+Math.random().toString(36).slice(2);function Uu(t){if(!t[fd]){t[fd]=!0,g2.forEach(function(n){n!=="selectionchange"&&(Xx.has(n)||Zf(n,!1,t),Zf(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fd]||(e[fd]=!0,Zf("selectionchange",!1,e))}}function uy(t,e,n,r){switch(V2(e)){case 1:var i=hx;break;case 4:i=fx;break;default:i=u0}n=i.bind(null,e,n,t),i=void 0,!Hp||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function ep(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ea(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}T2(function(){var c=s,m=s0(n),f=[];e:{var y=oy.get(t);if(y!==void 0){var h=d0,k=t;switch(t){case"keypress":if(Od(n)===0)break e;case"keydown":case"keyup":h=jx;break;case"focusin":k="focus",h=Gf;break;case"focusout":k="blur",h=Gf;break;case"beforeblur":case"afterblur":h=Gf;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":h=Yg;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":h=gx;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":h=Lx;break;case ry:case iy:case sy:h=wx;break;case ay:h=Rx;break;case"scroll":h=px;break;case"wheel":h=Ox;break;case"copy":case"cut":case"paste":h=xx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":h=Qg}var S=(e&4)!==0,_=!S&&t==="scroll",b=S?y!==null?y+"Capture":null:y;S=[];for(var p=c,w;p!==null;){w=p;var N=w.stateNode;if(w.tag===5&&N!==null&&(w=N,b!==null&&(N=Ou(p,b),N!=null&&S.push(qu(p,N,w)))),_)break;p=p.return}0<S.length&&(y=new h(y,k,null,n,m),f.push({event:y,listeners:S}))}}if(!(e&7)){e:{if(y=t==="mouseover"||t==="pointerover",h=t==="mouseout"||t==="pointerout",y&&n!==$p&&(k=n.relatedTarget||n.fromElement)&&(Ea(k)||k[ls]))break e;if((h||y)&&(y=m.window===m?m:(y=m.ownerDocument)?y.defaultView||y.parentWindow:window,h?(k=n.relatedTarget||n.toElement,h=c,k=k?Ea(k):null,k!==null&&(_=Ja(k),k!==_||k.tag!==5&&k.tag!==6)&&(k=null)):(h=null,k=c),h!==k)){if(S=Yg,N="onMouseLeave",b="onMouseEnter",p="mouse",(t==="pointerout"||t==="pointerover")&&(S=Qg,N="onPointerLeave",b="onPointerEnter",p="pointer"),_=h==null?y:Yo(h),w=k==null?y:Yo(k),y=new S(N,p+"leave",h,n,m),y.target=_,y.relatedTarget=w,N=null,Ea(m)===c&&(S=new S(b,p+"enter",k,n,m),S.target=w,S.relatedTarget=_,N=S),_=N,h&&k)t:{for(S=h,b=k,p=0,w=S;w;w=jo(w))p++;for(w=0,N=b;N;N=jo(N))w++;for(;0<p-w;)S=jo(S),p--;for(;0<w-p;)b=jo(b),w--;for(;p--;){if(S===b||b!==null&&S===b.alternate)break t;S=jo(S),b=jo(b)}S=null}else S=null;h!==null&&l1(f,y,h,S,!1),k!==null&&_!==null&&l1(f,_,k,S,!0)}}e:{if(y=c?Yo(c):window,h=y.nodeName&&y.nodeName.toLowerCase(),h==="select"||h==="input"&&y.type==="file")var F=qx;else if(e1(y))if(X2)F=Vx;else{F=Wx;var q=$x}else(h=y.nodeName)&&h.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(F=Hx);if(F&&(F=F(t,c))){Q2(f,F,n,m);break e}q&&q(t,y,c),t==="focusout"&&(q=y._wrapperState)&&q.controlled&&y.type==="number"&&Mp(y,"number",y.value)}switch(q=c?Yo(c):window,t){case"focusin":(e1(q)||q.contentEditable==="true")&&(Go=q,Jp=c,xu=null);break;case"focusout":xu=Jp=Go=null;break;case"mousedown":Qp=!0;break;case"contextmenu":case"mouseup":case"dragend":Qp=!1,s1(f,n,m);break;case"selectionchange":if(Yx)break;case"keydown":case"keyup":s1(f,n,m)}var L;if(f0)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else Vo?Y2(t,n)&&(E="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(E="onCompositionStart");E&&(K2&&n.locale!=="ko"&&(Vo||E!=="onCompositionStart"?E==="onCompositionEnd"&&Vo&&(L=G2()):(Bs=m,c0="value"in Bs?Bs.value:Bs.textContent,Vo=!0)),q=Jd(c,E),0<q.length&&(E=new Jg(E,t,null,n,m),f.push({event:E,listeners:q}),L?E.data=L:(L=J2(n),L!==null&&(E.data=L)))),(L=Fx?Mx(t,n):zx(t,n))&&(c=Jd(c,"onBeforeInput"),0<c.length&&(m=new Jg("onBeforeInput","beforeinput",null,n,m),f.push({event:m,listeners:c}),m.data=L))}ly(f,e)})}function qu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Jd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ou(t,n),s!=null&&r.unshift(qu(t,s,i)),s=Ou(t,e),s!=null&&r.push(qu(t,s,i))),t=t.return}return r}function jo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function l1(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Ou(n,s),l!=null&&a.unshift(qu(n,l,o))):i||(l=Ou(n,s),l!=null&&a.push(qu(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Zx=/\r\n?/g,e4=/\u0000|\uFFFD/g;function u1(t){return(typeof t=="string"?t:""+t).replace(Zx,`
`).replace(e4,"")}function pd(t,e,n){if(e=u1(e),u1(t)!==e&&n)throw Error(Pe(425))}function Qd(){}var Xp=null,Zp=null;function em(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tm=typeof setTimeout=="function"?setTimeout:void 0,t4=typeof clearTimeout=="function"?clearTimeout:void 0,c1=typeof Promise=="function"?Promise:void 0,n4=typeof queueMicrotask=="function"?queueMicrotask:typeof c1<"u"?function(t){return c1.resolve(null).then(t).catch(r4)}:tm;function r4(t){setTimeout(function(){throw t})}function tp(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Mu(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Mu(e)}function Gs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function d1(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var bl=Math.random().toString(36).slice(2),Ri="__reactFiber$"+bl,$u="__reactProps$"+bl,ls="__reactContainer$"+bl,nm="__reactEvents$"+bl,i4="__reactListeners$"+bl,s4="__reactHandles$"+bl;function Ea(t){var e=t[Ri];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ls]||n[Ri]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=d1(t);t!==null;){if(n=t[Ri])return n;t=d1(t)}return e}t=n,n=t.parentNode}return null}function cc(t){return t=t[Ri]||t[ls],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Yo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Pe(33))}function Ph(t){return t[$u]||null}var rm=[],Jo=-1;function sa(t){return{current:t}}function zt(t){0>Jo||(t.current=rm[Jo],rm[Jo]=null,Jo--)}function Dt(t,e){Jo++,rm[Jo]=t.current,t.current=e}var ta={},Kn=sa(ta),dr=sa(!1),qa=ta;function hl(t,e){var n=t.type.contextTypes;if(!n)return ta;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function hr(t){return t=t.childContextTypes,t!=null}function Xd(){zt(dr),zt(Kn)}function h1(t,e,n){if(Kn.current!==ta)throw Error(Pe(168));Dt(Kn,e),Dt(dr,n)}function cy(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(Pe(108,$b(t)||"Unknown",i));return Vt({},n,r)}function Zd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ta,qa=Kn.current,Dt(Kn,t),Dt(dr,dr.current),!0}function f1(t,e,n){var r=t.stateNode;if(!r)throw Error(Pe(169));n?(t=cy(t,e,qa),r.__reactInternalMemoizedMergedChildContext=t,zt(dr),zt(Kn),Dt(Kn,t)):zt(dr),Dt(dr,n)}var ns=null,jh=!1,np=!1;function dy(t){ns===null?ns=[t]:ns.push(t)}function a4(t){jh=!0,dy(t)}function aa(){if(!np&&ns!==null){np=!0;var t=0,e=Pt;try{var n=ns;for(Pt=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ns=null,jh=!1}catch(i){throw ns!==null&&(ns=ns.slice(t+1)),D2(a0,aa),i}finally{Pt=e,np=!1}}return null}var Qo=[],Xo=0,eh=null,th=0,zr=[],Br=0,$a=null,is=1,ss="";function Sa(t,e){Qo[Xo++]=th,Qo[Xo++]=eh,eh=t,th=e}function hy(t,e,n){zr[Br++]=is,zr[Br++]=ss,zr[Br++]=$a,$a=t;var r=is;t=ss;var i=32-pi(r)-1;r&=~(1<<i),n+=1;var s=32-pi(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,is=1<<32-pi(e)+i|n<<i|r,ss=s+t}else is=1<<s|n<<i|r,ss=t}function m0(t){t.return!==null&&(Sa(t,1),hy(t,1,0))}function g0(t){for(;t===eh;)eh=Qo[--Xo],Qo[Xo]=null,th=Qo[--Xo],Qo[Xo]=null;for(;t===$a;)$a=zr[--Br],zr[Br]=null,ss=zr[--Br],zr[Br]=null,is=zr[--Br],zr[Br]=null}var Pr=null,Nr=null,Ut=!1,fi=null;function fy(t,e){var n=Ur(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function p1(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Pr=t,Nr=Gs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Pr=t,Nr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=$a!==null?{id:is,overflow:ss}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ur(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Pr=t,Nr=null,!0):!1;default:return!1}}function im(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sm(t){if(Ut){var e=Nr;if(e){var n=e;if(!p1(t,e)){if(im(t))throw Error(Pe(418));e=Gs(n.nextSibling);var r=Pr;e&&p1(t,e)?fy(r,n):(t.flags=t.flags&-4097|2,Ut=!1,Pr=t)}}else{if(im(t))throw Error(Pe(418));t.flags=t.flags&-4097|2,Ut=!1,Pr=t}}}function m1(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Pr=t}function md(t){if(t!==Pr)return!1;if(!Ut)return m1(t),Ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!em(t.type,t.memoizedProps)),e&&(e=Nr)){if(im(t))throw py(),Error(Pe(418));for(;e;)fy(t,e),e=Gs(e.nextSibling)}if(m1(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Pe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Nr=Gs(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Nr=null}}else Nr=Pr?Gs(t.stateNode.nextSibling):null;return!0}function py(){for(var t=Nr;t;)t=Gs(t.nextSibling)}function fl(){Nr=Pr=null,Ut=!1}function v0(t){fi===null?fi=[t]:fi.push(t)}var o4=ds.ReactCurrentBatchConfig;function au(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(Pe(309));var r=n.stateNode}if(!r)throw Error(Pe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Pe(284));if(!n._owner)throw Error(Pe(290,t))}return t}function gd(t,e){throw t=Object.prototype.toString.call(e),Error(Pe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function g1(t){var e=t._init;return e(t._payload)}function my(t){function e(b,p){if(t){var w=b.deletions;w===null?(b.deletions=[p],b.flags|=16):w.push(p)}}function n(b,p){if(!t)return null;for(;p!==null;)e(b,p),p=p.sibling;return null}function r(b,p){for(b=new Map;p!==null;)p.key!==null?b.set(p.key,p):b.set(p.index,p),p=p.sibling;return b}function i(b,p){return b=Qs(b,p),b.index=0,b.sibling=null,b}function s(b,p,w){return b.index=w,t?(w=b.alternate,w!==null?(w=w.index,w<p?(b.flags|=2,p):w):(b.flags|=2,p)):(b.flags|=1048576,p)}function a(b){return t&&b.alternate===null&&(b.flags|=2),b}function o(b,p,w,N){return p===null||p.tag!==6?(p=up(w,b.mode,N),p.return=b,p):(p=i(p,w),p.return=b,p)}function l(b,p,w,N){var F=w.type;return F===Ho?m(b,p,w.props.children,N,w.key):p!==null&&(p.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Rs&&g1(F)===p.type)?(N=i(p,w.props),N.ref=au(b,p,w),N.return=b,N):(N=qd(w.type,w.key,w.props,null,b.mode,N),N.ref=au(b,p,w),N.return=b,N)}function c(b,p,w,N){return p===null||p.tag!==4||p.stateNode.containerInfo!==w.containerInfo||p.stateNode.implementation!==w.implementation?(p=cp(w,b.mode,N),p.return=b,p):(p=i(p,w.children||[]),p.return=b,p)}function m(b,p,w,N,F){return p===null||p.tag!==7?(p=Da(w,b.mode,N,F),p.return=b,p):(p=i(p,w),p.return=b,p)}function f(b,p,w){if(typeof p=="string"&&p!==""||typeof p=="number")return p=up(""+p,b.mode,w),p.return=b,p;if(typeof p=="object"&&p!==null){switch(p.$$typeof){case sd:return w=qd(p.type,p.key,p.props,null,b.mode,w),w.ref=au(b,null,p),w.return=b,w;case Wo:return p=cp(p,b.mode,w),p.return=b,p;case Rs:var N=p._init;return f(b,N(p._payload),w)}if(fu(p)||tu(p))return p=Da(p,b.mode,w,null),p.return=b,p;gd(b,p)}return null}function y(b,p,w,N){var F=p!==null?p.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return F!==null?null:o(b,p,""+w,N);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case sd:return w.key===F?l(b,p,w,N):null;case Wo:return w.key===F?c(b,p,w,N):null;case Rs:return F=w._init,y(b,p,F(w._payload),N)}if(fu(w)||tu(w))return F!==null?null:m(b,p,w,N,null);gd(b,w)}return null}function h(b,p,w,N,F){if(typeof N=="string"&&N!==""||typeof N=="number")return b=b.get(w)||null,o(p,b,""+N,F);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case sd:return b=b.get(N.key===null?w:N.key)||null,l(p,b,N,F);case Wo:return b=b.get(N.key===null?w:N.key)||null,c(p,b,N,F);case Rs:var q=N._init;return h(b,p,w,q(N._payload),F)}if(fu(N)||tu(N))return b=b.get(w)||null,m(p,b,N,F,null);gd(p,N)}return null}function k(b,p,w,N){for(var F=null,q=null,L=p,E=p=0,V=null;L!==null&&E<w.length;E++){L.index>E?(V=L,L=null):V=L.sibling;var X=y(b,L,w[E],N);if(X===null){L===null&&(L=V);break}t&&L&&X.alternate===null&&e(b,L),p=s(X,p,E),q===null?F=X:q.sibling=X,q=X,L=V}if(E===w.length)return n(b,L),Ut&&Sa(b,E),F;if(L===null){for(;E<w.length;E++)L=f(b,w[E],N),L!==null&&(p=s(L,p,E),q===null?F=L:q.sibling=L,q=L);return Ut&&Sa(b,E),F}for(L=r(b,L);E<w.length;E++)V=h(L,b,E,w[E],N),V!==null&&(t&&V.alternate!==null&&L.delete(V.key===null?E:V.key),p=s(V,p,E),q===null?F=V:q.sibling=V,q=V);return t&&L.forEach(function(T){return e(b,T)}),Ut&&Sa(b,E),F}function S(b,p,w,N){var F=tu(w);if(typeof F!="function")throw Error(Pe(150));if(w=F.call(w),w==null)throw Error(Pe(151));for(var q=F=null,L=p,E=p=0,V=null,X=w.next();L!==null&&!X.done;E++,X=w.next()){L.index>E?(V=L,L=null):V=L.sibling;var T=y(b,L,X.value,N);if(T===null){L===null&&(L=V);break}t&&L&&T.alternate===null&&e(b,L),p=s(T,p,E),q===null?F=T:q.sibling=T,q=T,L=V}if(X.done)return n(b,L),Ut&&Sa(b,E),F;if(L===null){for(;!X.done;E++,X=w.next())X=f(b,X.value,N),X!==null&&(p=s(X,p,E),q===null?F=X:q.sibling=X,q=X);return Ut&&Sa(b,E),F}for(L=r(b,L);!X.done;E++,X=w.next())X=h(L,b,E,X.value,N),X!==null&&(t&&X.alternate!==null&&L.delete(X.key===null?E:X.key),p=s(X,p,E),q===null?F=X:q.sibling=X,q=X);return t&&L.forEach(function(C){return e(b,C)}),Ut&&Sa(b,E),F}function _(b,p,w,N){if(typeof w=="object"&&w!==null&&w.type===Ho&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case sd:e:{for(var F=w.key,q=p;q!==null;){if(q.key===F){if(F=w.type,F===Ho){if(q.tag===7){n(b,q.sibling),p=i(q,w.props.children),p.return=b,b=p;break e}}else if(q.elementType===F||typeof F=="object"&&F!==null&&F.$$typeof===Rs&&g1(F)===q.type){n(b,q.sibling),p=i(q,w.props),p.ref=au(b,q,w),p.return=b,b=p;break e}n(b,q);break}else e(b,q);q=q.sibling}w.type===Ho?(p=Da(w.props.children,b.mode,N,w.key),p.return=b,b=p):(N=qd(w.type,w.key,w.props,null,b.mode,N),N.ref=au(b,p,w),N.return=b,b=N)}return a(b);case Wo:e:{for(q=w.key;p!==null;){if(p.key===q)if(p.tag===4&&p.stateNode.containerInfo===w.containerInfo&&p.stateNode.implementation===w.implementation){n(b,p.sibling),p=i(p,w.children||[]),p.return=b,b=p;break e}else{n(b,p);break}else e(b,p);p=p.sibling}p=cp(w,b.mode,N),p.return=b,b=p}return a(b);case Rs:return q=w._init,_(b,p,q(w._payload),N)}if(fu(w))return k(b,p,w,N);if(tu(w))return S(b,p,w,N);gd(b,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,p!==null&&p.tag===6?(n(b,p.sibling),p=i(p,w),p.return=b,b=p):(n(b,p),p=up(w,b.mode,N),p.return=b,b=p),a(b)):n(b,p)}return _}var pl=my(!0),gy=my(!1),nh=sa(null),rh=null,Zo=null,y0=null;function w0(){y0=Zo=rh=null}function b0(t){var e=nh.current;zt(nh),t._currentValue=e}function am(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ol(t,e){rh=t,y0=Zo=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(cr=!0),t.firstContext=null)}function Wr(t){var e=t._currentValue;if(y0!==t)if(t={context:t,memoizedValue:e,next:null},Zo===null){if(rh===null)throw Error(Pe(308));Zo=t,rh.dependencies={lanes:0,firstContext:t}}else Zo=Zo.next=t;return e}var La=null;function x0(t){La===null?La=[t]:La.push(t)}function vy(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,x0(e)):(n.next=i.next,i.next=n),e.interleaved=n,us(t,r)}function us(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Is=!1;function _0(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function yy(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function as(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,vt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,us(t,n)}return i=r.interleaved,i===null?(e.next=e,x0(r)):(e.next=i.next,i.next=e),r.interleaved=e,us(t,n)}function Dd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o0(t,n)}}function v1(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ih(t,e,n,r){var i=t.updateQueue;Is=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var m=t.alternate;m!==null&&(m=m.updateQueue,o=m.lastBaseUpdate,o!==a&&(o===null?m.firstBaseUpdate=c:o.next=c,m.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,m=c=l=null,o=s;do{var y=o.lane,h=o.eventTime;if((r&y)===y){m!==null&&(m=m.next={eventTime:h,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var k=t,S=o;switch(y=e,h=n,S.tag){case 1:if(k=S.payload,typeof k=="function"){f=k.call(h,f,y);break e}f=k;break e;case 3:k.flags=k.flags&-65537|128;case 0:if(k=S.payload,y=typeof k=="function"?k.call(h,f,y):k,y==null)break e;f=Vt({},f,y);break e;case 2:Is=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,y=i.effects,y===null?i.effects=[o]:y.push(o))}else h={eventTime:h,lane:y,tag:o.tag,payload:o.payload,callback:o.callback,next:null},m===null?(c=m=h,l=f):m=m.next=h,a|=y;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;y=o,o=y.next,y.next=null,i.lastBaseUpdate=y,i.shared.pending=null}}while(!0);if(m===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Ha|=a,t.lanes=a,t.memoizedState=f}}function y1(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(Pe(191,i));i.call(r)}}}var dc={},Mi=sa(dc),Wu=sa(dc),Hu=sa(dc);function Ta(t){if(t===dc)throw Error(Pe(174));return t}function S0(t,e){switch(Dt(Hu,e),Dt(Wu,t),Dt(Mi,dc),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Bp(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Bp(e,t)}zt(Mi),Dt(Mi,e)}function ml(){zt(Mi),zt(Wu),zt(Hu)}function wy(t){Ta(Hu.current);var e=Ta(Mi.current),n=Bp(e,t.type);e!==n&&(Dt(Wu,t),Dt(Mi,n))}function k0(t){Wu.current===t&&(zt(Mi),zt(Wu))}var Wt=sa(0);function sh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var rp=[];function N0(){for(var t=0;t<rp.length;t++)rp[t]._workInProgressVersionPrimary=null;rp.length=0}var Fd=ds.ReactCurrentDispatcher,ip=ds.ReactCurrentBatchConfig,Wa=0,Ht=null,yn=null,Nn=null,ah=!1,_u=!1,Vu=0,l4=0;function Bn(){throw Error(Pe(321))}function A0(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!gi(t[n],e[n]))return!1;return!0}function P0(t,e,n,r,i,s){if(Wa=s,Ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Fd.current=t===null||t.memoizedState===null?h4:f4,t=n(r,i),_u){s=0;do{if(_u=!1,Vu=0,25<=s)throw Error(Pe(301));s+=1,Nn=yn=null,e.updateQueue=null,Fd.current=p4,t=n(r,i)}while(_u)}if(Fd.current=oh,e=yn!==null&&yn.next!==null,Wa=0,Nn=yn=Ht=null,ah=!1,e)throw Error(Pe(300));return t}function j0(){var t=Vu!==0;return Vu=0,t}function Ti(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Nn===null?Ht.memoizedState=Nn=t:Nn=Nn.next=t,Nn}function Hr(){if(yn===null){var t=Ht.alternate;t=t!==null?t.memoizedState:null}else t=yn.next;var e=Nn===null?Ht.memoizedState:Nn.next;if(e!==null)Nn=e,yn=t;else{if(t===null)throw Error(Pe(310));yn=t,t={memoizedState:yn.memoizedState,baseState:yn.baseState,baseQueue:yn.baseQueue,queue:yn.queue,next:null},Nn===null?Ht.memoizedState=Nn=t:Nn=Nn.next=t}return Nn}function Gu(t,e){return typeof e=="function"?e(t):e}function sp(t){var e=Hr(),n=e.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=t;var r=yn,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var m=c.lane;if((Wa&m)===m)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:m,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,Ht.lanes|=m,Ha|=m}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,gi(r,e.memoizedState)||(cr=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ht.lanes|=s,Ha|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function ap(t){var e=Hr(),n=e.queue;if(n===null)throw Error(Pe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);gi(s,e.memoizedState)||(cr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function by(){}function xy(t,e){var n=Ht,r=Hr(),i=e(),s=!gi(r.memoizedState,i);if(s&&(r.memoizedState=i,cr=!0),r=r.queue,C0(ky.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Nn!==null&&Nn.memoizedState.tag&1){if(n.flags|=2048,Ku(9,Sy.bind(null,n,r,i,e),void 0,null),An===null)throw Error(Pe(349));Wa&30||_y(n,e,i)}return i}function _y(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Sy(t,e,n,r){e.value=n,e.getSnapshot=r,Ny(e)&&Ay(t)}function ky(t,e,n){return n(function(){Ny(e)&&Ay(t)})}function Ny(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!gi(t,n)}catch{return!0}}function Ay(t){var e=us(t,1);e!==null&&mi(e,t,1,-1)}function w1(t){var e=Ti();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gu,lastRenderedState:t},e.queue=t,t=t.dispatch=d4.bind(null,Ht,t),[e.memoizedState,t]}function Ku(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ht.updateQueue,e===null?(e={lastEffect:null,stores:null},Ht.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Py(){return Hr().memoizedState}function Md(t,e,n,r){var i=Ti();Ht.flags|=t,i.memoizedState=Ku(1|e,n,void 0,r===void 0?null:r)}function Ch(t,e,n,r){var i=Hr();r=r===void 0?null:r;var s=void 0;if(yn!==null){var a=yn.memoizedState;if(s=a.destroy,r!==null&&A0(r,a.deps)){i.memoizedState=Ku(e,n,s,r);return}}Ht.flags|=t,i.memoizedState=Ku(1|e,n,s,r)}function b1(t,e){return Md(8390656,8,t,e)}function C0(t,e){return Ch(2048,8,t,e)}function jy(t,e){return Ch(4,2,t,e)}function Cy(t,e){return Ch(4,4,t,e)}function Ey(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ly(t,e,n){return n=n!=null?n.concat([t]):null,Ch(4,4,Ey.bind(null,e,t),n)}function E0(){}function Ty(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Ry(t,e){var n=Hr();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&A0(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function Iy(t,e,n){return Wa&21?(gi(n,e)||(n=z2(),Ht.lanes|=n,Ha|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,cr=!0),t.memoizedState=n)}function u4(t,e){var n=Pt;Pt=n!==0&&4>n?n:4,t(!0);var r=ip.transition;ip.transition={};try{t(!1),e()}finally{Pt=n,ip.transition=r}}function Oy(){return Hr().memoizedState}function c4(t,e,n){var r=Js(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Dy(t))Fy(e,n);else if(n=vy(t,e,n,r),n!==null){var i=er();mi(n,t,r,i),My(n,e,r)}}function d4(t,e,n){var r=Js(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Dy(t))Fy(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,gi(o,a)){var l=e.interleaved;l===null?(i.next=i,x0(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=vy(t,e,i,r),n!==null&&(i=er(),mi(n,t,r,i),My(n,e,r))}}function Dy(t){var e=t.alternate;return t===Ht||e!==null&&e===Ht}function Fy(t,e){_u=ah=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function My(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,o0(t,n)}}var oh={readContext:Wr,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useInsertionEffect:Bn,useLayoutEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useMutableSource:Bn,useSyncExternalStore:Bn,useId:Bn,unstable_isNewReconciler:!1},h4={readContext:Wr,useCallback:function(t,e){return Ti().memoizedState=[t,e===void 0?null:e],t},useContext:Wr,useEffect:b1,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Md(4194308,4,Ey.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Md(4194308,4,t,e)},useInsertionEffect:function(t,e){return Md(4,2,t,e)},useMemo:function(t,e){var n=Ti();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ti();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=c4.bind(null,Ht,t),[r.memoizedState,t]},useRef:function(t){var e=Ti();return t={current:t},e.memoizedState=t},useState:w1,useDebugValue:E0,useDeferredValue:function(t){return Ti().memoizedState=t},useTransition:function(){var t=w1(!1),e=t[0];return t=u4.bind(null,t[1]),Ti().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ht,i=Ti();if(Ut){if(n===void 0)throw Error(Pe(407));n=n()}else{if(n=e(),An===null)throw Error(Pe(349));Wa&30||_y(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,b1(ky.bind(null,r,s,t),[t]),r.flags|=2048,Ku(9,Sy.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ti(),e=An.identifierPrefix;if(Ut){var n=ss,r=is;n=(r&~(1<<32-pi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Vu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=l4++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},f4={readContext:Wr,useCallback:Ty,useContext:Wr,useEffect:C0,useImperativeHandle:Ly,useInsertionEffect:jy,useLayoutEffect:Cy,useMemo:Ry,useReducer:sp,useRef:Py,useState:function(){return sp(Gu)},useDebugValue:E0,useDeferredValue:function(t){var e=Hr();return Iy(e,yn.memoizedState,t)},useTransition:function(){var t=sp(Gu)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:by,useSyncExternalStore:xy,useId:Oy,unstable_isNewReconciler:!1},p4={readContext:Wr,useCallback:Ty,useContext:Wr,useEffect:C0,useImperativeHandle:Ly,useInsertionEffect:jy,useLayoutEffect:Cy,useMemo:Ry,useReducer:ap,useRef:Py,useState:function(){return ap(Gu)},useDebugValue:E0,useDeferredValue:function(t){var e=Hr();return yn===null?e.memoizedState=t:Iy(e,yn.memoizedState,t)},useTransition:function(){var t=ap(Gu)[0],e=Hr().memoizedState;return[t,e]},useMutableSource:by,useSyncExternalStore:xy,useId:Oy,unstable_isNewReconciler:!1};function li(t,e){if(t&&t.defaultProps){e=Vt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function om(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Vt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Eh={isMounted:function(t){return(t=t._reactInternals)?Ja(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=er(),i=Js(t),s=as(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ks(t,s,i),e!==null&&(mi(e,t,i,r),Dd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=er(),i=Js(t),s=as(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ks(t,s,i),e!==null&&(mi(e,t,i,r),Dd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=er(),r=Js(t),i=as(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ks(t,i,r),e!==null&&(mi(e,t,r,n),Dd(e,t,r))}};function x1(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!Bu(n,r)||!Bu(i,s):!0}function zy(t,e,n){var r=!1,i=ta,s=e.contextType;return typeof s=="object"&&s!==null?s=Wr(s):(i=hr(e)?qa:Kn.current,r=e.contextTypes,s=(r=r!=null)?hl(t,i):ta),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Eh,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _1(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Eh.enqueueReplaceState(e,e.state,null)}function lm(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},_0(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Wr(s):(s=hr(e)?qa:Kn.current,i.context=hl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(om(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Eh.enqueueReplaceState(i,i.state,null),ih(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function gl(t,e){try{var n="",r=e;do n+=qb(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function op(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function um(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var m4=typeof WeakMap=="function"?WeakMap:Map;function By(t,e,n){n=as(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){uh||(uh=!0,wm=r),um(t,e)},n}function Uy(t,e,n){n=as(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){um(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){um(t,e),typeof r!="function"&&(Ys===null?Ys=new Set([this]):Ys.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function S1(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new m4;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=C4.bind(null,t,e,n),e.then(t,t))}function k1(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function N1(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=as(-1,1),e.tag=2,Ks(n,e,1))),n.lanes|=1),t)}var g4=ds.ReactCurrentOwner,cr=!1;function Xn(t,e,n,r){e.child=t===null?gy(e,null,n,r):pl(e,t.child,n,r)}function A1(t,e,n,r,i){n=n.render;var s=e.ref;return ol(e,i),r=P0(t,e,n,r,s,i),n=j0(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(Ut&&n&&m0(e),e.flags|=1,Xn(t,e,r,i),e.child)}function P1(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!M0(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,qy(t,e,s,r,i)):(t=qd(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:Bu,n(a,r)&&t.ref===e.ref)return cs(t,e,i)}return e.flags|=1,t=Qs(s,r),t.ref=e.ref,t.return=e,e.child=t}function qy(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Bu(s,r)&&t.ref===e.ref)if(cr=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(cr=!0);else return e.lanes=t.lanes,cs(t,e,i)}return cm(t,e,n,r,i)}function $y(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Dt(tl,xr),xr|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Dt(tl,xr),xr|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Dt(tl,xr),xr|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,Dt(tl,xr),xr|=r;return Xn(t,e,i,n),e.child}function Wy(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cm(t,e,n,r,i){var s=hr(n)?qa:Kn.current;return s=hl(e,s),ol(e,i),n=P0(t,e,n,r,s,i),r=j0(),t!==null&&!cr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,cs(t,e,i)):(Ut&&r&&m0(e),e.flags|=1,Xn(t,e,n,i),e.child)}function j1(t,e,n,r,i){if(hr(n)){var s=!0;Zd(e)}else s=!1;if(ol(e,i),e.stateNode===null)zd(t,e),zy(e,n,r),lm(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=Wr(c):(c=hr(n)?qa:Kn.current,c=hl(e,c));var m=n.getDerivedStateFromProps,f=typeof m=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&_1(e,a,r,c),Is=!1;var y=e.memoizedState;a.state=y,ih(e,r,a,i),l=e.memoizedState,o!==r||y!==l||dr.current||Is?(typeof m=="function"&&(om(e,n,m,r),l=e.memoizedState),(o=Is||x1(e,n,o,r,y,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,yy(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:li(e.type,o),a.props=c,f=e.pendingProps,y=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=Wr(l):(l=hr(n)?qa:Kn.current,l=hl(e,l));var h=n.getDerivedStateFromProps;(m=typeof h=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||y!==l)&&_1(e,a,r,l),Is=!1,y=e.memoizedState,a.state=y,ih(e,r,a,i);var k=e.memoizedState;o!==f||y!==k||dr.current||Is?(typeof h=="function"&&(om(e,n,h,r),k=e.memoizedState),(c=Is||x1(e,n,c,r,y,k,l)||!1)?(m||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,k,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,k,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=k),a.props=r,a.state=k,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&y===t.memoizedState||(e.flags|=1024),r=!1)}return dm(t,e,n,r,s,i)}function dm(t,e,n,r,i,s){Wy(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&f1(e,n,!1),cs(t,e,s);r=e.stateNode,g4.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=pl(e,t.child,null,s),e.child=pl(e,null,o,s)):Xn(t,e,o,s),e.memoizedState=r.state,i&&f1(e,n,!0),e.child}function Hy(t){var e=t.stateNode;e.pendingContext?h1(t,e.pendingContext,e.pendingContext!==e.context):e.context&&h1(t,e.context,!1),S0(t,e.containerInfo)}function C1(t,e,n,r,i){return fl(),v0(i),e.flags|=256,Xn(t,e,n,r),e.child}var hm={dehydrated:null,treeContext:null,retryLane:0};function fm(t){return{baseLanes:t,cachePool:null,transitions:null}}function Vy(t,e,n){var r=e.pendingProps,i=Wt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Dt(Wt,i&1),t===null)return sm(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Rh(a,r,0,null),t=Da(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=fm(n),e.memoizedState=hm,t):L0(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return v4(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Qs(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Qs(o,s):(s=Da(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?fm(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=hm,r}return s=t.child,t=s.sibling,r=Qs(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function L0(t,e){return e=Rh({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function vd(t,e,n,r){return r!==null&&v0(r),pl(e,t.child,null,n),t=L0(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function v4(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=op(Error(Pe(422))),vd(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Rh({mode:"visible",children:r.children},i,0,null),s=Da(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&pl(e,t.child,null,a),e.child.memoizedState=fm(a),e.memoizedState=hm,s);if(!(e.mode&1))return vd(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(Pe(419)),r=op(s,r,void 0),vd(t,e,a,r)}if(o=(a&t.childLanes)!==0,cr||o){if(r=An,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,us(t,i),mi(r,t,i,-1))}return F0(),r=op(Error(Pe(421))),vd(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=E4.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Nr=Gs(i.nextSibling),Pr=e,Ut=!0,fi=null,t!==null&&(zr[Br++]=is,zr[Br++]=ss,zr[Br++]=$a,is=t.id,ss=t.overflow,$a=e),e=L0(e,r.children),e.flags|=4096,e)}function E1(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),am(t.return,e,n)}function lp(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Gy(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Xn(t,e,r.children,n),r=Wt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&E1(t,n,e);else if(t.tag===19)E1(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Dt(Wt,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&sh(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),lp(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&sh(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}lp(e,!0,n,null,s);break;case"together":lp(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Ha|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Pe(153));if(e.child!==null){for(t=e.child,n=Qs(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Qs(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function y4(t,e,n){switch(e.tag){case 3:Hy(e),fl();break;case 5:wy(e);break;case 1:hr(e.type)&&Zd(e);break;case 4:S0(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Dt(nh,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Dt(Wt,Wt.current&1),e.flags|=128,null):n&e.child.childLanes?Vy(t,e,n):(Dt(Wt,Wt.current&1),t=cs(t,e,n),t!==null?t.sibling:null);Dt(Wt,Wt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Gy(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Dt(Wt,Wt.current),r)break;return null;case 22:case 23:return e.lanes=0,$y(t,e,n)}return cs(t,e,n)}var Ky,pm,Yy,Jy;Ky=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pm=function(){};Yy=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ta(Mi.current);var s=null;switch(n){case"input":i=Dp(t,i),r=Dp(t,r),s=[];break;case"select":i=Vt({},i,{value:void 0}),r=Vt({},r,{value:void 0}),s=[];break;case"textarea":i=zp(t,i),r=zp(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Qd)}Up(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Ru.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Ru.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Ft("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Jy=function(t,e,n,r){n!==r&&(e.flags|=4)};function ou(t,e){if(!Ut)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Un(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function w4(t,e,n){var r=e.pendingProps;switch(g0(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(e),null;case 1:return hr(e.type)&&Xd(),Un(e),null;case 3:return r=e.stateNode,ml(),zt(dr),zt(Kn),N0(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(md(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,fi!==null&&(_m(fi),fi=null))),pm(t,e),Un(e),null;case 5:k0(e);var i=Ta(Hu.current);if(n=e.type,t!==null&&e.stateNode!=null)Yy(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(Pe(166));return Un(e),null}if(t=Ta(Mi.current),md(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ri]=e,r[$u]=s,t=(e.mode&1)!==0,n){case"dialog":Ft("cancel",r),Ft("close",r);break;case"iframe":case"object":case"embed":Ft("load",r);break;case"video":case"audio":for(i=0;i<mu.length;i++)Ft(mu[i],r);break;case"source":Ft("error",r);break;case"img":case"image":case"link":Ft("error",r),Ft("load",r);break;case"details":Ft("toggle",r);break;case"input":zg(r,s),Ft("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Ft("invalid",r);break;case"textarea":Ug(r,s),Ft("invalid",r)}Up(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&pd(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&pd(r.textContent,o,t),i=["children",""+o]):Ru.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Ft("scroll",r)}switch(n){case"input":ad(r),Bg(r,s,!0);break;case"textarea":ad(r),qg(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Qd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=k2(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[Ri]=e,t[$u]=r,Ky(t,e,!1,!1),e.stateNode=t;e:{switch(a=qp(n,r),n){case"dialog":Ft("cancel",t),Ft("close",t),i=r;break;case"iframe":case"object":case"embed":Ft("load",t),i=r;break;case"video":case"audio":for(i=0;i<mu.length;i++)Ft(mu[i],t);i=r;break;case"source":Ft("error",t),i=r;break;case"img":case"image":case"link":Ft("error",t),Ft("load",t),i=r;break;case"details":Ft("toggle",t),i=r;break;case"input":zg(t,r),i=Dp(t,r),Ft("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Vt({},r,{value:void 0}),Ft("invalid",t);break;case"textarea":Ug(t,r),i=zp(t,r),Ft("invalid",t);break;default:i=r}Up(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?P2(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&N2(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Iu(t,l):typeof l=="number"&&Iu(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ru.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Ft("scroll",t):l!=null&&t0(t,s,l,a))}switch(n){case"input":ad(t),Bg(t,r,!1);break;case"textarea":ad(t),qg(t);break;case"option":r.value!=null&&t.setAttribute("value",""+ea(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?rl(t,!!r.multiple,s,!1):r.defaultValue!=null&&rl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Qd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Un(e),null;case 6:if(t&&e.stateNode!=null)Jy(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(Pe(166));if(n=Ta(Hu.current),Ta(Mi.current),md(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ri]=e,(s=r.nodeValue!==n)&&(t=Pr,t!==null))switch(t.tag){case 3:pd(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&pd(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ri]=e,e.stateNode=r}return Un(e),null;case 13:if(zt(Wt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ut&&Nr!==null&&e.mode&1&&!(e.flags&128))py(),fl(),e.flags|=98560,s=!1;else if(s=md(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(Pe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Pe(317));s[Ri]=e}else fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Un(e),s=!1}else fi!==null&&(_m(fi),fi=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Wt.current&1?xn===0&&(xn=3):F0())),e.updateQueue!==null&&(e.flags|=4),Un(e),null);case 4:return ml(),pm(t,e),t===null&&Uu(e.stateNode.containerInfo),Un(e),null;case 10:return b0(e.type._context),Un(e),null;case 17:return hr(e.type)&&Xd(),Un(e),null;case 19:if(zt(Wt),s=e.memoizedState,s===null)return Un(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)ou(s,!1);else{if(xn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=sh(t),a!==null){for(e.flags|=128,ou(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Dt(Wt,Wt.current&1|2),e.child}t=t.sibling}s.tail!==null&&rn()>vl&&(e.flags|=128,r=!0,ou(s,!1),e.lanes=4194304)}else{if(!r)if(t=sh(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ou(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ut)return Un(e),null}else 2*rn()-s.renderingStartTime>vl&&n!==1073741824&&(e.flags|=128,r=!0,ou(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=rn(),e.sibling=null,n=Wt.current,Dt(Wt,r?n&1|2:n&1),e):(Un(e),null);case 22:case 23:return D0(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xr&1073741824&&(Un(e),e.subtreeFlags&6&&(e.flags|=8192)):Un(e),null;case 24:return null;case 25:return null}throw Error(Pe(156,e.tag))}function b4(t,e){switch(g0(e),e.tag){case 1:return hr(e.type)&&Xd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ml(),zt(dr),zt(Kn),N0(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return k0(e),null;case 13:if(zt(Wt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Pe(340));fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return zt(Wt),null;case 4:return ml(),null;case 10:return b0(e.type._context),null;case 22:case 23:return D0(),null;case 24:return null;default:return null}}var yd=!1,Vn=!1,x4=typeof WeakSet=="function"?WeakSet:Set,Be=null;function el(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Zt(t,e,r)}else n.current=null}function mm(t,e,n){try{n()}catch(r){Zt(t,e,r)}}var L1=!1;function _4(t,e){if(Xp=Kd,t=ty(),p0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,m=0,f=t,y=null;t:for(;;){for(var h;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(h=f.firstChild)!==null;)y=f,f=h;for(;;){if(f===t)break t;if(y===n&&++c===i&&(o=a),y===s&&++m===r&&(l=a),(h=f.nextSibling)!==null)break;f=y,y=f.parentNode}f=h}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zp={focusedElem:t,selectionRange:n},Kd=!1,Be=e;Be!==null;)if(e=Be,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Be=t;else for(;Be!==null;){e=Be;try{var k=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(k!==null){var S=k.memoizedProps,_=k.memoizedState,b=e.stateNode,p=b.getSnapshotBeforeUpdate(e.elementType===e.type?S:li(e.type,S),_);b.__reactInternalSnapshotBeforeUpdate=p}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Pe(163))}}catch(N){Zt(e,e.return,N)}if(t=e.sibling,t!==null){t.return=e.return,Be=t;break}Be=e.return}return k=L1,L1=!1,k}function Su(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&mm(e,n,s)}i=i.next}while(i!==r)}}function Lh(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gm(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Qy(t){var e=t.alternate;e!==null&&(t.alternate=null,Qy(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ri],delete e[$u],delete e[nm],delete e[i4],delete e[s4])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Xy(t){return t.tag===5||t.tag===3||t.tag===4}function T1(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Xy(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vm(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Qd));else if(r!==4&&(t=t.child,t!==null))for(vm(t,e,n),t=t.sibling;t!==null;)vm(t,e,n),t=t.sibling}function ym(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(ym(t,e,n),t=t.sibling;t!==null;)ym(t,e,n),t=t.sibling}var In=null,di=!1;function Cs(t,e,n){for(n=n.child;n!==null;)Zy(t,e,n),n=n.sibling}function Zy(t,e,n){if(Fi&&typeof Fi.onCommitFiberUnmount=="function")try{Fi.onCommitFiberUnmount(Sh,n)}catch{}switch(n.tag){case 5:Vn||el(n,e);case 6:var r=In,i=di;In=null,Cs(t,e,n),In=r,di=i,In!==null&&(di?(t=In,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):In.removeChild(n.stateNode));break;case 18:In!==null&&(di?(t=In,n=n.stateNode,t.nodeType===8?tp(t.parentNode,n):t.nodeType===1&&tp(t,n),Mu(t)):tp(In,n.stateNode));break;case 4:r=In,i=di,In=n.stateNode.containerInfo,di=!0,Cs(t,e,n),In=r,di=i;break;case 0:case 11:case 14:case 15:if(!Vn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&mm(n,e,a),i=i.next}while(i!==r)}Cs(t,e,n);break;case 1:if(!Vn&&(el(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){Zt(n,e,o)}Cs(t,e,n);break;case 21:Cs(t,e,n);break;case 22:n.mode&1?(Vn=(r=Vn)||n.memoizedState!==null,Cs(t,e,n),Vn=r):Cs(t,e,n);break;default:Cs(t,e,n)}}function R1(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new x4),e.forEach(function(r){var i=L4.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ii(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:In=o.stateNode,di=!1;break e;case 3:In=o.stateNode.containerInfo,di=!0;break e;case 4:In=o.stateNode.containerInfo,di=!0;break e}o=o.return}if(In===null)throw Error(Pe(160));Zy(s,a,i),In=null,di=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Zt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)e5(e,t),e=e.sibling}function e5(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ii(e,t),Ei(t),r&4){try{Su(3,t,t.return),Lh(3,t)}catch(S){Zt(t,t.return,S)}try{Su(5,t,t.return)}catch(S){Zt(t,t.return,S)}}break;case 1:ii(e,t),Ei(t),r&512&&n!==null&&el(n,n.return);break;case 5:if(ii(e,t),Ei(t),r&512&&n!==null&&el(n,n.return),t.flags&32){var i=t.stateNode;try{Iu(i,"")}catch(S){Zt(t,t.return,S)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&_2(i,s),qp(o,a);var c=qp(o,s);for(a=0;a<l.length;a+=2){var m=l[a],f=l[a+1];m==="style"?P2(i,f):m==="dangerouslySetInnerHTML"?N2(i,f):m==="children"?Iu(i,f):t0(i,m,f,c)}switch(o){case"input":Fp(i,s);break;case"textarea":S2(i,s);break;case"select":var y=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var h=s.value;h!=null?rl(i,!!s.multiple,h,!1):y!==!!s.multiple&&(s.defaultValue!=null?rl(i,!!s.multiple,s.defaultValue,!0):rl(i,!!s.multiple,s.multiple?[]:"",!1))}i[$u]=s}catch(S){Zt(t,t.return,S)}}break;case 6:if(ii(e,t),Ei(t),r&4){if(t.stateNode===null)throw Error(Pe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(S){Zt(t,t.return,S)}}break;case 3:if(ii(e,t),Ei(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Mu(e.containerInfo)}catch(S){Zt(t,t.return,S)}break;case 4:ii(e,t),Ei(t);break;case 13:ii(e,t),Ei(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(I0=rn())),r&4&&R1(t);break;case 22:if(m=n!==null&&n.memoizedState!==null,t.mode&1?(Vn=(c=Vn)||m,ii(e,t),Vn=c):ii(e,t),Ei(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!m&&t.mode&1)for(Be=t,m=t.child;m!==null;){for(f=Be=m;Be!==null;){switch(y=Be,h=y.child,y.tag){case 0:case 11:case 14:case 15:Su(4,y,y.return);break;case 1:el(y,y.return);var k=y.stateNode;if(typeof k.componentWillUnmount=="function"){r=y,n=y.return;try{e=r,k.props=e.memoizedProps,k.state=e.memoizedState,k.componentWillUnmount()}catch(S){Zt(r,n,S)}}break;case 5:el(y,y.return);break;case 22:if(y.memoizedState!==null){O1(f);continue}}h!==null?(h.return=y,Be=h):O1(f)}m=m.sibling}e:for(m=null,f=t;;){if(f.tag===5){if(m===null){m=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=A2("display",a))}catch(S){Zt(t,t.return,S)}}}else if(f.tag===6){if(m===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(S){Zt(t,t.return,S)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;m===f&&(m=null),f=f.return}m===f&&(m=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ii(e,t),Ei(t),r&4&&R1(t);break;case 21:break;default:ii(e,t),Ei(t)}}function Ei(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Xy(n)){var r=n;break e}n=n.return}throw Error(Pe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Iu(i,""),r.flags&=-33);var s=T1(t);ym(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=T1(t);vm(t,o,a);break;default:throw Error(Pe(161))}}catch(l){Zt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function S4(t,e,n){Be=t,t5(t)}function t5(t,e,n){for(var r=(t.mode&1)!==0;Be!==null;){var i=Be,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||yd;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Vn;o=yd;var c=Vn;if(yd=a,(Vn=l)&&!c)for(Be=i;Be!==null;)a=Be,l=a.child,a.tag===22&&a.memoizedState!==null?D1(i):l!==null?(l.return=a,Be=l):D1(i);for(;s!==null;)Be=s,t5(s),s=s.sibling;Be=i,yd=o,Vn=c}I1(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Be=s):I1(t)}}function I1(t){for(;Be!==null;){var e=Be;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Vn||Lh(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Vn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:li(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&y1(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}y1(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var m=c.memoizedState;if(m!==null){var f=m.dehydrated;f!==null&&Mu(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Pe(163))}Vn||e.flags&512&&gm(e)}catch(y){Zt(e,e.return,y)}}if(e===t){Be=null;break}if(n=e.sibling,n!==null){n.return=e.return,Be=n;break}Be=e.return}}function O1(t){for(;Be!==null;){var e=Be;if(e===t){Be=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Be=n;break}Be=e.return}}function D1(t){for(;Be!==null;){var e=Be;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Lh(4,e)}catch(l){Zt(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Zt(e,i,l)}}var s=e.return;try{gm(e)}catch(l){Zt(e,s,l)}break;case 5:var a=e.return;try{gm(e)}catch(l){Zt(e,a,l)}}}catch(l){Zt(e,e.return,l)}if(e===t){Be=null;break}var o=e.sibling;if(o!==null){o.return=e.return,Be=o;break}Be=e.return}}var k4=Math.ceil,lh=ds.ReactCurrentDispatcher,T0=ds.ReactCurrentOwner,qr=ds.ReactCurrentBatchConfig,vt=0,An=null,pn=null,On=0,xr=0,tl=sa(0),xn=0,Yu=null,Ha=0,Th=0,R0=0,ku=null,ur=null,I0=0,vl=1/0,es=null,uh=!1,wm=null,Ys=null,wd=!1,Us=null,ch=0,Nu=0,bm=null,Bd=-1,Ud=0;function er(){return vt&6?rn():Bd!==-1?Bd:Bd=rn()}function Js(t){return t.mode&1?vt&2&&On!==0?On&-On:o4.transition!==null?(Ud===0&&(Ud=z2()),Ud):(t=Pt,t!==0||(t=window.event,t=t===void 0?16:V2(t.type)),t):1}function mi(t,e,n,r){if(50<Nu)throw Nu=0,bm=null,Error(Pe(185));lc(t,n,r),(!(vt&2)||t!==An)&&(t===An&&(!(vt&2)&&(Th|=n),xn===4&&Fs(t,On)),fr(t,r),n===1&&vt===0&&!(e.mode&1)&&(vl=rn()+500,jh&&aa()))}function fr(t,e){var n=t.callbackNode;ox(t,e);var r=Gd(t,t===An?On:0);if(r===0)n!==null&&Hg(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Hg(n),e===1)t.tag===0?a4(F1.bind(null,t)):dy(F1.bind(null,t)),n4(function(){!(vt&6)&&aa()}),n=null;else{switch(B2(r)){case 1:n=a0;break;case 4:n=F2;break;case 16:n=Vd;break;case 536870912:n=M2;break;default:n=Vd}n=u5(n,n5.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function n5(t,e){if(Bd=-1,Ud=0,vt&6)throw Error(Pe(327));var n=t.callbackNode;if(ll()&&t.callbackNode!==n)return null;var r=Gd(t,t===An?On:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=dh(t,r);else{e=r;var i=vt;vt|=2;var s=i5();(An!==t||On!==e)&&(es=null,vl=rn()+500,Oa(t,e));do try{P4();break}catch(o){r5(t,o)}while(!0);w0(),lh.current=s,vt=i,pn!==null?e=0:(An=null,On=0,e=xn)}if(e!==0){if(e===2&&(i=Gp(t),i!==0&&(r=i,e=xm(t,i))),e===1)throw n=Yu,Oa(t,0),Fs(t,r),fr(t,rn()),n;if(e===6)Fs(t,r);else{if(i=t.current.alternate,!(r&30)&&!N4(i)&&(e=dh(t,r),e===2&&(s=Gp(t),s!==0&&(r=s,e=xm(t,s))),e===1))throw n=Yu,Oa(t,0),Fs(t,r),fr(t,rn()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(Pe(345));case 2:ka(t,ur,es);break;case 3:if(Fs(t,r),(r&130023424)===r&&(e=I0+500-rn(),10<e)){if(Gd(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){er(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=tm(ka.bind(null,t,ur,es),e);break}ka(t,ur,es);break;case 4:if(Fs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-pi(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=rn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*k4(r/1960))-r,10<r){t.timeoutHandle=tm(ka.bind(null,t,ur,es),r);break}ka(t,ur,es);break;case 5:ka(t,ur,es);break;default:throw Error(Pe(329))}}}return fr(t,rn()),t.callbackNode===n?n5.bind(null,t):null}function xm(t,e){var n=ku;return t.current.memoizedState.isDehydrated&&(Oa(t,e).flags|=256),t=dh(t,e),t!==2&&(e=ur,ur=n,e!==null&&_m(e)),t}function _m(t){ur===null?ur=t:ur.push.apply(ur,t)}function N4(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!gi(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~R0,e&=~Th,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-pi(e),r=1<<n;t[n]=-1,e&=~r}}function F1(t){if(vt&6)throw Error(Pe(327));ll();var e=Gd(t,0);if(!(e&1))return fr(t,rn()),null;var n=dh(t,e);if(t.tag!==0&&n===2){var r=Gp(t);r!==0&&(e=r,n=xm(t,r))}if(n===1)throw n=Yu,Oa(t,0),Fs(t,e),fr(t,rn()),n;if(n===6)throw Error(Pe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ka(t,ur,es),fr(t,rn()),null}function O0(t,e){var n=vt;vt|=1;try{return t(e)}finally{vt=n,vt===0&&(vl=rn()+500,jh&&aa())}}function Va(t){Us!==null&&Us.tag===0&&!(vt&6)&&ll();var e=vt;vt|=1;var n=qr.transition,r=Pt;try{if(qr.transition=null,Pt=1,t)return t()}finally{Pt=r,qr.transition=n,vt=e,!(vt&6)&&aa()}}function D0(){xr=tl.current,zt(tl)}function Oa(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,t4(n)),pn!==null)for(n=pn.return;n!==null;){var r=n;switch(g0(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Xd();break;case 3:ml(),zt(dr),zt(Kn),N0();break;case 5:k0(r);break;case 4:ml();break;case 13:zt(Wt);break;case 19:zt(Wt);break;case 10:b0(r.type._context);break;case 22:case 23:D0()}n=n.return}if(An=t,pn=t=Qs(t.current,null),On=xr=e,xn=0,Yu=null,R0=Th=Ha=0,ur=ku=null,La!==null){for(e=0;e<La.length;e++)if(n=La[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}La=null}return t}function r5(t,e){do{var n=pn;try{if(w0(),Fd.current=oh,ah){for(var r=Ht.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}ah=!1}if(Wa=0,Nn=yn=Ht=null,_u=!1,Vu=0,T0.current=null,n===null||n.return===null){xn=1,Yu=e,pn=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=On,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,m=o,f=m.tag;if(!(m.mode&1)&&(f===0||f===11||f===15)){var y=m.alternate;y?(m.updateQueue=y.updateQueue,m.memoizedState=y.memoizedState,m.lanes=y.lanes):(m.updateQueue=null,m.memoizedState=null)}var h=k1(a);if(h!==null){h.flags&=-257,N1(h,a,o,s,e),h.mode&1&&S1(s,c,e),e=h,l=c;var k=e.updateQueue;if(k===null){var S=new Set;S.add(l),e.updateQueue=S}else k.add(l);break e}else{if(!(e&1)){S1(s,c,e),F0();break e}l=Error(Pe(426))}}else if(Ut&&o.mode&1){var _=k1(a);if(_!==null){!(_.flags&65536)&&(_.flags|=256),N1(_,a,o,s,e),v0(gl(l,o));break e}}s=l=gl(l,o),xn!==4&&(xn=2),ku===null?ku=[s]:ku.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=By(s,l,e);v1(s,b);break e;case 1:o=l;var p=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof p.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Ys===null||!Ys.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var N=Uy(s,o,e);v1(s,N);break e}}s=s.return}while(s!==null)}a5(n)}catch(F){e=F,pn===n&&n!==null&&(pn=n=n.return);continue}break}while(!0)}function i5(){var t=lh.current;return lh.current=oh,t===null?oh:t}function F0(){(xn===0||xn===3||xn===2)&&(xn=4),An===null||!(Ha&268435455)&&!(Th&268435455)||Fs(An,On)}function dh(t,e){var n=vt;vt|=2;var r=i5();(An!==t||On!==e)&&(es=null,Oa(t,e));do try{A4();break}catch(i){r5(t,i)}while(!0);if(w0(),vt=n,lh.current=r,pn!==null)throw Error(Pe(261));return An=null,On=0,xn}function A4(){for(;pn!==null;)s5(pn)}function P4(){for(;pn!==null&&!Xb();)s5(pn)}function s5(t){var e=l5(t.alternate,t,xr);t.memoizedProps=t.pendingProps,e===null?a5(t):pn=e,T0.current=null}function a5(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=b4(n,e),n!==null){n.flags&=32767,pn=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{xn=6,pn=null;return}}else if(n=w4(n,e,xr),n!==null){pn=n;return}if(e=e.sibling,e!==null){pn=e;return}pn=e=t}while(e!==null);xn===0&&(xn=5)}function ka(t,e,n){var r=Pt,i=qr.transition;try{qr.transition=null,Pt=1,j4(t,e,n,r)}finally{qr.transition=i,Pt=r}return null}function j4(t,e,n,r){do ll();while(Us!==null);if(vt&6)throw Error(Pe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(Pe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(lx(t,s),t===An&&(pn=An=null,On=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||wd||(wd=!0,u5(Vd,function(){return ll(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=qr.transition,qr.transition=null;var a=Pt;Pt=1;var o=vt;vt|=4,T0.current=null,_4(t,n),e5(n,t),Kx(Zp),Kd=!!Xp,Zp=Xp=null,t.current=n,S4(n),Zb(),vt=o,Pt=a,qr.transition=s}else t.current=n;if(wd&&(wd=!1,Us=t,ch=i),s=t.pendingLanes,s===0&&(Ys=null),nx(n.stateNode),fr(t,rn()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(uh)throw uh=!1,t=wm,wm=null,t;return ch&1&&t.tag!==0&&ll(),s=t.pendingLanes,s&1?t===bm?Nu++:(Nu=0,bm=t):Nu=0,aa(),null}function ll(){if(Us!==null){var t=B2(ch),e=qr.transition,n=Pt;try{if(qr.transition=null,Pt=16>t?16:t,Us===null)var r=!1;else{if(t=Us,Us=null,ch=0,vt&6)throw Error(Pe(331));var i=vt;for(vt|=4,Be=t.current;Be!==null;){var s=Be,a=s.child;if(Be.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(Be=c;Be!==null;){var m=Be;switch(m.tag){case 0:case 11:case 15:Su(8,m,s)}var f=m.child;if(f!==null)f.return=m,Be=f;else for(;Be!==null;){m=Be;var y=m.sibling,h=m.return;if(Qy(m),m===c){Be=null;break}if(y!==null){y.return=h,Be=y;break}Be=h}}}var k=s.alternate;if(k!==null){var S=k.child;if(S!==null){k.child=null;do{var _=S.sibling;S.sibling=null,S=_}while(S!==null)}}Be=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,Be=a;else e:for(;Be!==null;){if(s=Be,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Su(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Be=b;break e}Be=s.return}}var p=t.current;for(Be=p;Be!==null;){a=Be;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,Be=w;else e:for(a=p;Be!==null;){if(o=Be,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Lh(9,o)}}catch(F){Zt(o,o.return,F)}if(o===a){Be=null;break e}var N=o.sibling;if(N!==null){N.return=o.return,Be=N;break e}Be=o.return}}if(vt=i,aa(),Fi&&typeof Fi.onPostCommitFiberRoot=="function")try{Fi.onPostCommitFiberRoot(Sh,t)}catch{}r=!0}return r}finally{Pt=n,qr.transition=e}}return!1}function M1(t,e,n){e=gl(n,e),e=By(t,e,1),t=Ks(t,e,1),e=er(),t!==null&&(lc(t,1,e),fr(t,e))}function Zt(t,e,n){if(t.tag===3)M1(t,t,n);else for(;e!==null;){if(e.tag===3){M1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ys===null||!Ys.has(r))){t=gl(n,t),t=Uy(e,t,1),e=Ks(e,t,1),t=er(),e!==null&&(lc(e,1,t),fr(e,t));break}}e=e.return}}function C4(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=er(),t.pingedLanes|=t.suspendedLanes&n,An===t&&(On&n)===n&&(xn===4||xn===3&&(On&130023424)===On&&500>rn()-I0?Oa(t,0):R0|=n),fr(t,e)}function o5(t,e){e===0&&(t.mode&1?(e=ud,ud<<=1,!(ud&130023424)&&(ud=4194304)):e=1);var n=er();t=us(t,e),t!==null&&(lc(t,e,n),fr(t,n))}function E4(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),o5(t,n)}function L4(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(Pe(314))}r!==null&&r.delete(e),o5(t,n)}var l5;l5=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||dr.current)cr=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return cr=!1,y4(t,e,n);cr=!!(t.flags&131072)}else cr=!1,Ut&&e.flags&1048576&&hy(e,th,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;zd(t,e),t=e.pendingProps;var i=hl(e,Kn.current);ol(e,n),i=P0(null,e,r,t,i,n);var s=j0();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,hr(r)?(s=!0,Zd(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_0(e),i.updater=Eh,e.stateNode=i,i._reactInternals=e,lm(e,r,t,n),e=dm(null,e,r,!0,s,n)):(e.tag=0,Ut&&s&&m0(e),Xn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(zd(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=R4(r),t=li(r,t),i){case 0:e=cm(null,e,r,t,n);break e;case 1:e=j1(null,e,r,t,n);break e;case 11:e=A1(null,e,r,t,n);break e;case 14:e=P1(null,e,r,li(r.type,t),n);break e}throw Error(Pe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),cm(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),j1(t,e,r,i,n);case 3:e:{if(Hy(e),t===null)throw Error(Pe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,yy(t,e),ih(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=gl(Error(Pe(423)),e),e=C1(t,e,r,n,i);break e}else if(r!==i){i=gl(Error(Pe(424)),e),e=C1(t,e,r,n,i);break e}else for(Nr=Gs(e.stateNode.containerInfo.firstChild),Pr=e,Ut=!0,fi=null,n=gy(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(fl(),r===i){e=cs(t,e,n);break e}Xn(t,e,r,n)}e=e.child}return e;case 5:return wy(e),t===null&&sm(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,em(r,i)?a=null:s!==null&&em(r,s)&&(e.flags|=32),Wy(t,e),Xn(t,e,a,n),e.child;case 6:return t===null&&sm(e),null;case 13:return Vy(t,e,n);case 4:return S0(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=pl(e,null,r,n):Xn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),A1(t,e,r,i,n);case 7:return Xn(t,e,e.pendingProps,n),e.child;case 8:return Xn(t,e,e.pendingProps.children,n),e.child;case 12:return Xn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Dt(nh,r._currentValue),r._currentValue=a,s!==null)if(gi(s.value,a)){if(s.children===i.children&&!dr.current){e=cs(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=as(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var m=c.pending;m===null?l.next=l:(l.next=m.next,m.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),am(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Pe(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),am(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Xn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,ol(e,n),i=Wr(i),r=r(i),e.flags|=1,Xn(t,e,r,n),e.child;case 14:return r=e.type,i=li(r,e.pendingProps),i=li(r.type,i),P1(t,e,r,i,n);case 15:return qy(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:li(r,i),zd(t,e),e.tag=1,hr(r)?(t=!0,Zd(e)):t=!1,ol(e,n),zy(e,r,i),lm(e,r,i,n),dm(null,e,r,!0,t,n);case 19:return Gy(t,e,n);case 22:return $y(t,e,n)}throw Error(Pe(156,e.tag))};function u5(t,e){return D2(t,e)}function T4(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ur(t,e,n,r){return new T4(t,e,n,r)}function M0(t){return t=t.prototype,!(!t||!t.isReactComponent)}function R4(t){if(typeof t=="function")return M0(t)?1:0;if(t!=null){if(t=t.$$typeof,t===r0)return 11;if(t===i0)return 14}return 2}function Qs(t,e){var n=t.alternate;return n===null?(n=Ur(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function qd(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")M0(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ho:return Da(n.children,i,s,e);case n0:a=8,i|=8;break;case Tp:return t=Ur(12,n,e,i|2),t.elementType=Tp,t.lanes=s,t;case Rp:return t=Ur(13,n,e,i),t.elementType=Rp,t.lanes=s,t;case Ip:return t=Ur(19,n,e,i),t.elementType=Ip,t.lanes=s,t;case w2:return Rh(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case v2:a=10;break e;case y2:a=9;break e;case r0:a=11;break e;case i0:a=14;break e;case Rs:a=16,r=null;break e}throw Error(Pe(130,t==null?t:typeof t,""))}return e=Ur(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Da(t,e,n,r){return t=Ur(7,t,r,e),t.lanes=n,t}function Rh(t,e,n,r){return t=Ur(22,t,r,e),t.elementType=w2,t.lanes=n,t.stateNode={isHidden:!1},t}function up(t,e,n){return t=Ur(6,t,null,e),t.lanes=n,t}function cp(t,e,n){return e=Ur(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function I4(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wf(0),this.expirationTimes=Wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wf(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function z0(t,e,n,r,i,s,a,o,l){return t=new I4(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ur(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},_0(s),t}function O4(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Wo,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function c5(t){if(!t)return ta;t=t._reactInternals;e:{if(Ja(t)!==t||t.tag!==1)throw Error(Pe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(hr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Pe(171))}if(t.tag===1){var n=t.type;if(hr(n))return cy(t,n,e)}return e}function d5(t,e,n,r,i,s,a,o,l){return t=z0(n,r,!0,t,i,s,a,o,l),t.context=c5(null),n=t.current,r=er(),i=Js(n),s=as(r,i),s.callback=e??null,Ks(n,s,i),t.current.lanes=i,lc(t,i,r),fr(t,r),t}function Ih(t,e,n,r){var i=e.current,s=er(),a=Js(i);return n=c5(n),e.context===null?e.context=n:e.pendingContext=n,e=as(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ks(i,e,a),t!==null&&(mi(t,i,a,s),Dd(t,i,a)),a}function hh(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function z1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function B0(t,e){z1(t,e),(t=t.alternate)&&z1(t,e)}function D4(){return null}var h5=typeof reportError=="function"?reportError:function(t){console.error(t)};function U0(t){this._internalRoot=t}Oh.prototype.render=U0.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Pe(409));Ih(t,e,null,null)};Oh.prototype.unmount=U0.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Va(function(){Ih(null,t,null,null)}),e[ls]=null}};function Oh(t){this._internalRoot=t}Oh.prototype.unstable_scheduleHydration=function(t){if(t){var e=$2();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Ds.length&&e!==0&&e<Ds[n].priority;n++);Ds.splice(n,0,t),n===0&&H2(t)}};function q0(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Dh(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function B1(){}function F4(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=hh(a);s.call(c)}}var a=d5(e,r,t,0,null,!1,!1,"",B1);return t._reactRootContainer=a,t[ls]=a.current,Uu(t.nodeType===8?t.parentNode:t),Va(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=hh(l);o.call(c)}}var l=z0(t,0,!1,null,null,!1,!1,"",B1);return t._reactRootContainer=l,t[ls]=l.current,Uu(t.nodeType===8?t.parentNode:t),Va(function(){Ih(e,l,n,r)}),l}function Fh(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=hh(a);o.call(l)}}Ih(e,a,t,i)}else a=F4(n,e,t,i,r);return hh(a)}U2=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=pu(e.pendingLanes);n!==0&&(o0(e,n|1),fr(e,rn()),!(vt&6)&&(vl=rn()+500,aa()))}break;case 13:Va(function(){var r=us(t,1);if(r!==null){var i=er();mi(r,t,1,i)}}),B0(t,1)}};l0=function(t){if(t.tag===13){var e=us(t,134217728);if(e!==null){var n=er();mi(e,t,134217728,n)}B0(t,134217728)}};q2=function(t){if(t.tag===13){var e=Js(t),n=us(t,e);if(n!==null){var r=er();mi(n,t,e,r)}B0(t,e)}};$2=function(){return Pt};W2=function(t,e){var n=Pt;try{return Pt=t,e()}finally{Pt=n}};Wp=function(t,e,n){switch(e){case"input":if(Fp(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Ph(r);if(!i)throw Error(Pe(90));x2(r),Fp(r,i)}}}break;case"textarea":S2(t,n);break;case"select":e=n.value,e!=null&&rl(t,!!n.multiple,e,!1)}};E2=O0;L2=Va;var M4={usingClientEntryPoint:!1,Events:[cc,Yo,Ph,j2,C2,O0]},lu={findFiberByHostInstance:Ea,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},z4={bundleType:lu.bundleType,version:lu.version,rendererPackageName:lu.rendererPackageName,rendererConfig:lu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ds.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=I2(t),t===null?null:t.stateNode},findFiberByHostInstance:lu.findFiberByHostInstance||D4,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bd.isDisabled&&bd.supportsFiber)try{Sh=bd.inject(z4),Fi=bd}catch{}}Cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=M4;Cr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!q0(e))throw Error(Pe(200));return O4(t,e,null,n)};Cr.createRoot=function(t,e){if(!q0(t))throw Error(Pe(299));var n=!1,r="",i=h5;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=z0(t,1,!1,null,null,n,!1,r,i),t[ls]=e.current,Uu(t.nodeType===8?t.parentNode:t),new U0(e)};Cr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Pe(188)):(t=Object.keys(t).join(","),Error(Pe(268,t)));return t=I2(e),t=t===null?null:t.stateNode,t};Cr.flushSync=function(t){return Va(t)};Cr.hydrate=function(t,e,n){if(!Dh(e))throw Error(Pe(200));return Fh(null,t,e,!0,n)};Cr.hydrateRoot=function(t,e,n){if(!q0(t))throw Error(Pe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=h5;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=d5(e,null,t,1,n??null,i,!1,s,a),t[ls]=e.current,Uu(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new Oh(e)};Cr.render=function(t,e,n){if(!Dh(e))throw Error(Pe(200));return Fh(null,t,e,!1,n)};Cr.unmountComponentAtNode=function(t){if(!Dh(t))throw Error(Pe(40));return t._reactRootContainer?(Va(function(){Fh(null,null,t,!1,function(){t._reactRootContainer=null,t[ls]=null})}),!0):!1};Cr.unstable_batchedUpdates=O0;Cr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Dh(n))throw Error(Pe(200));if(t==null||t._reactInternals===void 0)throw Error(Pe(38));return Fh(t,e,n,!1,r)};Cr.version="18.3.1-next-f1338f8080-20240426";function f5(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(f5)}catch(t){console.error(t)}}f5(),f2.exports=Cr;var p5=f2.exports,m5,U1=p5;m5=U1.createRoot,U1.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ju(){return Ju=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ju.apply(this,arguments)}var qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(qs||(qs={}));const q1="popstate";function B4(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return Sm("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:fh(i)}return q4(e,n,null,t)}function ln(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function g5(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function U4(){return Math.random().toString(36).substr(2,8)}function $1(t,e){return{usr:t.state,key:t.key,idx:e}}function Sm(t,e,n,r){return n===void 0&&(n=null),Ju({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?xl(e):e,{state:n,key:e&&e.key||r||U4()})}function fh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function xl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function q4(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=qs.Pop,l=null,c=m();c==null&&(c=0,a.replaceState(Ju({},a.state,{idx:c}),""));function m(){return(a.state||{idx:null}).idx}function f(){o=qs.Pop;let _=m(),b=_==null?null:_-c;c=_,l&&l({action:o,location:S.location,delta:b})}function y(_,b){o=qs.Push;let p=Sm(S.location,_,b);c=m()+1;let w=$1(p,c),N=S.createHref(p);try{a.pushState(w,"",N)}catch(F){if(F instanceof DOMException&&F.name==="DataCloneError")throw F;i.location.assign(N)}s&&l&&l({action:o,location:S.location,delta:1})}function h(_,b){o=qs.Replace;let p=Sm(S.location,_,b);c=m();let w=$1(p,c),N=S.createHref(p);a.replaceState(w,"",N),s&&l&&l({action:o,location:S.location,delta:0})}function k(_){let b=i.location.origin!=="null"?i.location.origin:i.location.href,p=typeof _=="string"?_:fh(_);return p=p.replace(/ $/,"%20"),ln(b,"No window.location.(origin|href) available to create URL for href: "+p),new URL(p,b)}let S={get action(){return o},get location(){return t(i,a)},listen(_){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(q1,f),l=_,()=>{i.removeEventListener(q1,f),l=null}},createHref(_){return e(i,_)},createURL:k,encodeLocation(_){let b=k(_);return{pathname:b.pathname,search:b.search,hash:b.hash}},push:y,replace:h,go(_){return a.go(_)}};return S}var W1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(W1||(W1={}));function $4(t,e,n){return n===void 0&&(n="/"),W4(t,e,n,!1)}function W4(t,e,n,r){let i=typeof e=="string"?xl(e):e,s=$0(i.pathname||"/",n);if(s==null)return null;let a=v5(t);H4(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=n3(s);o=e3(a[l],c,r)}return o}function v5(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ln(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Xs([r,l.relativePath]),m=n.concat(l);s.children&&s.children.length>0&&(ln(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),v5(s.children,e,m,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:X4(c,s.index),routesMeta:m})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of y5(s.path))i(s,a,l)}),e}function y5(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=y5(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function H4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Z4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const V4=/^:[\w-]+$/,G4=3,K4=2,Y4=1,J4=10,Q4=-2,H1=t=>t==="*";function X4(t,e){let n=t.split("/"),r=n.length;return n.some(H1)&&(r+=Q4),e&&(r+=K4),n.filter(i=>!H1(i)).reduce((i,s)=>i+(V4.test(s)?G4:s===""?Y4:J4),r)}function Z4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function e3(t,e,n){let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,m=s==="/"?e:e.slice(s.length)||"/",f=V1({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},m),y=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=V1({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},m)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:Xs([s,f.pathname]),pathnameBase:a3(Xs([s,f.pathnameBase])),route:y}),f.pathnameBase!=="/"&&(s=Xs([s,f.pathnameBase]))}return a}function V1(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=t3(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,m,f)=>{let{paramName:y,isOptional:h}=m;if(y==="*"){let S=o[f]||"";a=s.slice(0,s.length-S.length).replace(/(.)\/+$/,"$1")}const k=o[f];return h&&!k?c[y]=void 0:c[y]=(k||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function t3(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),g5(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function n3(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return g5(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function $0(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function r3(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?xl(t):t;return{pathname:n?n.startsWith("/")?n:i3(n,e):e,search:o3(r),hash:l3(i)}}function i3(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function dp(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function s3(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function W0(t,e){let n=s3(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function H0(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=xl(t):(i=Ju({},t),ln(!i.pathname||!i.pathname.includes("?"),dp("?","pathname","search",i)),ln(!i.pathname||!i.pathname.includes("#"),dp("#","pathname","hash",i)),ln(!i.search||!i.search.includes("#"),dp("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let y=a.split("/");for(;y[0]==="..";)y.shift(),f-=1;i.pathname=y.join("/")}o=f>=0?e[f]:"/"}let l=r3(i,o),c=a&&a!=="/"&&a.endsWith("/"),m=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||m)&&(l.pathname+="/"),l}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),a3=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o3=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,l3=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function u3(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const w5=["post","put","patch","delete"];new Set(w5);const c3=["get",...w5];new Set(c3);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Qu(){return Qu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Qu.apply(this,arguments)}const V0=ge.createContext(null),d3=ge.createContext(null),oa=ge.createContext(null),Mh=ge.createContext(null),Bi=ge.createContext({outlet:null,matches:[],isDataRoute:!1}),b5=ge.createContext(null);function h3(t,e){let{relative:n}=e===void 0?{}:e;_l()||ln(!1);let{basename:r,navigator:i}=ge.useContext(oa),{hash:s,pathname:a,search:o}=_5(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:Xs([r,a])),i.createHref({pathname:l,search:o,hash:s})}function _l(){return ge.useContext(Mh)!=null}function hs(){return _l()||ln(!1),ge.useContext(Mh).location}function x5(t){ge.useContext(oa).static||ge.useLayoutEffect(t)}function Vr(){let{isDataRoute:t}=ge.useContext(Bi);return t?P3():f3()}function f3(){_l()||ln(!1);let t=ge.useContext(V0),{basename:e,future:n,navigator:r}=ge.useContext(oa),{matches:i}=ge.useContext(Bi),{pathname:s}=hs(),a=JSON.stringify(W0(i,n.v7_relativeSplatPath)),o=ge.useRef(!1);return x5(()=>{o.current=!0}),ge.useCallback(function(c,m){if(m===void 0&&(m={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=H0(c,JSON.parse(a),s,m.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Xs([e,f.pathname])),(m.replace?r.replace:r.push)(f,m.state,m)},[e,r,a,s,t])}const p3=ge.createContext(null);function m3(t){let e=ge.useContext(Bi).outlet;return e&&ge.createElement(p3.Provider,{value:t},e)}function G0(){let{matches:t}=ge.useContext(Bi),e=t[t.length-1];return e?e.params:{}}function _5(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=ge.useContext(oa),{matches:i}=ge.useContext(Bi),{pathname:s}=hs(),a=JSON.stringify(W0(i,r.v7_relativeSplatPath));return ge.useMemo(()=>H0(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function g3(t,e){return v3(t,e)}function v3(t,e,n,r){_l()||ln(!1);let{navigator:i}=ge.useContext(oa),{matches:s}=ge.useContext(Bi),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=hs(),m;if(e){var f;let _=typeof e=="string"?xl(e):e;l==="/"||(f=_.pathname)!=null&&f.startsWith(l)||ln(!1),m=_}else m=c;let y=m.pathname||"/",h=y;if(l!=="/"){let _=l.replace(/^\//,"").split("/");h="/"+y.replace(/^\//,"").split("/").slice(_.length).join("/")}let k=$4(t,{pathname:h}),S=_3(k&&k.map(_=>Object.assign({},_,{params:Object.assign({},o,_.params),pathname:Xs([l,i.encodeLocation?i.encodeLocation(_.pathname).pathname:_.pathname]),pathnameBase:_.pathnameBase==="/"?l:Xs([l,i.encodeLocation?i.encodeLocation(_.pathnameBase).pathname:_.pathnameBase])})),s,n,r);return e&&S?ge.createElement(Mh.Provider,{value:{location:Qu({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:qs.Pop}},S):S}function y3(){let t=A3(),e=u3(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return ge.createElement(ge.Fragment,null,ge.createElement("h2",null,"Unexpected Application Error!"),ge.createElement("h3",{style:{fontStyle:"italic"}},e),n?ge.createElement("pre",{style:i},n):null,null)}const w3=ge.createElement(y3,null);class b3 extends ge.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?ge.createElement(Bi.Provider,{value:this.props.routeContext},ge.createElement(b5.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function x3(t){let{routeContext:e,match:n,children:r}=t,i=ge.useContext(V0);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),ge.createElement(Bi.Provider,{value:e},r)}function _3(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let m=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);m>=0||ln(!1),a=a.slice(0,Math.min(a.length,m+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let m=0;m<a.length;m++){let f=a[m];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=m),f.route.id){let{loaderData:y,errors:h}=n,k=f.route.loader&&y[f.route.id]===void 0&&(!h||h[f.route.id]===void 0);if(f.route.lazy||k){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((m,f,y)=>{let h,k=!1,S=null,_=null;n&&(h=o&&f.route.id?o[f.route.id]:void 0,S=f.route.errorElement||w3,l&&(c<0&&y===0?(k=!0,_=null):c===y&&(k=!0,_=f.route.hydrateFallbackElement||null)));let b=e.concat(a.slice(0,y+1)),p=()=>{let w;return h?w=S:k?w=_:f.route.Component?w=ge.createElement(f.route.Component,null):f.route.element?w=f.route.element:w=m,ge.createElement(x3,{match:f,routeContext:{outlet:m,matches:b,isDataRoute:n!=null},children:w})};return n&&(f.route.ErrorBoundary||f.route.errorElement||y===0)?ge.createElement(b3,{location:n.location,revalidation:n.revalidation,component:S,error:h,children:p(),routeContext:{outlet:null,matches:b,isDataRoute:!0}}):p()},null)}var S5=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(S5||{}),ph=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ph||{});function S3(t){let e=ge.useContext(V0);return e||ln(!1),e}function k3(t){let e=ge.useContext(d3);return e||ln(!1),e}function N3(t){let e=ge.useContext(Bi);return e||ln(!1),e}function k5(t){let e=N3(),n=e.matches[e.matches.length-1];return n.route.id||ln(!1),n.route.id}function A3(){var t;let e=ge.useContext(b5),n=k3(ph.UseRouteError),r=k5(ph.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function P3(){let{router:t}=S3(S5.UseNavigateStable),e=k5(ph.UseNavigateStable),n=ge.useRef(!1);return x5(()=>{n.current=!0}),ge.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Qu({fromRouteId:e},s)))},[t,e])}function j3(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function C3(t){let{to:e,replace:n,state:r,relative:i}=t;_l()||ln(!1);let{future:s,static:a}=ge.useContext(oa),{matches:o}=ge.useContext(Bi),{pathname:l}=hs(),c=Vr(),m=H0(e,W0(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(m);return ge.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function E3(t){return m3(t.context)}function Ln(t){ln(!1)}function L3(t){let{basename:e="/",children:n=null,location:r,navigationType:i=qs.Pop,navigator:s,static:a=!1,future:o}=t;_l()&&ln(!1);let l=e.replace(/^\/*/,"/"),c=ge.useMemo(()=>({basename:l,navigator:s,static:a,future:Qu({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=xl(r));let{pathname:m="/",search:f="",hash:y="",state:h=null,key:k="default"}=r,S=ge.useMemo(()=>{let _=$0(m,l);return _==null?null:{location:{pathname:_,search:f,hash:y,state:h,key:k},navigationType:i}},[l,m,f,y,h,k,i]);return S==null?null:ge.createElement(oa.Provider,{value:c},ge.createElement(Mh.Provider,{children:n,value:S}))}function T3(t){let{children:e,location:n}=t;return g3(km(e),n)}new Promise(()=>{});function km(t,e){e===void 0&&(e=[]);let n=[];return ge.Children.forEach(t,(r,i)=>{if(!ge.isValidElement(r))return;let s=[...e,i];if(r.type===ge.Fragment){n.push.apply(n,km(r.props.children,s));return}r.type!==Ln&&ln(!1),!r.props.index||!r.props.children||ln(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=km(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nm(){return Nm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nm.apply(this,arguments)}function R3(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function I3(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function O3(t,e){return t.button===0&&(!e||e==="_self")&&!I3(t)}const D3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],F3="6";try{window.__reactRouterVersion=F3}catch{}const M3="startTransition",G1=Cb[M3];function z3(t){let{basename:e,children:n,future:r,window:i}=t,s=ge.useRef();s.current==null&&(s.current=B4({window:i,v5Compat:!0}));let a=s.current,[o,l]=ge.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},m=ge.useCallback(f=>{c&&G1?G1(()=>l(f)):l(f)},[l,c]);return ge.useLayoutEffect(()=>a.listen(m),[a,m]),ge.useEffect(()=>j3(r),[r]),ge.createElement(L3,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const B3=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",U3=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,bn=ge.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:m,viewTransition:f}=e,y=R3(e,D3),{basename:h}=ge.useContext(oa),k,S=!1;if(typeof c=="string"&&U3.test(c)&&(k=c,B3))try{let w=new URL(window.location.href),N=c.startsWith("//")?new URL(w.protocol+c):new URL(c),F=$0(N.pathname,h);N.origin===w.origin&&F!=null?c=F+N.search+N.hash:S=!0}catch{}let _=h3(c,{relative:i}),b=q3(c,{replace:a,state:o,target:l,preventScrollReset:m,relative:i,viewTransition:f});function p(w){r&&r(w),w.defaultPrevented||b(w)}return ge.createElement("a",Nm({},y,{href:k||_,onClick:S||s?r:p,ref:n,target:l}))});var K1;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(K1||(K1={}));var Y1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Y1||(Y1={}));function q3(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Vr(),c=hs(),m=_5(t,{relative:a});return ge.useCallback(f=>{if(O3(f,n)){f.preventDefault();let y=r!==void 0?r:fh(c)===fh(m);l(t,{replace:y,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,m,r,i,n,t,s,a,o])}/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var $3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),dt=(t,e)=>{const n=ge.forwardRef(({color:r="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},m)=>ge.createElement("svg",{ref:m,...$3,width:i,height:i,stroke:r,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${W3(t)}`,o].join(" "),...c},[...e.map(([f,y])=>ge.createElement(f,y)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H3=dt("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=dt("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xu=dt("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G3=dt("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N5=dt("Banknote",[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A5=dt("BarChart3",[["path",{d:"M3 3v18h18",key:"1s2lah"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K3=dt("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y3=dt("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uu=dt("Car",[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J3=dt("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P5=dt("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q3=dt("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mh=dt("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xd=dt("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j5=dt("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=dt("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X3=dt("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z3=dt("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=dt("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=dt("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=dt("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C5=dt("Map",[["polygon",{points:"3 6 9 3 15 6 21 3 21 18 15 21 9 18 3 21",key:"ok2ie8"}],["line",{x1:"9",x2:"9",y1:"3",y2:"18",key:"w34qz5"}],["line",{x1:"15",x2:"15",y1:"6",y2:"21",key:"volv9a"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e_=dt("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const t_=dt("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E5=dt("PlusCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fa=dt("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n_=dt("Printer",[["polyline",{points:"6 9 6 2 18 2 18 9",key:"1306q4"}],["path",{d:"M6 18H4a2 2 0 0 1-2-2v-5a2 2 0 0 1 2-2h16a2 2 0 0 1 2 2v5a2 2 0 0 1-2 2h-2",key:"143wyd"}],["rect",{width:"12",height:"8",x:"6",y:"14",key:"5ipwut"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zh=dt("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gh=dt("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=dt("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bh=dt("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hc=dt("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L5=dt("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const r_=dt("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T5=dt("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.344.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R5=dt("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);var I5={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(t){(function(){var e={}.hasOwnProperty;function n(){for(var s="",a=0;a<arguments.length;a++){var o=arguments[a];o&&(s=i(s,r(o)))}return s}function r(s){if(typeof s=="string"||typeof s=="number")return s;if(typeof s!="object")return"";if(Array.isArray(s))return n.apply(null,s);if(s.toString!==Object.prototype.toString&&!s.toString.toString().includes("[native code]"))return s.toString();var a="";for(var o in s)e.call(s,o)&&s[o]&&(a=i(a,o));return a}function i(s,a){return a?s?s+" "+a:s+a:s}t.exports?(n.default=n,t.exports=n):window.classNames=n})()})(I5);var i_=I5.exports;const Zn=t2(i_);function Uh(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function s_(t,e,n,r){function i(s){return s instanceof n?s:new n(function(a){a(s)})}return new(n||(n=Promise))(function(s,a){function o(m){try{c(r.next(m))}catch(f){a(f)}}function l(m){try{c(r.throw(m))}catch(f){a(f)}}function c(m){m.done?s(m.value):i(m.value).then(o,l)}c((r=r.apply(t,e||[])).next())})}const a_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class J0 extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class o_ extends J0{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class X1 extends J0{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Z1 extends J0{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Am;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Am||(Am={}));class l_{constructor(e,{headers:n={},customFetch:r,region:i=Am.Any}={}){this.url=e,this.headers=n,this.region=i,this.fetch=a_(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return s_(this,arguments,void 0,function*(n,r={}){var i;let s,a;try{const{headers:o,method:l,body:c,signal:m,timeout:f}=r;let y={},{region:h}=r;h||(h=this.region);const k=new URL(`${this.url}/${n}`);h&&h!=="any"&&(y["x-region"]=h,k.searchParams.set("forceFunctionRegion",h));let S;c&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&c instanceof Blob||c instanceof ArrayBuffer?(y["Content-Type"]="application/octet-stream",S=c):typeof c=="string"?(y["Content-Type"]="text/plain",S=c):typeof FormData<"u"&&c instanceof FormData?S=c:(y["Content-Type"]="application/json",S=JSON.stringify(c)):S=c;let _=m;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),m?(_=a.signal,m.addEventListener("abort",()=>a.abort())):_=a.signal);const b=yield this.fetch(k.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},y),this.headers),o),body:S,signal:_}).catch(F=>{throw new o_(F)}),p=b.headers.get("x-relay-error");if(p&&p==="true")throw new X1(b);if(!b.ok)throw new Z1(b);let w=((i=b.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),N;return w==="application/json"?N=yield b.json():w==="application/octet-stream"||w==="application/pdf"?N=yield b.blob():w==="text/event-stream"?N=b:w==="multipart/form-data"?N=yield b.formData():N=yield b.text(),{data:N,error:null,response:b}}catch(o){return{data:null,error:o,response:o instanceof Z1||o instanceof X1?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var u_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},c_=class{constructor(t){var e,n;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(n=t.isMaybeSingle)!==null&&n!==void 0?n:!1,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var n=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const r=this.fetch;let i=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async s=>{let a=null,o=null,l=null,c=s.status,m=s.statusText;if(s.ok){var f,y;if(n.method!=="HEAD"){var h;const b=await s.text();b===""||(n.headers.get("Accept")==="text/csv"||n.headers.get("Accept")&&(!((h=n.headers.get("Accept"))===null||h===void 0)&&h.includes("application/vnd.pgrst.plan+text"))?o=b:o=JSON.parse(b))}const S=(f=n.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),_=(y=s.headers.get("content-range"))===null||y===void 0?void 0:y.split("/");S&&_&&_.length>1&&(l=parseInt(_[1])),n.isMaybeSingle&&n.method==="GET"&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:`Results contain ${o.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,l=null,c=406,m="Not Acceptable"):o.length===1?o=o[0]:o=null)}else{var k;const S=await s.text();try{a=JSON.parse(S),Array.isArray(a)&&s.status===404&&(o=[],a=null,c=200,m="OK")}catch{s.status===404&&S===""?(c=204,m="No Content"):a={message:S}}if(a&&n.isMaybeSingle&&(!(a==null||(k=a.details)===null||k===void 0)&&k.includes("0 rows"))&&(a=null,c=200,m="OK"),a&&n.shouldThrowOnError)throw new u_(a)}return{error:a,data:o,count:l,status:c,statusText:m}});return this.shouldThrowOnError||(i=i.catch(s=>{var a;let o="";const l=s==null?void 0:s.cause;if(l){var c,m,f,y;const k=(c=l==null?void 0:l.message)!==null&&c!==void 0?c:"",S=(m=l==null?void 0:l.code)!==null&&m!==void 0?m:"";o=`${(f=s==null?void 0:s.name)!==null&&f!==void 0?f:"FetchError"}: ${s==null?void 0:s.message}`,o+=`

Caused by: ${(y=l==null?void 0:l.name)!==null&&y!==void 0?y:"Error"}: ${k}`,S&&(o+=` (${S})`),l!=null&&l.stack&&(o+=`
${l.stack}`)}else{var h;o=(h=s==null?void 0:s.stack)!==null&&h!==void 0?h:""}return{error:{message:`${(a=s==null?void 0:s.name)!==null&&a!==void 0?a:"FetchError"}: ${s==null?void 0:s.message}`,details:o,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),i.then(t,e)}returns(){return this}overrideTypes(){return this}},d_=class extends c_{select(t){let e=!1;const n=(t??"*").split("").map(r=>/\s/.test(r)&&!e?"":(r==='"'&&(e=!e),r)).join("");return this.url.searchParams.set("select",n),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:n,foreignTable:r,referencedTable:i=r}={}){const s=i?`${i}.order`:"order",a=this.url.searchParams.get(s);return this.url.searchParams.set(s,`${a?`${a},`:""}${t}.${e?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:n=e}={}){const r=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(r,`${t}`),this}range(t,e,{foreignTable:n,referencedTable:r=n}={}){const i=typeof r>"u"?"offset":`${r}.offset`,s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(i,`${t}`),this.url.searchParams.set(s,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:n=!1,buffers:r=!1,wal:i=!1,format:s="text"}={}){var a;const o=[t?"analyze":null,e?"verbose":null,n?"settings":null,r?"buffers":null,i?"wal":null].filter(Boolean).join("|"),l=(a=this.headers.get("Accept"))!==null&&a!==void 0?a:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${s}; for="${l}"; options=${o};`),s==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const ev=new RegExp("[,()]");var zo=class extends d_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ev.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`in.(${n})`),this}notIn(t,e){const n=Array.from(new Set(e)).map(r=>typeof r=="string"&&ev.test(r)?`"${r}"`:`${r}`).join(",");return this.url.searchParams.append(t,`not.in.(${n})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:n,type:r}={}){let i="";r==="plain"?i="pl":r==="phrase"?i="ph":r==="websearch"&&(i="w");const s=n===void 0?"":`(${n})`;return this.url.searchParams.append(t,`${i}fts${s}.${e}`),this}match(t){return Object.entries(t).forEach(([e,n])=>{this.url.searchParams.append(e,`eq.${n}`)}),this}not(t,e,n){return this.url.searchParams.append(t,`not.${e}.${n}`),this}or(t,{foreignTable:e,referencedTable:n=e}={}){const r=n?`${n}.or`:"or";return this.url.searchParams.append(r,`(${t})`),this}filter(t,e,n){return this.url.searchParams.append(t,`${e}.${n}`),this}},h_=class{constructor(t,{headers:e={},schema:n,fetch:r}){this.url=t,this.headers=new Headers(e),this.schema=n,this.fetch=r}select(t,e){const{head:n=!1,count:r}=e??{},i=n?"HEAD":"GET";let s=!1;const a=(t??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),r&&this.headers.append("Prefer",`count=${r}`),new zo({method:i,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(t,{count:e,defaultToNull:n=!0}={}){var r;const i="POST";if(e&&this.headers.append("Prefer",`count=${e}`),n||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const s=t.reduce((a,o)=>a.concat(Object.keys(o)),[]);if(s.length>0){const a=[...new Set(s)].map(o=>`"${o}"`);this.url.searchParams.set("columns",a.join(","))}}return new zo({method:i,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}upsert(t,{onConflict:e,ignoreDuplicates:n=!1,count:r,defaultToNull:i=!0}={}){var s;const a="POST";if(this.headers.append("Prefer",`resolution=${n?"ignore":"merge"}-duplicates`),e!==void 0&&this.url.searchParams.set("on_conflict",e),r&&this.headers.append("Prefer",`count=${r}`),i||this.headers.append("Prefer","missing=default"),Array.isArray(t)){const o=t.reduce((l,c)=>l.concat(Object.keys(c)),[]);if(o.length>0){const l=[...new Set(o)].map(c=>`"${c}"`);this.url.searchParams.set("columns",l.join(","))}}return new zo({method:a,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}update(t,{count:e}={}){var n;const r="PATCH";return e&&this.headers.append("Prefer",`count=${e}`),new zo({method:r,url:this.url,headers:this.headers,schema:this.schema,body:t,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}delete({count:t}={}){var e;const n="DELETE";return t&&this.headers.append("Prefer",`count=${t}`),new zo({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch})}},f_=class O5{constructor(e,{headers:n={},schema:r,fetch:i}={}){this.url=e,this.headers=new Headers(n),this.schemaName=r,this.fetch=i}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new h_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new O5(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:i=!1,count:s}={}){var a;let o;const l=new URL(`${this.url}/rpc/${e}`);let c;r||i?(o=r?"HEAD":"GET",Object.entries(n).filter(([f,y])=>y!==void 0).map(([f,y])=>[f,Array.isArray(y)?`{${y.join(",")}}`:`${y}`]).forEach(([f,y])=>{l.searchParams.append(f,y)})):(o="POST",c=n);const m=new Headers(this.headers);return s&&m.set("Prefer",`count=${s}`),new zo({method:o,url:l,headers:m,schema:this.schemaName,body:c,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}};class p_{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const n=process.versions;if(n&&n.node){const r=n.node,i=parseInt(r.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let n=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(n+=`

Suggested solution: ${e.workaround}`),new Error(n)}static createWebSocket(e,n){const r=this.getWebSocketConstructor();return new r(e,n)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const m_="2.89.0",g_=`realtime-js/${m_}`,D5="1.0.0",v_="2.0.0",tv=D5,Pm=1e4,y_=1e3,w_=100;var Os;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Os||(Os={}));var vn;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(vn||(vn={}));var hi;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(hi||(hi={}));var jm;(function(t){t.websocket="websocket"})(jm||(jm={}));var ja;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(ja||(ja={}));class b_{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,n){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return n(this._binaryEncodeUserBroadcastPush(e));let r=[e.join_ref,e.ref,e.topic,e.event,e.payload];return n(JSON.stringify(r))}_binaryEncodeUserBroadcastPush(e){var n;return this._isArrayBuffer((n=e.payload)===null||n===void 0?void 0:n.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var n,r;const i=(r=(n=e.payload)===null||n===void 0?void 0:n.payload)!==null&&r!==void 0?r:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,n,r){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",c=e.payload.event,m=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(m).length===0?"":JSON.stringify(m);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(c.length>255)throw new Error(`userEvent length ${c.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const y=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+c.length+f.length,h=new ArrayBuffer(this.HEADER_LENGTH+y);let k=new DataView(h),S=0;k.setUint8(S++,this.KINDS.userBroadcastPush),k.setUint8(S++,l.length),k.setUint8(S++,o.length),k.setUint8(S++,a.length),k.setUint8(S++,c.length),k.setUint8(S++,f.length),k.setUint8(S++,n),Array.from(l,b=>k.setUint8(S++,b.charCodeAt(0))),Array.from(o,b=>k.setUint8(S++,b.charCodeAt(0))),Array.from(a,b=>k.setUint8(S++,b.charCodeAt(0))),Array.from(c,b=>k.setUint8(S++,b.charCodeAt(0))),Array.from(f,b=>k.setUint8(S++,b.charCodeAt(0)));var _=new Uint8Array(h.byteLength+r.byteLength);return _.set(new Uint8Array(h),0),_.set(new Uint8Array(r),h.byteLength),_.buffer}decode(e,n){if(this._isArrayBuffer(e)){let r=this._binaryDecode(e);return n(r)}if(typeof e=="string"){const r=JSON.parse(e),[i,s,a,o,l]=r;return n({join_ref:i,ref:s,topic:a,event:o,payload:l})}return n({})}_binaryDecode(e){const n=new DataView(e),r=n.getUint8(0),i=new TextDecoder;switch(r){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,n,i)}}_decodeUserBroadcast(e,n,r){const i=n.getUint8(1),s=n.getUint8(2),a=n.getUint8(3),o=n.getUint8(4);let l=this.HEADER_LENGTH+4;const c=r.decode(e.slice(l,l+i));l=l+i;const m=r.decode(e.slice(l,l+s));l=l+s;const f=r.decode(e.slice(l,l+a));l=l+a;const y=e.slice(l,e.byteLength),h=o===this.JSON_ENCODING?JSON.parse(r.decode(y)):y,k={type:this.BROADCAST_EVENT,event:m,payload:h};return a>0&&(k.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:c,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var n;return e instanceof ArrayBuffer||((n=e==null?void 0:e.constructor)===null||n===void 0?void 0:n.name)==="ArrayBuffer"}_pick(e,n){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([r])=>n.includes(r)))}}class F5{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Ot;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Ot||(Ot={}));const nv=(t,e,n={})=>{var r;const i=(r=n.skipTypes)!==null&&r!==void 0?r:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=x_(a,t,e,i),s),{}):{}},x_=(t,e,n,r)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=n[t];return s&&!r.includes(s)?M5(s,a):Cm(a)},M5=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return N_(e,n)}switch(t){case Ot.bool:return __(e);case Ot.float4:case Ot.float8:case Ot.int2:case Ot.int4:case Ot.int8:case Ot.numeric:case Ot.oid:return S_(e);case Ot.json:case Ot.jsonb:return k_(e);case Ot.timestamp:return A_(e);case Ot.abstime:case Ot.date:case Ot.daterange:case Ot.int4range:case Ot.int8range:case Ot.money:case Ot.reltime:case Ot.text:case Ot.time:case Ot.timestamptz:case Ot.timetz:case Ot.tsrange:case Ot.tstzrange:return Cm(e);default:return Cm(e)}},Cm=t=>t,__=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},S_=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},k_=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},N_=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let s;const a=t.slice(1,n);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>M5(e,o))}return t},A_=t=>typeof t=="string"?t.replace(" ","T"):t,z5=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class hp{constructor(e,n,r={},i=Pm){this.channel=e,this.event=n,this.payload=r,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var rv;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(rv||(rv={}));class Au{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Au.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=Au.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(r.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=Au.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,i){const s=this.cloneDeep(e),a=this.transformState(n),o={},l={};return this.map(s,(c,m)=>{a[c]||(l[c]=m)}),this.map(a,(c,m)=>{const f=s[c];if(f){const y=m.map(_=>_.presence_ref),h=f.map(_=>_.presence_ref),k=m.filter(_=>h.indexOf(_.presence_ref)<0),S=f.filter(_=>y.indexOf(_.presence_ref)<0);k.length>0&&(o[c]=k),S.length>0&&(l[c]=S)}else o[c]=m}),this.syncDiff(s,{joins:o,leaves:l},r,i)}static syncDiff(e,n,r,i){const{joins:s,leaves:a}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var c;const m=(c=e[o])!==null&&c!==void 0?c:[];if(e[o]=this.cloneDeep(l),m.length>0){const f=e[o].map(h=>h.presence_ref),y=m.filter(h=>f.indexOf(h.presence_ref)<0);e[o].unshift(...y)}r(o,m,l)}),this.map(a,(o,l)=>{let c=e[o];if(!c)return;const m=l.map(f=>f.presence_ref);c=c.filter(f=>m.indexOf(f.presence_ref)<0),e[o]=c,i(o,c,l),c.length===0&&delete e[o]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const i=e[r];return"metas"in i?n[r]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):n[r]=i,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var iv;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(iv||(iv={}));var Pu;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(Pu||(Pu={}));var ts;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ts||(ts={}));class nl{constructor(e,n={config:{}},r){var i,s;if(this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=vn.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new hp(this,hi.join,this.params,this.timeout),this.rejoinTimer=new F5(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=vn.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=vn.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=vn.errored,this.rejoinTimer.scheduleTimeout())}),this._on(hi.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new Au(this),this.broadcastEndpointURL=z5(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,n=this.timeout){var r,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==vn.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,c=(i=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(h=>h.filter))!==null&&i!==void 0?i:[],m=!!this.bindings[Pu.PRESENCE]&&this.bindings[Pu.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},y={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:m}),postgres_changes:c,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(h=>e==null?void 0:e(ts.CHANNEL_ERROR,h)),this._onClose(()=>e==null?void 0:e(ts.CLOSED)),this.updateJoinPayload(Object.assign({config:y},f)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:h})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),h===void 0){e==null||e(ts.SUBSCRIBED);return}else{const S=this.bindings.postgres_changes,_=(k=S==null?void 0:S.length)!==null&&k!==void 0?k:0,b=[];for(let p=0;p<_;p++){const w=S[p],{filter:{event:N,schema:F,table:q,filter:L}}=w,E=h&&h[p];if(E&&E.event===N&&nl.isFilterValueEqual(E.schema,F)&&nl.isFilterValueEqual(E.table,q)&&nl.isFilterValueEqual(E.filter,L))b.push(Object.assign(Object.assign({},w),{id:E.id}));else{this.unsubscribe(),this.state=vn.errored,e==null||e(ts.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=b,e&&e(ts.SUBSCRIBED);return}}).receive("error",h=>{this.state=vn.errored,e==null||e(ts.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(h).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(ts.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this.state===vn.joined&&e===Pu.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,n,r)}async httpSend(e,n,r={}){var i;if(n==null)return Promise.reject("Payload is required for httpSend()");const s={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(s.Authorization=`Bearer ${this.socket.accessTokenValue}`);const a={method:"POST",headers:s,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:n,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=r.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const c=await o.json();l=c.error||c.message||l}catch{}return Promise.reject(new Error(l))}async send(e,n={}){var r,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,o={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(o.Authorization=`Bearer ${this.socket.accessTokenValue}`);const l={method:"POST",headers:o,body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((i=c.body)===null||i===void 0?void 0:i.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),c.receive("ok",()=>s("ok")),c.receive("error",()=>s("error")),c.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=vn.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(hi.close,"leave",this._joinRef())};this.joinPush.destroy();let r=null;return new Promise(i=>{r=new hp(this,hi.leave,{},e),r.receive("ok",()=>{n(),i("ok")}).receive("timeout",()=>{n(),i("timed out")}).receive("error",()=>{i("error")}),r.send(),this._canPush()||r.trigger("ok",{})}).finally(()=>{r==null||r.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=vn.closed,this.bindings={}}async _fetchWithTimeout(e,n,r){const i=new AbortController,s=setTimeout(()=>i.abort(),r),a=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:i.signal}));return clearTimeout(s),a}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new hp(this,e,n,r);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>w_){const n=this.pushBuffer.shift();n&&(n.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${n.event}`,n.payload))}}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:c,join:m}=hi;if(r&&[o,l,c,m].indexOf(a)>=0&&r!==this._joinRef())return;let y=this._onMessage(a,n,r);if(n&&!y)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(h=>{var k,S,_;return((k=h.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(S=h.filter)===null||S===void 0?void 0:S.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===a}).map(h=>h.callback(y,r)):(s=this.bindings[a])===null||s===void 0||s.filter(h=>{var k,S,_,b,p,w;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in h){const N=h.id,F=(k=h.filter)===null||k===void 0?void 0:k.event;return N&&((S=n.ids)===null||S===void 0?void 0:S.includes(N))&&(F==="*"||(F==null?void 0:F.toLocaleLowerCase())===((_=n.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const N=(p=(b=h==null?void 0:h.filter)===null||b===void 0?void 0:b.event)===null||p===void 0?void 0:p.toLocaleLowerCase();return N==="*"||N===((w=n==null?void 0:n.event)===null||w===void 0?void 0:w.toLocaleLowerCase())}else return h.type.toLocaleLowerCase()===a}).map(h=>{if(typeof y=="object"&&"ids"in y){const k=y.data,{schema:S,table:_,commit_timestamp:b,type:p,errors:w}=k;y=Object.assign(Object.assign({},{schema:S,table:_,commit_timestamp:b,eventType:p,new:{},old:{},errors:w}),this._getPayloadRecords(k))}h.callback(y,r)})}_isClosed(){return this.state===vn.closed}_isJoined(){return this.state===vn.joined}_isJoining(){return this.state===vn.joining}_isLeaving(){return this.state===vn.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const i=e.toLocaleLowerCase(),s={type:i,filter:n,callback:r};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]&&(this.bindings[r]=this.bindings[r].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===r&&nl.isEqual(i.filter,n))})),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}static isFilterValueEqual(e,n){return(e??void 0)===(n??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(hi.close,{},e)}_onError(e){this._on(hi.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=vn.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=nv(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=nv(e.columns,e.old_record)),n}}const fp=()=>{},_d={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},P_=[1e3,2e3,5e3,1e4],j_=1e4,C_=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class E_{constructor(e,n){var r;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Pm,this.transport=null,this.heartbeatIntervalMs=_d.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fp,this.ref=0,this.reconnectTimer=null,this.vsn=tv,this.logger=fp,this.conn=null,this.sendBuffer=[],this.serializer=new b_,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((r=n==null?void 0:n.params)===null||r===void 0)&&r.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=n.params.apikey,this.endPoint=`${e}/${jm.websocket}`,this.httpEndpoint=z5(e),this._initializeOptions(n),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(n==null?void 0:n.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=p_.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const n=e.message;throw n.includes("Node.js")?new Error(`${n}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${n}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,n){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const r=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(r),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,n??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Os.connecting:return ja.Connecting;case Os.open:return ja.Open;case Os.closing:return ja.Closing;default:return ja.Closed}}isConnected(){return this.connectionState()===ja.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,n={config:{}}){const r=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===r);if(i)return i;{const s=new nl(`realtime:${e}`,n,this);return this.channels.push(s),s}}push(e){const{topic:n,event:r,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${n} ${r} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(n){this.log("error","error in heartbeat callback",n)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(n){this.log("error","error in heartbeat callback",n)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(y_,"heartbeat timeout"),setTimeout(()=>{var n;this.isConnected()||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout()},_d.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(n){this.log("error","error in heartbeat callback",n)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,n=>{if(n.topic==="phoenix"&&n.event==="phx_reply")try{this.heartbeatCallback(n.payload.status==="ok"?"ok":"error")}catch(c){this.log("error","error in heartbeat callback",c)}n.ref&&n.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:r,event:i,payload:s,ref:a}=n,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${r} ${i} ${o}`.trim(),s),this.channels.filter(c=>c._isMember(r)).forEach(c=>c._trigger(i,s,a)),this._triggerStateCallbacks("message",n)})}_clearTimer(e){var n;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((n=this.reconnectTimer)===null||n===void 0||n.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Os.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Os.open||this.conn.readyState===Os.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(n=>{this.log("error","error waiting for auth on connect",n),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this._terminateWorker()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var n;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(n=this.reconnectTimer)===null||n===void 0||n.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(hi.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",i=new URLSearchParams(n);return`${e}${r}${i}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([C_],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}_setConnectionState(e,n=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=n)}async _performAuth(e=null){let n,r=!1;if(e)n=e,r=!0;else if(this.accessToken)try{n=await this.accessToken()}catch(i){this.log("error","Error fetching access token from callback",i),n=this.accessTokenValue}else n=this.accessTokenValue;r?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(i=>{const s={access_token:n,version:g_};n&&i.updateJoinPayload(s),i.joinedOnce&&i._isJoined()&&i._push(hi.access_token,{access_token:n})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(n=>{this.log("error",`Error setting auth in ${e}`,n)})}_triggerStateCallbacks(e,n){try{this.stateChangeCallbacks[e].forEach(r=>{try{r(n)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(r){this.log("error",`error triggering ${e} callbacks`,r)}}_setupReconnectionTimer(){this.reconnectTimer=new F5(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},_d.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var n,r,i,s,a,o,l,c,m,f,y,h;switch(this.transport=(n=e==null?void 0:e.transport)!==null&&n!==void 0?n:null,this.timeout=(r=e==null?void 0:e.timeout)!==null&&r!==void 0?r:Pm,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:_d.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:fp,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:tv,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(c=e==null?void 0:e.reconnectAfterMs)!==null&&c!==void 0?c:k=>P_[k-1]||j_,this.vsn){case D5:this.encode=(m=e==null?void 0:e.encode)!==null&&m!==void 0?m:(k,S)=>S(JSON.stringify(k)),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:(k,S)=>S(JSON.parse(k));break;case v_:this.encode=(y=e==null?void 0:e.encode)!==null&&y!==void 0?y:this.serializer.encode.bind(this.serializer),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}var Zu=class extends Error{constructor(t,e){var n;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((n=e.icebergType)==null?void 0:n.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function L_(t,e,n){const r=new URL(e,t);if(n)for(const[i,s]of Object.entries(n))s!==void 0&&r.searchParams.set(i,s);return r.toString()}async function T_(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function R_(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:n,path:r,query:i,body:s,headers:a}){const o=L_(t.baseUrl,r,i),l=await T_(t.auth),c=await e(o,{method:n,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),m=await c.text(),f=(c.headers.get("content-type")||"").includes("application/json"),y=f&&m?JSON.parse(m):m;if(!c.ok){const h=f?y:void 0,k=h==null?void 0:h.error;throw new Zu((k==null?void 0:k.message)??`Request failed with status ${c.status}`,{status:c.status,icebergType:k==null?void 0:k.type,icebergCode:k==null?void 0:k.code,details:h})}return{status:c.status,headers:c.headers,data:y}}}}function Sd(t){return t.join("")}var I_=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Sd(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(r=>({namespace:r}))}async createNamespace(t,e){const n={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:n})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Sd(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Sd(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Sd(t.namespace)}`}),!0}catch(e){if(e instanceof Zu&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(n){if(n instanceof Zu&&n.status===409)return;throw n}}};function Co(t){return t.join("")}var O_=class{constructor(t,e="",n){this.client=t,this.prefix=e,this.accessDelegation=n}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Co(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Co(t.namespace)}/tables`,body:e,headers:n})).data.metadata}async updateTable(t,e){const n=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Co(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":n.data["metadata-location"],metadata:n.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Co(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Co(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Co(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(n){if(n instanceof Zu&&n.status===404)return!1;throw n}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(n){if(n instanceof Zu&&n.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw n}}},D_=class{constructor(t){var r;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const n=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=R_({baseUrl:n,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(r=t.accessDelegation)==null?void 0:r.join(","),this.namespaceOps=new I_(this.client,e),this.tableOps=new O_(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},qh=class extends Error{constructor(t){super(t),this.__isStorageError=!0,this.name="StorageError"}};function $t(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var F_=class extends qh{constructor(t,e,n){super(t),this.name="StorageApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Em=class extends qh{constructor(t,e){super(t),this.name="StorageUnknownError",this.originalError=e}};const Q0=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),M_=()=>Response,Lm=t=>{if(Array.isArray(t))return t.map(n=>Lm(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const i=n.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=Lm(r)}),e},z_=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},B_=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function ec(t){"@babel/helpers - typeof";return ec=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ec(t)}function U_(t,e){if(ec(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ec(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q_(t){var e=U_(t,"string");return ec(e)=="symbol"?e:e+""}function $_(t,e,n){return(e=q_(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?sv(Object(n),!0).forEach(function(r){$_(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):sv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const pp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},W_=async(t,e,n)=>{t instanceof await M_()&&!(n!=null&&n.noResolveJson)?t.json().then(r=>{const i=t.status||500,s=(r==null?void 0:r.statusCode)||i+"";e(new F_(pp(r),i,s))}).catch(r=>{e(new Em(pp(r),r))}):e(new Em(pp(t),t))},H_=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!r?i:(z_(r)?(i.headers=Je({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,e!=null&&e.duplex&&(i.duplex=e.duplex),Je(Je({},i),n))};async function fc(t,e,n,r,i,s){return new Promise((a,o)=>{t(n,H_(e,r,i,s)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>W_(l,o,r))})}async function tc(t,e,n,r){return fc(t,"GET",e,n,r)}async function ui(t,e,n,r,i){return fc(t,"POST",e,r,i,n)}async function Tm(t,e,n,r,i){return fc(t,"PUT",e,r,i,n)}async function V_(t,e,n,r){return fc(t,"HEAD",e,Je(Je({},n),{},{noResolveJson:!0}),r)}async function X0(t,e,n,r,i){return fc(t,"DELETE",e,r,i,n)}var G_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if($t(e))return{data:null,error:e};throw e}}};let B5;B5=Symbol.toStringTag;var K_=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[B5]="BlobDownloadBuilder",this.promise=null}asStream(){return new G_(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if($t(e))return{data:null,error:e};throw e}}};const Y_={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},av={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var J_=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.bucketId=n,this.fetch=Q0(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(t,e,n,r){var i=this;try{let s;const a=Je(Je({},av),r);let o=Je(Je({},i.headers),t==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",i.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",i.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=i.toBase64(i.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),r!=null&&r.headers&&(o=Je(Je({},o),r.headers));const c=i._removeEmptyFolders(e),m=i._getFinalPath(c),f=await(t=="PUT"?Tm:ui)(i.fetch,`${i.url}/object/${m}`,s,Je({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:c,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(i.shouldThrowOnError)throw s;if($t(s))return{data:null,error:s};throw s}}async upload(t,e,n){return this.uploadOrUpdate("POST",t,e,n)}async uploadToSignedUrl(t,e,n,r){var i=this;const s=i._removeEmptyFolders(t),a=i._getFinalPath(s),o=new URL(i.url+`/object/upload/sign/${a}`);o.searchParams.set("token",e);try{let l;const c=Je({upsert:av.upsert},r),m=Je(Je({},i.headers),{"x-upsert":String(c.upsert)});return typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",c.cacheControl)):(l=n,m["cache-control"]=`max-age=${c.cacheControl}`,m["content-type"]=c.contentType),{data:{path:s,fullPath:(await Tm(i.fetch,o.toString(),l,{headers:m})).Key},error:null}}catch(l){if(i.shouldThrowOnError)throw l;if($t(l))return{data:null,error:l};throw l}}async createSignedUploadUrl(t,e){var n=this;try{let r=n._getFinalPath(t);const i=Je({},n.headers);e!=null&&e.upsert&&(i["x-upsert"]="true");const s=await ui(n.fetch,`${n.url}/object/upload/sign/${r}`,{},{headers:i}),a=new URL(n.url+s.url),o=a.searchParams.get("token");if(!o)throw new qh("No token returned by API");return{data:{signedUrl:a.toString(),path:t,token:o},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}}async update(t,e,n){return this.uploadOrUpdate("PUT",t,e,n)}async move(t,e,n){var r=this;try{return{data:await ui(r.fetch,`${r.url}/object/move`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers}),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async copy(t,e,n){var r=this;try{return{data:{path:(await ui(r.fetch,`${r.url}/object/copy`,{bucketId:r.bucketId,sourceKey:t,destinationKey:e,destinationBucket:n==null?void 0:n.destinationBucket},{headers:r.headers})).Key},error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async createSignedUrl(t,e,n){var r=this;try{let i=r._getFinalPath(t),s=await ui(r.fetch,`${r.url}/object/sign/${i}`,Je({expiresIn:e},n!=null&&n.transform?{transform:n.transform}:{}),{headers:r.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${r.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async createSignedUrls(t,e,n){var r=this;try{const i=await ui(r.fetch,`${r.url}/object/sign/${r.bucketId}`,{expiresIn:e,paths:t},{headers:r.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Je(Je({},a),{},{signedUrl:a.signedURL?encodeURI(`${r.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}download(t,e){const n=typeof(e==null?void 0:e.transform)<"u"?"render/image/authenticated":"object",r=this.transformOptsToQueryString((e==null?void 0:e.transform)||{}),i=r?`?${r}`:"",s=this._getFinalPath(t),a=()=>tc(this.fetch,`${this.url}/${n}/${s}${i}`,{headers:this.headers,noResolveJson:!0});return new K_(a,this.shouldThrowOnError)}async info(t){var e=this;const n=e._getFinalPath(t);try{return{data:Lm(await tc(e.fetch,`${e.url}/object/info/${n}`,{headers:e.headers})),error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}}async exists(t){var e=this;const n=e._getFinalPath(t);try{return await V_(e.fetch,`${e.url}/object/${n}`,{headers:e.headers}),{data:!0,error:null}}catch(r){if(e.shouldThrowOnError)throw r;if($t(r)&&r instanceof Em){const i=r.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:r}}throw r}}getPublicUrl(t,e){const n=this._getFinalPath(t),r=[],i=e!=null&&e.download?`download=${e.download===!0?"":e.download}`:"";i!==""&&r.push(i);const s=typeof(e==null?void 0:e.transform)<"u"?"render/image":"object",a=this.transformOptsToQueryString((e==null?void 0:e.transform)||{});a!==""&&r.push(a);let o=r.join("&");return o!==""&&(o=`?${o}`),{data:{publicUrl:encodeURI(`${this.url}/${s}/public/${n}${o}`)}}}async remove(t){var e=this;try{return{data:await X0(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async list(t,e,n){var r=this;try{const i=Je(Je(Je({},Y_),e),{},{prefix:t||""});return{data:await ui(r.fetch,`${r.url}/object/list/${r.bucketId}`,i,{headers:r.headers},n),error:null}}catch(i){if(r.shouldThrowOnError)throw i;if($t(i))return{data:null,error:i};throw i}}async listV2(t,e){var n=this;try{const r=Je({},t);return{data:await ui(n.fetch,`${n.url}/object/list-v2/${n.bucketId}`,r,{headers:n.headers},e),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const U5="2.89.0",q5={"X-Client-Info":`storage-js/${U5}`};var Q_=class{constructor(t,e={},n,r){this.shouldThrowOnError=!1;const i=new URL(t);r!=null&&r.useNewHostname&&/supabase\.(co|in|red)$/.test(i.hostname)&&!i.hostname.includes("storage.supabase.")&&(i.hostname=i.hostname.replace("supabase.","storage.supabase.")),this.url=i.href.replace(/\/$/,""),this.headers=Je(Je({},q5),e),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(t){var e=this;try{const n=e.listBucketOptionsToQueryString(t);return{data:await tc(e.fetch,`${e.url}/bucket${n}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await tc(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async createBucket(t,e={public:!1}){var n=this;try{return{data:await ui(n.fetch,`${n.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}}async updateBucket(t,e){var n=this;try{return{data:await Tm(n.fetch,`${n.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if($t(r))return{data:null,error:r};throw r}}async emptyBucket(t){var e=this;try{return{data:await ui(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await X0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},X_=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Je(Je({},q5),e),this.fetch=Q0(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await ui(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async listBuckets(t){var e=this;try{const n=new URLSearchParams;(t==null?void 0:t.limit)!==void 0&&n.set("limit",t.limit.toString()),(t==null?void 0:t.offset)!==void 0&&n.set("offset",t.offset.toString()),t!=null&&t.sortColumn&&n.set("sortColumn",t.sortColumn),t!=null&&t.sortOrder&&n.set("sortOrder",t.sortOrder),t!=null&&t.search&&n.set("search",t.search);const r=n.toString(),i=r?`${e.url}/bucket?${r}`:`${e.url}/bucket`;return{data:await tc(e.fetch,i,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await X0(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if($t(n))return{data:null,error:n};throw n}}from(t){var e=this;if(!B_(t))throw new qh("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const n=new D_({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),r=this.shouldThrowOnError;return new Proxy(n,{get(i,s){const a=i[s];return typeof a!="function"?a:async(...o)=>{try{return{data:await a.apply(i,o),error:null}}catch(l){if(r)throw l;return{data:null,error:l}}}}})}};const Z0={"X-Client-Info":`storage-js/${U5}`,"Content-Type":"application/json"};var $5=class extends Error{constructor(t){super(t),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function Sr(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}var mp=class extends $5{constructor(t,e,n){super(t),this.name="StorageVectorsApiError",this.status=e,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Z_=class extends $5{constructor(t,e){super(t),this.name="StorageVectorsUnknownError",this.originalError=e}};const eg=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},ov=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tS=async(t,e,n)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(n!=null&&n.noResolveJson)){const r=t.status||500,i=t;if(typeof i.json=="function")i.json().then(s=>{const a=(s==null?void 0:s.statusCode)||(s==null?void 0:s.code)||r+"";e(new mp(ov(s),r,a))}).catch(()=>{const s=r+"";e(new mp(i.statusText||`HTTP ${r} error`,r,s))});else{const s=r+"";e(new mp(i.statusText||`HTTP ${r} error`,r,s))}}else e(new Z_(ov(t),t))},nS=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return r?(eS(r)?(i.headers=Je({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(r)):i.body=r,Je(Je({},i),n)):i};async function rS(t,e,n,r,i,s){return new Promise((a,o)=>{t(n,nS(e,r,i,s)).then(l=>{if(!l.ok)throw l;if(r!=null&&r.noResolveJson)return l;const c=l.headers.get("content-type");return!c||!c.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>tS(l,o,r))})}async function kr(t,e,n,r,i){return rS(t,"POST",e,r,i,n)}var iS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Je(Je({},Z0),e),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async getIndex(t,e){var n=this;try{return{data:await kr(n.fetch,`${n.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}async listIndexes(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async deleteIndex(t,e){var n=this;try{return{data:await kr(n.fetch,`${n.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(Sr(r))return{data:null,error:r};throw r}}},sS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Je(Je({},Z0),e),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(t){var e=this;try{if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await kr(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async getVectors(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async listVectors(t){var e=this;try{if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return{data:await kr(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async queryVectors(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async deleteVectors(t){var e=this;try{if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await kr(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}},aS=class{constructor(t,e={},n){this.shouldThrowOnError=!1,this.url=t.replace(/\/$/,""),this.headers=Je(Je({},Z0),e),this.fetch=eg(n)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async getBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async listBuckets(t={}){var e=this;try{return{data:await kr(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}),error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}async deleteBucket(t){var e=this;try{return{data:await kr(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{},error:null}}catch(n){if(e.shouldThrowOnError)throw n;if(Sr(n))return{data:null,error:n};throw n}}},oS=class extends aS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new lS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,n=this;return e().call(n,t)}async getBucket(t){var e=()=>super.getBucket,n=this;return e().call(n,t)}async listBuckets(t={}){var e=()=>super.listBuckets,n=this;return e().call(n,t)}async deleteBucket(t){var e=()=>super.deleteBucket,n=this;return e().call(n,t)}},lS=class extends iS{constructor(t,e,n,r){super(t,e,r),this.vectorBucketName=n}async createIndex(t){var e=()=>super.createIndex,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,n=this;return e().call(n,n.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,n=this;return e().call(n,n.vectorBucketName,t)}index(t){return new uS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},uS=class extends sS{constructor(t,e,n,r,i){super(t,e,i),this.vectorBucketName=n,this.indexName=r}async putVectors(t){var e=()=>super.putVectors,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async getVectors(t){var e=()=>super.getVectors,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,n=this;return e().call(n,Je(Je({},t),{},{vectorBucketName:n.vectorBucketName,indexName:n.indexName}))}},cS=class extends Q_{constructor(t,e={},n,r){super(t,e,n,r)}from(t){return new J_(this.url,this.headers,t,this.fetch)}get vectors(){return new oS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new X_(this.url+"/iceberg",this.headers,this.fetch)}};const W5="2.89.0",Bo=30*1e3,Rm=3,gp=Rm*Bo,dS="http://localhost:9999",hS="supabase.auth.token",fS={"X-Client-Info":`gotrue-js/${W5}`},Im="X-Supabase-Api-Version",H5={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},pS=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,mS=10*60*1e3;class nc extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function qe(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class gS extends nc{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function vS(t){return qe(t)&&t.name==="AuthApiError"}class Ca extends nc{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class fs extends nc{constructor(e,n,r,i){super(e,r,i),this.name=n,this.status=r}}class br extends fs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function yS(t){return qe(t)&&t.name==="AuthSessionMissingError"}class Eo extends fs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class kd extends fs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class Nd extends fs{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function wS(t){return qe(t)&&t.name==="AuthImplicitGrantRedirectError"}class lv extends fs{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class bS extends fs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Om extends fs{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function vp(t){return qe(t)&&t.name==="AuthRetryableFetchError"}class uv extends fs{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dm extends fs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const vh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),cv=` 	
\r=`.split(""),xS=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<cv.length;e+=1)t[cv[e].charCodeAt(0)]=-2;for(let e=0;e<vh.length;e+=1)t[vh[e].charCodeAt(0)]=e;return t})();function dv(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vh[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(vh[r]),e.queuedBits-=6}}function V5(t,e,n){const r=xS[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function hv(t){const e=[],n=a=>{e.push(String.fromCodePoint(a))},r={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{kS(a,r,n)};for(let a=0;a<t.length;a+=1)V5(t.charCodeAt(a),i,s);return e.join("")}function _S(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function SS(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const i=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|i)+65536,n+=1}_S(r,e)}}function kS(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function ul(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)V5(t.charCodeAt(i),n,r);return new Uint8Array(e)}function NS(t){const e=[];return SS(t,n=>e.push(n)),new Uint8Array(e)}function Ra(t){const e=[],n={queue:0,queuedBits:0},r=i=>{e.push(i)};return t.forEach(i=>dv(i,n,r)),dv(null,n,r),e.join("")}function AS(t){return Math.round(Date.now()/1e3)+t}function PS(){return Symbol("auth-callback")}const Rn=()=>typeof window<"u"&&typeof document<"u",xa={tested:!1,writable:!1},G5=()=>{if(!Rn())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(xa.tested)return xa.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),xa.tested=!0,xa.writable=!0}catch{xa.tested=!0,xa.writable=!1}return xa.writable};function jS(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return n.searchParams.forEach((r,i)=>{e[i]=r}),e}const K5=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),CS=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Uo=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},_a=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},En=async(t,e)=>{await t.removeItem(e)};class $h{constructor(){this.promise=new $h.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}$h.promiseConstructor=Promise;function yp(t){const e=t.split(".");if(e.length!==3)throw new Dm("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!pS.test(e[r]))throw new Dm("JWT not in base64url format");return{header:JSON.parse(hv(e[0])),payload:JSON.parse(hv(e[1])),signature:ul(e[2]),raw:{header:e[0],payload:e[1]}}}async function ES(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function LS(t,e){return new Promise((r,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){r(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function TS(t){return("0"+t.toString(16)).substr(-2)}function RS(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let i="";for(let s=0;s<56;s++)i+=n.charAt(Math.floor(Math.random()*r));return i}return crypto.getRandomValues(e),Array.from(e,TS).join("")}async function IS(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),i=new Uint8Array(r);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function OS(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await IS(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Lo(t,e,n=!1){const r=RS();let i=r;n&&(i+="/PASSWORD_RECOVERY"),await Uo(t,`${e}-code-verifier`,i);const s=await OS(r);return[s,r===s?"plain":"s256"]}const DS=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function FS(t){const e=t.headers.get(Im);if(!e||!e.match(DS))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function MS(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function zS(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const BS=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function To(t){if(!BS.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function wp(){const t={};return new Proxy(t,{get:(e,n)=>{if(n==="__isUserNotAvailableProxy")return!0;if(typeof n=="symbol"){const r=n.toString();if(r==="Symbol(Symbol.toPrimitive)"||r==="Symbol(Symbol.toStringTag)"||r==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${n}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,n)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${n}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function US(t,e){return new Proxy(t,{get:(n,r,i)=>{if(r==="__isInsecureUserWarningProxy")return!0;if(typeof r=="symbol"){const s=r.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(n,r,i)}return!e.value&&typeof r=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(n,r,i)}})}function fv(t){return JSON.parse(JSON.stringify(t))}const Na=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),qS=[502,503,504];async function pv(t){var e;if(!CS(t))throw new Om(Na(t),0);if(qS.includes(t.status))throw new Om(Na(t),t.status);let n;try{n=await t.json()}catch(s){throw new Ca(Na(s),s)}let r;const i=FS(t);if(i&&i.getTime()>=H5["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new uv(Na(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new br}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new uv(Na(n),t.status,n.weak_password.reasons);throw new gS(Na(n),t.status||500,r)}const $S=(t,e,n,r)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(r),Object.assign(Object.assign({},i),n))};async function Ye(t,e,n,r){var i;const s=Object.assign({},r==null?void 0:r.headers);s[Im]||(s[Im]=H5["2024-01-01"].name),r!=null&&r.jwt&&(s.Authorization=`Bearer ${r.jwt}`);const a=(i=r==null?void 0:r.query)!==null&&i!==void 0?i:{};r!=null&&r.redirectTo&&(a.redirect_to=r.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await WS(t,e,n+o,{headers:s,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function WS(t,e,n,r,i,s){const a=$S(e,r,i,s);let o;try{o=await t(n,Object.assign({},a))}catch(l){throw console.error(l),new Om(Na(l),0)}if(o.ok||await pv(o),r!=null&&r.noResolveJson)return o;try{return await o.json()}catch(l){await pv(l)}}function oi(t){var e;let n=null;GS(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=AS(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function mv(t){const e=oi(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Ms(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function HS(t){return{data:t,error:null}}function VS(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s}=t,a=Uh(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:n,hashed_token:r,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function gv(t){return t}function GS(t){return t.access_token&&t.refresh_token&&t.expires_in}const bp=["global","local","others"];class KS{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=K5(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,n=bp[0]){if(bp.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${bp.join(", ")}`);try{return await Ye(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(qe(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await Ye(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Ms})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=Uh(e,["options"]),i=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(i.new_email=r==null?void 0:r.newEmail,delete i.newEmail),await Ye(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:VS,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(qe(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Ms})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},m=await Ye(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:gv});if(m.error)throw m.error;const f=await m.json(),y=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=m.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);c[`${_}Page`]=S}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(qe(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){To(e);try{return await Ye(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Ms})}catch(n){if(qe(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){To(e);try{return await Ye(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Ms})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){To(e);try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Ms})}catch(r){if(qe(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){To(e.userId);try{const{data:n,error:r}=await Ye(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:n,error:r}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _deleteFactor(e){To(e.userId),To(e.id);try{return{data:await Ye(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _listOAuthClients(e){var n,r,i,s,a,o,l;try{const c={nextPage:null,lastPage:0,total:0},m=await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:gv});if(m.error)throw m.error;const f=await m.json(),y=(a=m.headers.get("x-total-count"))!==null&&a!==void 0?a:0,h=(l=(o=m.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return h.length>0&&(h.forEach(k=>{const S=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);c[`${_}Page`]=S}),c.total=parseInt(y)),{data:Object.assign(Object.assign({},f),c),error:null}}catch(c){if(qe(c))return{data:{clients:[]},error:c};throw c}}async _createOAuthClient(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _getOAuthClient(e){try{return await Ye(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _updateOAuthClient(e,n){try{return await Ye(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(qe(r))return{data:null,error:r};throw r}}async _deleteOAuthClient(e){try{return await Ye(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(n){if(qe(n))return{data:null,error:n};throw n}}async _regenerateOAuthClientSecret(e){try{return await Ye(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(qe(n))return{data:null,error:n};throw n}}}function vv(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}const Ro={debug:!!(globalThis&&G5()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Y5 extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class YS extends Y5{}async function JS(t,e,n){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async i=>{if(i){Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await n()}finally{Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw Ro.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new YS(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(Ro.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}function QS(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function J5(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function XS(t){return parseInt(t,16)}function ZS(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,r=>r.toString(16).padStart(2,"0")).join("")}function e6(t){var e;const{chainId:n,domain:r,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:c,scheme:m,uri:f,version:y}=t;{if(!Number.isInteger(n))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${n}`);if(!r)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(y!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${y}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const h=J5(t.address),k=m?`${m}://${r}`:r,S=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${h}

${S}`;let b=`URI: ${f}
Version: ${y}
Chain ID: ${n}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(b+=`
Expiration Time: ${i.toISOString()}`),o&&(b+=`
Not Before: ${o.toISOString()}`),l&&(b+=`
Request ID: ${l}`),c){let p=`
Resources:`;for(const w of c){if(!w||typeof w!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${w}`);p+=`
- ${w}`}b+=p}return`${_}
${b}`}class fn extends Error{constructor({message:e,code:n,cause:r,name:i}){var s;super(e,{cause:r}),this.__isWebAuthnError=!0,this.name=(s=i??(r instanceof Error?r.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=n}}class yh extends fn{constructor(e,n){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:n,message:e}),this.name="WebAuthnUnknownError",this.originalError=n}}function t6({error:t,options:e}){var n,r,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fn({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((n=s.authenticatorSelection)===null||n===void 0?void 0:n.requireResidentKey)===!0)return new fn({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((r=s.authenticatorSelection)===null||r===void 0?void 0:r.userVerification)==="required")return new fn({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new fn({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new fn({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new fn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new fn({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new fn({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Q5(a)){if(s.rp.id!==a)return new fn({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new fn({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new fn({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function n6({error:t,options:e}){const{publicKey:n}=e;if(!n)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new fn({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new fn({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const r=window.location.hostname;if(Q5(r)){if(n.rpId!==r)return new fn({message:`The RP ID "${n.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new fn({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new fn({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new fn({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class r6{createNewAbortSignal(){if(this.controller){const n=new Error("Cancelling existing WebAuthn API call for new one");n.name="AbortError",this.controller.abort(n)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const i6=new r6;function s6(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:n,excludeCredentials:r}=t,i=Uh(t,["challenge","user","excludeCredentials"]),s=ul(e).buffer,a=Object.assign(Object.assign({},n),{id:ul(n.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(r&&r.length>0){o.excludeCredentials=new Array(r.length);for(let l=0;l<r.length;l++){const c=r[l];o.excludeCredentials[l]=Object.assign(Object.assign({},c),{id:ul(c.id).buffer,type:c.type||"public-key",transports:c.transports})}}return o}function a6(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:n}=t,r=Uh(t,["challenge","allowCredentials"]),i=ul(e).buffer,s=Object.assign(Object.assign({},r),{challenge:i});if(n&&n.length>0){s.allowCredentials=new Array(n.length);for(let a=0;a<n.length;a++){const o=n[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:ul(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function o6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t;return{id:t.id,rawId:t.id,response:{attestationObject:Ra(new Uint8Array(t.response.attestationObject)),clientDataJSON:Ra(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function l6(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const n=t,r=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:Ra(new Uint8Array(i.authenticatorData)),clientDataJSON:Ra(new Uint8Array(i.clientDataJSON)),signature:Ra(new Uint8Array(i.signature)),userHandle:i.userHandle?Ra(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:r,authenticatorAttachment:(e=n.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Q5(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function yv(){var t,e;return!!(Rn()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function u6(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",e)}:{data:null,error:new yh("Empty credential response",e)}}catch(e){return{data:null,error:t6({error:e,options:t})}}}async function c6(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new yh("Browser returned unexpected credential type",e)}:{data:null,error:new yh("Empty credential response",e)}}catch(e){return{data:null,error:n6({error:e,options:t})}}}const d6={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},h6={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function wh(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),n=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),r={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))r[s]=a;else if(n(a))r[s]=a;else if(e(a)){const o=r[s];e(o)?r[s]=wh(o,a):r[s]=wh(a)}else r[s]=a}return r}function f6(t,e){return wh(d6,t,e||{})}function p6(t,e){return wh(h6,t,e||{})}class m6{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:n,friendlyName:r,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:n});if(!a)return{data:null,error:o};const l=i??i6.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:c}=a.webauthn.credential_options.publicKey;c.name||(c.name=`${c.id}:${r}`),c.displayName||(c.displayName=c.name)}switch(a.webauthn.type){case"create":{const c=f6(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:m,error:f}=await u6({publicKey:c,signal:l});return m?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:f}}case"request":{const c=p6(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:m,error:f}=await c6(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:c,signal:l}));return m?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:m}},error:null}:{data:null,error:f}}}}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new Ca("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:n,webauthn:r}){return this.client.mfa.verify({factorId:n,challengeId:e,webauthn:r})}async _authenticate({factorId:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn authentication")};try{if(!yv())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:n,rpOrigins:r},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:n,rpOrigins:r,credential_response:l.credential_response}})}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new Ca("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:n=typeof window<"u"?window.location.hostname:void 0,rpOrigins:r=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!n)return{data:null,error:new nc("rpId is required for WebAuthn registration")};try{if(!yv())return{data:null,error:new Ca("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(m=>{var f;return(f=m.data)===null||f===void 0?void 0:f.all.find(y=>y.factor_type==="webauthn"&&y.friendly_name===e&&y.status!=="unverified")}).then(m=>m?this.client.mfa.unenroll({factorId:m==null?void 0:m.id}):void 0),{data:null,error:o};const{data:l,error:c}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:n,rpOrigins:r},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:n,rpOrigins:r,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:c}}catch(a){return qe(a)?{data:null,error:a}:{data:null,error:new Ca("Unexpected error in register",a)}}}}QS();const g6={url:dS,storageKey:hS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:fS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function wv(t,e,n){return await n()}const Io={};class rc{get jwks(){var e,n;return(n=(e=Io[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&n!==void 0?n:{keys:[]}}set jwks(e){Io[this.storageKey]=Object.assign(Object.assign({},Io[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,n;return(n=(e=Io[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&n!==void 0?n:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Io[this.storageKey]=Object.assign(Object.assign({},Io[this.storageKey]),{cachedAt:e})}constructor(e){var n,r,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},g6),e);if(this.storageKey=s.storageKey,this.instanceID=(n=rc.nextInstanceID[this.storageKey])!==null&&n!==void 0?n:0,rc.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Rn()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new KS({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=K5(s.fetch),this.lock=s.lock||wv,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:this.persistSession&&Rn()&&(!((r=globalThis==null?void 0:globalThis.navigator)===null||r===void 0)&&r.locks)?this.lock=JS:this.lock=wv,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new m6(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:G5()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=vv(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=vv(this.memoryStorage)),Rn()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${W5}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let n={},r="none";if(Rn()&&(n=jS(window.location.href),this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce")),Rn()&&this.detectSessionInUrl&&r!=="none"){const{data:i,error:s}=await this._getSessionFromURL(n,r);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),wS(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return qe(n)?this._returnResult({error:n}):this._returnResult({error:new Ca("Unexpected error during initialization",n)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,i;try{const s=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:oi}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var n,r,i;try{let s;if("email"in e){const{email:m,password:f,options:y}=e;let h=null,k=null;this.flowType==="pkce"&&([h,k]=await Lo(this.storage,this.storageKey)),s=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:y==null?void 0:y.emailRedirectTo,body:{email:m,password:f,data:(n=y==null?void 0:y.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken},code_challenge:h,code_challenge_method:k},xform:oi})}else if("phone"in e){const{phone:m,password:f,options:y}=e;s=await Ye(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:m,password:f,data:(r=y==null?void 0:y.data)!==null&&r!==void 0?r:{},channel:(i=y==null?void 0:y.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:y==null?void 0:y.captchaToken}},xform:oi})}else throw new kd("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return await En(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:o});const l=a.session,c=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(s){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let n;if("email"in e){const{email:s,password:a,options:o}=e;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mv})}else if("phone"in e){const{phone:s,password:a,options:o}=e;n=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:mv})}else throw new kd("You must provide either an email or phone number and a password");const{data:r,error:i}=n;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!r||!r.session||!r.user){const s=new Eo;return this._returnResult({data:{user:null,session:null},error:s})}return r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),this._returnResult({data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:i})}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOAuth(e){var n,r,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;switch(n){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}}async signInWithEthereum(e){var n,r,i,s,a,o,l,c,m,f,y;let h,k;if("message"in e)h=e.message,k=e.signature;else{const{chain:S,wallet:_,statement:b,options:p}=e;let w;if(Rn())if(typeof _=="object")w=_;else{const V=window;if("ethereum"in V&&typeof V.ethereum=="object"&&"request"in V.ethereum&&typeof V.ethereum.request=="function")w=V.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");w=_}const N=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href),F=await w.request({method:"eth_requestAccounts"}).then(V=>V).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!F||F.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const q=J5(F[0]);let L=(r=p==null?void 0:p.signInWithEthereum)===null||r===void 0?void 0:r.chainId;if(!L){const V=await w.request({method:"eth_chainId"});L=XS(V)}const E={domain:N.host,address:q,statement:b,uri:N.href,version:"1",chainId:L,nonce:(i=p==null?void 0:p.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=p==null?void 0:p.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=p==null?void 0:p.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=p==null?void 0:p.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(c=p==null?void 0:p.signInWithEthereum)===null||c===void 0?void 0:c.requestId,resources:(m=p==null?void 0:p.signInWithEthereum)===null||m===void 0?void 0:m.resources};h=e6(E),k=await w.request({method:"personal_sign",params:[ZS(h),q]})}try{const{data:S,error:_}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:h,signature:k},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(y=e.options)===null||y===void 0?void 0:y.captchaToken}}:null),xform:oi});if(_)throw _;if(!S||!S.session||!S.user){const b=new Eo;return this._returnResult({data:{user:null,session:null},error:b})}return S.session&&(await this._saveSession(S.session),await this._notifyAllSubscribers("SIGNED_IN",S.session)),this._returnResult({data:Object.assign({},S),error:_})}catch(S){if(qe(S))return this._returnResult({data:{user:null,session:null},error:S});throw S}}async signInWithSolana(e){var n,r,i,s,a,o,l,c,m,f,y,h;let k,S;if("message"in e)k=e.message,S=e.signature;else{const{chain:_,wallet:b,statement:p,options:w}=e;let N;if(Rn())if(typeof b=="object")N=b;else{const q=window;if("solana"in q&&typeof q.solana=="object"&&("signIn"in q.solana&&typeof q.solana.signIn=="function"||"signMessage"in q.solana&&typeof q.solana.signMessage=="function"))N=q.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof b!="object"||!(w!=null&&w.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");N=b}const F=new URL((n=w==null?void 0:w.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in N&&N.signIn){const q=await N.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},w==null?void 0:w.signInWithSolana),{version:"1",domain:F.host,uri:F.href}),p?{statement:p}:null));let L;if(Array.isArray(q)&&q[0]&&typeof q[0]=="object")L=q[0];else if(q&&typeof q=="object"&&"signedMessage"in q&&"signature"in q)L=q;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)k=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),S=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in N)||typeof N.signMessage!="function"||!("publicKey"in N)||typeof N!="object"||!N.publicKey||!("toBase58"in N.publicKey)||typeof N.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${F.host} wants you to sign in with your Solana account:`,N.publicKey.toBase58(),...p?["",p,""]:[""],"Version: 1",`URI: ${F.href}`,`Issued At: ${(i=(r=w==null?void 0:w.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=w==null?void 0:w.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${w.signInWithSolana.notBefore}`]:[],...!((a=w==null?void 0:w.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${w.signInWithSolana.expirationTime}`]:[],...!((o=w==null?void 0:w.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${w.signInWithSolana.chainId}`]:[],...!((l=w==null?void 0:w.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${w.signInWithSolana.nonce}`]:[],...!((c=w==null?void 0:w.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${w.signInWithSolana.requestId}`]:[],...!((f=(m=w==null?void 0:w.signInWithSolana)===null||m===void 0?void 0:m.resources)===null||f===void 0)&&f.length?["Resources",...w.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const q=await N.signMessage(new TextEncoder().encode(k),"utf8");if(!q||!(q instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");S=q}}try{const{data:_,error:b}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:Ra(S)},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(h=e.options)===null||h===void 0?void 0:h.captchaToken}}:null),xform:oi});if(b)throw b;if(!_||!_.session||!_.user){const p=new Eo;return this._returnResult({data:{user:null,session:null},error:p})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:b})}catch(_){if(qe(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const n=await _a(this.storage,`${this.storageKey}-code-verifier`),[r,i]=(n??"").split("/");try{if(!r&&this.flowType==="pkce")throw new bS;const{data:s,error:a}=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:oi});if(await En(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Eo;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:n,provider:r,token:i,access_token:s,nonce:a}=e,o=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:oi}),{data:l,error:c}=o;if(c)return this._returnResult({data:{user:null,session:null},error:c});if(!l||!l.session||!l.user){const m=new Eo;return this._returnResult({data:{user:null,session:null},error:m})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:c})}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async signInWithOtp(e){var n,r,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let c=null,m=null;this.flowType==="pkce"&&([c,m]=await Lo(this.storage,this.storageKey));const{error:f}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:m},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:c,error:m}=await Ye(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:m})}throw new kd("You must provide either an email or phone number.")}catch(o){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var n,r;try{let i,s;"options"in e&&(i=(n=e.options)===null||n===void 0?void 0:n.redirectTo,s=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:a,error:o}=await Ye(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:oi});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,c=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:c,session:l},error:null})}catch(i){if(qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var n,r,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Lo(this.storage,this.storageKey));const c=await Ye(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:HS});return!((s=c.data)===null||s===void 0)&&s.url&&Rn()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(c.data.url),this._returnResult(c)}catch(o){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new br;const{error:i}=await Ye(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(qe(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:i,options:s}=e,{error:a}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:r,type:i,options:s}=e,{data:a,error:o}=await Ye(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new kd("You must provide either an email or phone number and a type")}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await _a(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<gp:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.userStorage){const a=await _a(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=wp()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=US(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const n=await this._acquireLock(-1,async()=>await this._getUser());return n.data.user&&(this.suppressGetSessionWarning=!0),n}async _getUser(e){try{return e?await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Ms}):await this._useSession(async n=>{var r,i,s;const{data:a,error:o}=n;if(o)throw o;return!(!((r=a.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new br}:await Ye(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Ms})})}catch(n){if(qe(n))return yS(n)&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:n});throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:i,error:s}=r;if(s)throw s;if(!i.session)throw new br;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Lo(this.storage,this.storageKey));const{data:c,error:m}=await Ye(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Ms});if(m)throw m;return a.user=c.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(r){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(r))return this._returnResult({data:{user:null},error:r});throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new br;const n=Date.now()/1e3;let r=n,i=!0,s=null;const{payload:a}=yp(e.access_token);if(a.exp&&(r=a.exp,i=r<=n),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(n){if(qe(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:a,error:o}=n;if(o)throw o;e=(r=a.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new br;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(n){if(qe(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async _getSessionFromURL(e,n){try{if(!Rn())throw new Nd("No browser detected.");if(e.error||e.error_description||e.error_code)throw new Nd(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new lv("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new Nd("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new lv("No code detected.");const{data:p,error:w}=await this._exchangeCodeForSession(e.code);if(w)throw w;const N=new URL(window.location.href);return N.searchParams.delete("code"),window.history.replaceState(window.history.state,"",N.toString()),{data:{session:p.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:c}=e;if(!s||!o||!a||!c)throw new Nd("No session defined in URL");const m=Math.round(Date.now()/1e3),f=parseInt(o);let y=m+f;l&&(y=parseInt(l));const h=y-m;h*1e3<=Bo&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${h}s, should have been closer to ${f}s`);const k=y-f;m-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,y,m):m-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,y,m);const{data:S,error:_}=await this._getUser(s);if(_)throw _;const b={provider_token:r,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:y,refresh_token:a,token_type:c,user:S.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:b,redirectType:e.type},error:null})}catch(r){if(qe(r))return this._returnResult({data:{session:null,redirectType:null},error:r});throw r}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await _a(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({error:s});const a=(r=i.session)===null||r===void 0?void 0:r.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(vS(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await En(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const n=PS(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,i;try{const{data:{session:s},error:a}=n;if(a)throw a;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,n={}){let r=null,i=null;this.flowType==="pkce"&&([r,i]=await Lo(this.storage,this.storageKey,!0));try{return await Ye(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:i,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(s){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return this._returnResult({data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var n;try{const{data:r,error:i}=await this._useSession(async s=>{var a,o,l,c,m;const{data:f,error:y}=s;if(y)throw y;const h=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ye(this.fetch,"GET",h,{headers:this.headers,jwt:(m=(c=f.session)===null||c===void 0?void 0:c.access_token)!==null&&m!==void 0?m:void 0})});if(i)throw i;return Rn()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),this._returnResult({data:{provider:e.provider,url:r==null?void 0:r.url},error:null})}catch(r){if(qe(r))return this._returnResult({data:{provider:e.provider,url:null},error:r});throw r}}async linkIdentityIdToken(e){return await this._useSession(async n=>{var r;try{const{error:i,data:{session:s}}=n;if(i)throw i;const{options:a,provider:o,token:l,access_token:c,nonce:m}=e,f=await Ye(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(r=s==null?void 0:s.access_token)!==null&&r!==void 0?r:void 0,body:{provider:o,id_token:l,access_token:c,nonce:m,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:oi}),{data:y,error:h}=f;return h?this._returnResult({data:{user:null,session:null},error:h}):!y||!y.session||!y.user?this._returnResult({data:{user:null,session:null},error:new Eo}):(y.session&&(await this._saveSession(y.session),await this._notifyAllSubscribers("USER_UPDATED",y.session)),this._returnResult({data:y,error:h}))}catch(i){if(await En(this.storage,`${this.storageKey}-code-verifier`),qe(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)throw a;return await Ye(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(r=s.session)===null||r===void 0?void 0:r.access_token)!==null&&i!==void 0?i:void 0})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await LS(async i=>(i>0&&await ES(200*Math.pow(2,i-1)),this._debug(n,"refreshing attempt",i),await Ye(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:oi})),(i,s)=>{const a=200*Math.pow(2,i);return s&&vp(s)&&Date.now()+a-r<Bo})}catch(r){if(this._debug(n,"error",r),qe(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Rn()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e,n;const r="#_recoverAndRefresh()";this._debug(r,"begin");try{const i=await _a(this.storage,this.storageKey);if(i&&this.userStorage){let a=await _a(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Uo(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:wp()}else if(i&&!i.user&&!i.user){const a=await _a(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await En(this.storage,this.storageKey+"-user"),await Uo(this.storage,this.storageKey,i)):i.user=wp()}if(this._debug(r,"session from storage",i),!this._isValidSession(i)){this._debug(r,"session is not valid"),i!==null&&await this._removeSession();return}const s=((n=i.expires_at)!==null&&n!==void 0?n:1/0)*1e3-Date.now()<gp;if(this._debug(r,`session has${s?"":" not"} expired with margin of ${gp}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),vp(a)||(this._debug(r,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(r,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(r,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(r,"error",i),console.error(i);return}finally{this._debug(r,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new br;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new $h;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new br;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),qe(s)){const a={data:null,error:s};return vp(s)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(a),a}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,n,r=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,n)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await En(this.storage,`${this.storageKey}-code-verifier`);const n=Object.assign({},e),r=n.user&&n.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!r&&n.user&&await Uo(this.userStorage,this.storageKey+"-user",{user:n.user});const i=Object.assign({},n);delete i.user;const s=fv(i);await Uo(this.storage,this.storageKey,s)}else{const i=fv(n);await Uo(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await En(this.storage,this.storageKey),await En(this.storage,this.storageKey+"-code-verifier"),await En(this.storage,this.storageKey+"-user"),this.userStorage&&await En(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Rn()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Bo);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((r.expires_at*1e3-e)/Bo);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Bo}ms, refresh threshold is ${Rm} ticks`),i<=Rm&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Y5)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Rn()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const i=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&i.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&i.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[s,a]=await Lo(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(r!=null&&r.queryParams){const s=new URLSearchParams(r.queryParams);i.push(s.toString())}return r!=null&&r.skipBrowserRedirect&&i.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;return s?this._returnResult({data:null,error:s}):await Ye(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,i;const{data:s,error:a}=n;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:c}=await Ye(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return c?this._returnResult({data:null,error:c}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?o6(e.webauthn.credential_response):l6(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:i,error:s}=n;if(s)return this._returnResult({data:null,error:s});const a=await Ye(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:s6(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:a6(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?this._returnResult({data:null,error:r}):await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){var e;const{data:{user:n},error:r}=await this.getUser();if(r)return{data:null,error:r};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=n==null?void 0:n.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,n;const{data:{session:r},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!r)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=yp(r.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((n=(e=r.user.factors)===null||e===void 0?void 0:e.filter(m=>m.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(o="aal2");const c=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:c},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?await Ye(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:r.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new br})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async _approveAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new br});const a=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Rn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _denyAuthorization(e,n){try{return await this._useSession(async r=>{const{data:{session:i},error:s}=r;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new br});const a=await Ye(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Rn()&&!(n!=null&&n.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;return r?this._returnResult({data:null,error:r}):n?await Ye(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new br})})}catch(e){if(qe(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async n=>{const{data:{session:r},error:i}=n;return i?this._returnResult({data:null,error:i}):r?(await Ye(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new br})})}catch(n){if(qe(n))return this._returnResult({data:null,error:n});throw n}}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r)return r;const i=Date.now();if(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+mS>i)return r;const{data:s,error:a}=await Ye(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,r=s.keys.find(o=>o.kid===e),!r)?null:r}async getClaims(e,n={}){try{let r=e;if(!r){const{data:h,error:k}=await this.getSession();if(k||!h.session)return this._returnResult({data:null,error:k});r=h.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=yp(r);n!=null&&n.allowExpired||MS(s.exp);const c=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,n!=null&&n.keys?{keys:n.keys}:n==null?void 0:n.jwks);if(!c){const{error:h}=await this.getUser(r);if(h)throw h;return{data:{claims:s,header:i,signature:a},error:null}}const m=zS(i.alg),f=await crypto.subtle.importKey("jwk",c,m,!0,["verify"]);if(!await crypto.subtle.verify(m,f,a,NS(`${o}.${l}`)))throw new Dm("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(r){if(qe(r))return this._returnResult({data:null,error:r});throw r}}}rc.nextInstanceID={};const v6=rc,y6="2.89.0";let gu="";typeof Deno<"u"?gu="deno":typeof document<"u"?gu="web":typeof navigator<"u"&&navigator.product==="ReactNative"?gu="react-native":gu="node";const w6={"X-Client-Info":`supabase-js-${gu}/${y6}`},b6={headers:w6},x6={schema:"public"},_6={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},S6={};function ic(t){"@babel/helpers - typeof";return ic=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ic(t)}function k6(t,e){if(ic(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(ic(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function N6(t){var e=k6(t,"string");return ic(e)=="symbol"?e:e+""}function A6(t,e,n){return(e=N6(e))in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bv(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Xt(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?bv(Object(n),!0).forEach(function(r){A6(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):bv(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}const P6=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),j6=()=>Headers,C6=(t,e,n)=>{const r=P6(n),i=j6();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let c=new i(a==null?void 0:a.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(s,Xt(Xt({},a),{},{headers:c}))}};function E6(t){return t.endsWith("/")?t:t+"/"}function L6(t,e){var n,r;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:c,realtime:m,global:f}=e,y={db:Xt(Xt({},l),i),auth:Xt(Xt({},c),s),realtime:Xt(Xt({},m),a),storage:{},global:Xt(Xt(Xt({},f),o),{},{headers:Xt(Xt({},(n=f==null?void 0:f.headers)!==null&&n!==void 0?n:{}),(r=o==null?void 0:o.headers)!==null&&r!==void 0?r:{})}),accessToken:async()=>""};return t.accessToken?y.accessToken=t.accessToken:delete y.accessToken,y}function T6(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(E6(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var R6=class extends v6{constructor(t){super(t)}},I6=class{constructor(t,e,n){var r,i;this.supabaseUrl=t,this.supabaseKey=e;const s=T6(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",s),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",s),this.storageUrl=new URL("storage/v1",s),this.functionsUrl=new URL("functions/v1",s);const a=`sb-${s.hostname.split(".")[0]}-auth-token`,o={db:x6,realtime:S6,auth:Xt(Xt({},_6),{},{storageKey:a}),global:b6},l=L6(n??{},o);if(this.storageKey=(r=l.auth.storageKey)!==null&&r!==void 0?r:"",this.headers=(i=l.global.headers)!==null&&i!==void 0?i:{},l.accessToken)this.accessToken=l.accessToken,this.auth=new Proxy({},{get:(m,f)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(f)} is not possible`)}});else{var c;this.auth=this._initSupabaseAuthClient((c=l.auth)!==null&&c!==void 0?c:{},this.headers,l.global.fetch)}this.fetch=C6(e,this._getAccessToken.bind(this),l.global.fetch),this.realtime=this._initRealtimeClient(Xt({headers:this.headers,accessToken:this._getAccessToken.bind(this)},l.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new f_(new URL("rest/v1",s).href,{headers:this.headers,schema:l.db.schema,fetch:this.fetch}),this.storage=new cS(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),l.accessToken||this._listenForAuthEvents()}get functions(){return new l_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,n)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,n;if(t.accessToken)return await t.accessToken();const{data:r}=await t.auth.getSession();return(e=(n=r.session)===null||n===void 0?void 0:n.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,storageKey:s,flowType:a,lock:o,debug:l,throwOnError:c},m,f){const y={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new R6({url:this.authUrl.href,headers:Xt(Xt({},y),m),storageKey:s,autoRefreshToken:t,persistSession:e,detectSessionInUrl:n,storage:r,userStorage:i,flowType:a,lock:o,debug:l,throwOnError:c,fetch:f,hasCustomAuthorizationHeader:Object.keys(this.headers).some(h=>h.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new E_(this.realtimeUrl.href,Xt(Xt({},t),{},{params:Xt(Xt({},{apikey:this.supabaseKey}),t==null?void 0:t.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e==null?void 0:e.access_token)})}_handleTokenChanged(t,e,n){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const O6=(t,e,n)=>new I6(t,e,n);function D6(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}D6()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const F6=void 0,M6=void 0;throw new Error("Missing Supabase environment variables");const gt=O6(F6,M6),X5=ge.createContext(void 0),z6=({children:t})=>{const[e,n]=ge.useState(null),[r,i]=ge.useState(null),[s,a]=ge.useState(!0);ge.useEffect(()=>{let S=!0;(async()=>{try{const{data:{session:p}}=await gt.auth.getSession();if(!S)return;p&&(await o(p.user),i(p))}catch(p){console.error("Error initializing auth:",p)}finally{S&&a(!1)}})();const{data:{subscription:b}}=gt.auth.onAuthStateChange((p,w)=>{S&&(async()=>(i(w),w!=null&&w.user?await o(w.user):n(null)))()});return()=>{S=!1,b.unsubscribe()}},[]);const o=async S=>{try{const{data:_,error:b}=await gt.from("user_profiles").select("id, person_id, is_admin").eq("id",S.id).maybeSingle();if(b){console.error("Error loading user profile:",b);return}_&&n({id:_.id,personId:_.person_id,isAdmin:_.is_admin,email:S.email||""})}catch(_){console.error("Error loading user profile:",_)}},k={user:e,loading:s,session:r,signUp:async(S,_,b)=>{try{const{data:p,error:w}=await gt.auth.signUp({email:S,password:_});if(w)return{error:w};if(p.user){const{error:N}=await gt.from("user_profiles").insert({id:p.user.id,person_id:b||null,is_admin:!1});if(N)return console.error("Error creating user profile:",N),{error:new Error("Failed to create user profile")}}return{error:null}}catch(p){return{error:p}}},signIn:async(S,_)=>{try{const{error:b}=await gt.auth.signInWithPassword({email:S,password:_});return b?{error:b}:{error:null}}catch(b){return{error:b}}},signOut:async()=>{try{await gt.auth.signOut(),n(null),i(null)}catch(S){console.error("Error signing out:",S)}},resetPassword:async S=>{try{const{error:_}=await gt.auth.resetPasswordForEmail(S,{redirectTo:`${window.location.origin}/reset-password`});return _?{error:_}:{error:null}}catch(_){return{error:_}}},updatePassword:async S=>{try{const{error:_}=await gt.auth.updateUser({password:S});return _?{error:_}:{error:null}}catch(_){return{error:_}}},checkIsAdmin:()=>(e==null?void 0:e.isAdmin)||!1};return v.jsx(X5.Provider,{value:k,children:t})},Sl=()=>{const t=ge.useContext(X5);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},B6=({message:t,type:e,onClose:n,duration:r=5e3})=>{ge.useEffect(()=>{const a=setTimeout(()=>{n()},r);return()=>clearTimeout(a)},[r,n]);const i={success:v.jsx(J3,{className:"h-5 w-5 text-green-400"}),error:v.jsx(H3,{className:"h-5 w-5 text-red-400"}),info:v.jsx(rs,{className:"h-5 w-5 text-blue-400"})},s={success:"bg-green-50 text-green-800 border-green-200",error:"bg-red-50 text-red-800 border-red-200",info:"bg-blue-50 text-blue-800 border-blue-200"};return p5.createPortal(v.jsx("div",{className:"fixed top-4 right-4 z-50 animate-fade-in",children:v.jsx("div",{className:`rounded-lg border p-4 shadow-lg ${s[e]}`,children:v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0",children:i[e]}),v.jsx("div",{className:"ml-3",children:v.jsx("p",{className:"text-sm font-medium",children:t})}),v.jsx("div",{className:"ml-4 flex-shrink-0 flex",children:v.jsxs("button",{type:"button",className:"inline-flex rounded-md focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500",onClick:n,children:[v.jsx("span",{className:"sr-only",children:"Chiudi"}),v.jsx(R5,{className:"h-5 w-5"})]})})]})})}),document.body)},Z5=ge.createContext(void 0),U6=({children:t})=>{const[e,n]=ge.useState(null),r=(i,s)=>{n({message:i,type:s})};return v.jsxs(Z5.Provider,{value:{showToast:r},children:[t,e&&v.jsx(B6,{message:e.message,type:e.type,onClose:()=>n(null)})]})},kl=()=>{const t=ge.useContext(Z5);if(t===void 0)throw new Error("useToast must be used within a ToastProvider");return t},q6=()=>{const[t,e]=ge.useState(!1),n=hs(),r=Vr(),{user:i,signOut:s}=Sl(),{showToast:a}=kl(),o=y=>n.pathname===y,l=()=>{e(!t)},c=()=>{e(!1)},m=async()=>{try{await s(),a("Disconnesso con successo","success"),r("/login"),e(!1)}catch(y){console.error("Errore durante il logout:",y),a("Errore durante la disconnessione","error")}},f=[{path:"/",label:"Home",icon:v.jsx(j5,{size:20})},{path:"/persone",label:"Persone",icon:v.jsx(T5,{size:20})},{path:"/tragitti",label:"Trasferte",icon:v.jsx(C5,{size:20})},{path:"/percorsi",label:"Percorsi",icon:v.jsx(zh,{size:20})},{path:"/report",label:"Report",icon:v.jsx(A5,{size:20})}];return v.jsxs("div",{className:"min-h-screen flex flex-col bg-gray-50",children:[v.jsx("header",{className:"bg-teal-700 text-white shadow-md",children:v.jsx("div",{className:"container mx-auto px-4 py-4",children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsxs("div",{className:"flex items-center space-x-4",children:[v.jsx("h1",{className:"text-xl md:text-2xl font-bold",children:"ITFV Rimborsi Spese"}),v.jsxs(bn,{to:"/tragitti/nuovo",className:"hidden lg:flex items-center space-x-2 bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2.5 px-5 rounded-lg shadow-lg transition-all duration-200 hover:scale-105",children:[v.jsx(Fa,{size:20}),v.jsx("span",{children:"Nuova Trasferta"})]})]}),v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsxs(bn,{to:"/tragitti/nuovo",className:"lg:hidden flex items-center space-x-1 bg-amber-500 hover:bg-amber-600 text-white font-semibold py-2 px-3 rounded-lg shadow-lg transition-all",children:[v.jsx(Fa,{size:18}),v.jsx("span",{className:"hidden sm:inline",children:"Nuovo"})]}),v.jsx("button",{className:"md:hidden p-2 hover:bg-teal-600 rounded-lg transition-colors",onClick:l,"aria-label":t?"Chiudi menu":"Apri menu",children:t?v.jsx(R5,{size:24}):v.jsx(e_,{size:24})}),v.jsxs("nav",{className:"hidden md:flex items-center space-x-4",children:[f.map(y=>v.jsxs(bn,{to:y.path,className:Zn("flex items-center space-x-1 py-2 px-3 rounded-md transition-colors text-sm",{"bg-teal-600 text-white":o(y.path),"hover:bg-teal-600/60":!o(y.path)}),children:[y.icon,v.jsx("span",{children:y.label})]},y.path)),i&&v.jsxs(v.Fragment,{children:[v.jsx("span",{className:"text-white text-sm px-2 border-l border-teal-500 ml-2",children:i.email}),v.jsxs("button",{onClick:m,className:"flex items-center space-x-1 py-2 px-3 rounded-md transition-colors hover:bg-teal-600/60 text-sm",children:[v.jsx(J1,{size:18}),v.jsx("span",{children:"Logout"})]})]})]})]})]})})}),t&&v.jsx("div",{className:"md:hidden bg-white shadow-lg absolute top-20 right-0 left-0 z-50 transition-all",children:v.jsxs("nav",{className:"flex flex-col p-4",children:[v.jsxs(bn,{to:"/tragitti/nuovo",className:"flex items-center justify-center space-x-3 py-4 px-4 mb-4 bg-amber-500 hover:bg-amber-600 text-white rounded-lg font-bold text-lg shadow-lg transition-all",onClick:c,children:[v.jsx(Fa,{size:24}),v.jsx("span",{children:"Nuova Trasferta"})]}),v.jsx("div",{className:"border-t border-gray-200 mb-2"}),f.map(y=>v.jsxs(bn,{to:y.path,className:Zn("flex items-center space-x-3 py-3 px-4 rounded-md transition-colors",{"bg-teal-100 text-teal-800":o(y.path),"hover:bg-gray-100":!o(y.path)}),onClick:c,children:[y.icon,v.jsx("span",{className:"font-medium",children:y.label})]},y.path)),i&&v.jsxs(v.Fragment,{children:[v.jsx("div",{className:"border-t border-gray-200 my-2"}),v.jsx("div",{className:"py-2 px-4 text-sm text-gray-600",children:i.email}),v.jsxs("button",{onClick:m,className:"flex items-center space-x-3 py-3 px-4 rounded-md transition-colors text-red-600 hover:bg-red-50 font-medium",children:[v.jsx(J1,{size:20}),v.jsx("span",{children:"Logout"})]})]})]})}),v.jsx("main",{className:"flex-grow container mx-auto px-4 py-6",children:v.jsx(E3,{})}),v.jsx("footer",{className:"bg-gray-800 text-white py-4",children:v.jsxs("div",{className:"container mx-auto px-4 text-center text-sm",children:[v.jsxs("p",{children:[" ",new Date().getFullYear()," Istituto Veneto di Terapia Familiare"]}),v.jsx("p",{className:"mt-1",children:"Via della Quercia 2/B, Treviso"})]})})]})},$6=({children:t})=>{const{user:e,loading:n}=Sl(),r=hs();return n?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:v.jsxs("div",{className:"text-center",children:[v.jsx("div",{className:"inline-block animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"}),v.jsx("p",{className:"mt-4 text-gray-600",children:"Caricamento..."})]})}):e?v.jsx(v.Fragment,{children:t}):v.jsx(C3,{to:"/login",state:{from:r},replace:!0})},$r=({children:t,title:e,footer:n,className:r,contentClassName:i})=>v.jsxs("div",{className:Zn("bg-white rounded-lg shadow-md overflow-hidden",r),children:[e&&v.jsx("div",{className:"px-6 py-4 border-b border-gray-200 bg-gray-50",children:v.jsx("h3",{className:"text-lg font-medium text-gray-900",children:e})}),v.jsx("div",{className:Zn("p-6",i),children:t}),n&&v.jsx("div",{className:"px-6 py-3 bg-gray-50 border-t border-gray-200",children:n})]});function vi(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function Ga(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const ew=6048e5,W6=864e5;let H6={};function Wh(){return H6}function Ka(t,e){var o,l,c,m;const n=Wh(),r=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??n.weekStartsOn??((m=(c=n.locale)==null?void 0:c.options)==null?void 0:m.weekStartsOn)??0,i=vi(t),s=i.getDay(),a=(s<r?7:0)+s-r;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function bh(t){return Ka(t,{weekStartsOn:1})}function tw(t){const e=vi(t),n=e.getFullYear(),r=Ga(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const i=bh(r),s=Ga(t,0);s.setFullYear(n,0,4),s.setHours(0,0,0,0);const a=bh(s);return e.getTime()>=i.getTime()?n+1:e.getTime()>=a.getTime()?n:n-1}function xv(t){const e=vi(t);return e.setHours(0,0,0,0),e}function _v(t){const e=vi(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function V6(t,e){const n=xv(t),r=xv(e),i=+n-_v(n),s=+r-_v(r);return Math.round((i-s)/W6)}function G6(t){const e=tw(t),n=Ga(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),bh(n)}function K6(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Y6(t){if(!K6(t)&&typeof t!="number")return!1;const e=vi(t);return!isNaN(Number(e))}function J6(t){const e=vi(t),n=Ga(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const Q6={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},X6=(t,e,n)=>{let r;const i=Q6[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function cl(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const Z6={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},ek={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},tk={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},nk={date:cl({formats:Z6,defaultWidth:"full"}),time:cl({formats:ek,defaultWidth:"full"}),dateTime:cl({formats:tk,defaultWidth:"full"})},rk={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},ik=(t,e,n,r)=>rk[t];function Ii(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=n!=null&&n.width?String(n.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const sk={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},ak={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ok={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},lk={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},uk={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},ck={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},dk=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},hk={ordinalNumber:dk,era:Ii({values:sk,defaultWidth:"wide"}),quarter:Ii({values:ak,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ii({values:ok,defaultWidth:"wide"}),day:Ii({values:lk,defaultWidth:"wide"}),dayPeriod:Ii({values:uk,defaultWidth:"wide",formattingValues:ck,defaultFormattingWidth:"wide"})};function Oi(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?pk(o,f=>f.test(a)):fk(o,f=>f.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const m=e.slice(a.length);return{value:c,rest:m}}}function fk(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function pk(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function nw(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=n.valueCallback?n.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const mk=/^(\d+)(th|st|nd|rd)?/i,gk=/\d+/i,vk={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yk={any:[/^b/i,/^(a|c)/i]},wk={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},bk={any:[/1/i,/2/i,/3/i,/4/i]},xk={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_k={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sk={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},kk={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nk={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ak={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Pk={ordinalNumber:nw({matchPattern:mk,parsePattern:gk,valueCallback:t=>parseInt(t,10)}),era:Oi({matchPatterns:vk,defaultMatchWidth:"wide",parsePatterns:yk,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:wk,defaultMatchWidth:"wide",parsePatterns:bk,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Oi({matchPatterns:xk,defaultMatchWidth:"wide",parsePatterns:_k,defaultParseWidth:"any"}),day:Oi({matchPatterns:Sk,defaultMatchWidth:"wide",parsePatterns:kk,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:Nk,defaultMatchWidth:"any",parsePatterns:Ak,defaultParseWidth:"any"})},jk={code:"en-US",formatDistance:X6,formatLong:nk,formatRelative:ik,localize:hk,match:Pk,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ck(t){const e=vi(t);return V6(e,J6(e))+1}function Ek(t){const e=vi(t),n=+bh(e)-+G6(e);return Math.round(n/ew)+1}function rw(t,e){var m,f,y,h;const n=vi(t),r=n.getFullYear(),i=Wh(),s=(e==null?void 0:e.firstWeekContainsDate)??((f=(m=e==null?void 0:e.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??i.firstWeekContainsDate??((h=(y=i.locale)==null?void 0:y.options)==null?void 0:h.firstWeekContainsDate)??1,a=Ga(t,0);a.setFullYear(r+1,0,s),a.setHours(0,0,0,0);const o=Ka(a,e),l=Ga(t,0);l.setFullYear(r,0,s),l.setHours(0,0,0,0);const c=Ka(l,e);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Lk(t,e){var o,l,c,m;const n=Wh(),r=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??n.firstWeekContainsDate??((m=(c=n.locale)==null?void 0:c.options)==null?void 0:m.firstWeekContainsDate)??1,i=rw(t,e),s=Ga(t,0);return s.setFullYear(i,0,r),s.setHours(0,0,0,0),Ka(s,e)}function Tk(t,e){const n=vi(t),r=+Ka(n,e)-+Lk(n,e);return Math.round(r/ew)+1}function Nt(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const Es={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Nt(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Nt(n+1,2)},d(t,e){return Nt(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Nt(t.getHours()%12||12,e.length)},H(t,e){return Nt(t.getHours(),e.length)},m(t,e){return Nt(t.getMinutes(),e.length)},s(t,e){return Nt(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),i=Math.trunc(r*Math.pow(10,n-3));return Nt(i,e.length)}},Oo={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Sv={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return Es.y(t,e)},Y:function(t,e,n,r){const i=rw(t,r),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Nt(a,2)}return e==="Yo"?n.ordinalNumber(s,{unit:"year"}):Nt(s,e.length)},R:function(t,e){const n=tw(t);return Nt(n,e.length)},u:function(t,e){const n=t.getFullYear();return Nt(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Nt(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Nt(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return Es.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Nt(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const i=Tk(t,r);return e==="wo"?n.ordinalNumber(i,{unit:"week"}):Nt(i,e.length)},I:function(t,e,n){const r=Ek(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Nt(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):Es.d(t,e)},D:function(t,e,n){const r=Ck(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Nt(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Nt(s,2);case"eo":return n.ordinalNumber(s,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});case"eeee":default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const i=t.getDay(),s=(i-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Nt(s,e.length);case"co":return n.ordinalNumber(s,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});case"cccc":default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),i=r===0?7:r;switch(e){case"i":return String(i);case"ii":return Nt(i,e.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let i;switch(r===12?i=Oo.noon:r===0?i=Oo.midnight:i=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let i;switch(r>=17?i=Oo.evening:r>=12?i=Oo.afternoon:r>=4?i=Oo.morning:i=Oo.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return Es.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):Es.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Nt(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):Es.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):Es.s(t,e)},S:function(t,e){return Es.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return Nv(r);case"XXXX":case"XX":return Aa(r);case"XXXXX":case"XXX":default:return Aa(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return Nv(r);case"xxxx":case"xx":return Aa(r);case"xxxxx":case"xxx":default:return Aa(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+kv(r,":");case"OOOO":default:return"GMT"+Aa(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+kv(r,":");case"zzzz":default:return"GMT"+Aa(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Nt(r,e.length)},T:function(t,e,n){const r=t.getTime();return Nt(r,e.length)}};function kv(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Math.trunc(r/60),s=r%60;return s===0?n+String(i):n+String(i)+e+Nt(s,2)}function Nv(t,e){return t%60===0?(t>0?"-":"+")+Nt(Math.abs(t)/60,2):Aa(t,e)}function Aa(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),i=Nt(Math.trunc(r/60),2),s=Nt(r%60,2);return n+i+e+s}const Av=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iw=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Rk=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],i=n[2];if(!i)return Av(t,e);let s;switch(r){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",Av(r,e)).replace("{{time}}",iw(i,e))},Ik={p:iw,P:Rk},Ok=/^D+$/,Dk=/^Y+$/,Fk=["D","DD","YY","YYYY"];function Mk(t){return Ok.test(t)}function zk(t){return Dk.test(t)}function Bk(t,e,n){const r=Uk(t,e,n);if(console.warn(r),Fk.includes(t))throw new RangeError(r)}function Uk(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qk=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$k=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Wk=/^'([^]*?)'?$/,Hk=/''/g,Vk=/[a-zA-Z]/;function Gk(t,e,n){var m,f,y,h,k,S,_,b;const r=Wh(),i=(n==null?void 0:n.locale)??r.locale??jk,s=(n==null?void 0:n.firstWeekContainsDate)??((f=(m=n==null?void 0:n.locale)==null?void 0:m.options)==null?void 0:f.firstWeekContainsDate)??r.firstWeekContainsDate??((h=(y=r.locale)==null?void 0:y.options)==null?void 0:h.firstWeekContainsDate)??1,a=(n==null?void 0:n.weekStartsOn)??((S=(k=n==null?void 0:n.locale)==null?void 0:k.options)==null?void 0:S.weekStartsOn)??r.weekStartsOn??((b=(_=r.locale)==null?void 0:_.options)==null?void 0:b.weekStartsOn)??0,o=vi(t);if(!Y6(o))throw new RangeError("Invalid time value");let l=e.match($k).map(p=>{const w=p[0];if(w==="p"||w==="P"){const N=Ik[w];return N(p,i.formatLong)}return p}).join("").match(qk).map(p=>{if(p==="''")return{isToken:!1,value:"'"};const w=p[0];if(w==="'")return{isToken:!1,value:Kk(p)};if(Sv[w])return{isToken:!0,value:p};if(w.match(Vk))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:p}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(p=>{if(!p.isToken)return p.value;const w=p.value;(!(n!=null&&n.useAdditionalWeekYearTokens)&&zk(w)||!(n!=null&&n.useAdditionalDayOfYearTokens)&&Mk(w))&&Bk(w,e,String(t));const N=Sv[w[0]];return N(o,w,i.localize,c)}).join("")}function Kk(t){const e=t.match(Wk);return e?e[1].replace(Hk,"'"):t}function Pv(t,e,n){const r=Ka(t,n),i=Ka(e,n);return+r==+i}const Yk={lessThanXSeconds:{one:"meno di un secondo",other:"meno di {{count}} secondi"},xSeconds:{one:"un secondo",other:"{{count}} secondi"},halfAMinute:"alcuni secondi",lessThanXMinutes:{one:"meno di un minuto",other:"meno di {{count}} minuti"},xMinutes:{one:"un minuto",other:"{{count}} minuti"},aboutXHours:{one:"circa un'ora",other:"circa {{count}} ore"},xHours:{one:"un'ora",other:"{{count}} ore"},xDays:{one:"un giorno",other:"{{count}} giorni"},aboutXWeeks:{one:"circa una settimana",other:"circa {{count}} settimane"},xWeeks:{one:"una settimana",other:"{{count}} settimane"},aboutXMonths:{one:"circa un mese",other:"circa {{count}} mesi"},xMonths:{one:"un mese",other:"{{count}} mesi"},aboutXYears:{one:"circa un anno",other:"circa {{count}} anni"},xYears:{one:"un anno",other:"{{count}} anni"},overXYears:{one:"pi di un anno",other:"pi di {{count}} anni"},almostXYears:{one:"quasi un anno",other:"quasi {{count}} anni"}},Jk=(t,e,n)=>{let r;const i=Yk[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"tra "+r:r+" fa":r},Qk={full:"EEEE d MMMM y",long:"d MMMM y",medium:"d MMM y",short:"dd/MM/y"},Xk={full:"HH:mm:ss zzzz",long:"HH:mm:ss z",medium:"HH:mm:ss",short:"HH:mm"},Zk={full:"{{date}} {{time}}",long:"{{date}} {{time}}",medium:"{{date}} {{time}}",short:"{{date}} {{time}}"},eN={date:cl({formats:Qk,defaultWidth:"full"}),time:cl({formats:Xk,defaultWidth:"full"}),dateTime:cl({formats:Zk,defaultWidth:"full"})},tg=["domenica","luned","marted","mercoled","gioved","venerd","sabato"];function tN(t){switch(t){case 0:return"'domenica scorsa alle' p";default:return"'"+tg[t]+" scorso alle' p"}}function jv(t){return"'"+tg[t]+" alle' p"}function nN(t){switch(t){case 0:return"'domenica prossima alle' p";default:return"'"+tg[t]+" prossimo alle' p"}}const rN={lastWeek:(t,e,n)=>{const r=t.getDay();return Pv(t,e,n)?jv(r):tN(r)},yesterday:"'ieri alle' p",today:"'oggi alle' p",tomorrow:"'domani alle' p",nextWeek:(t,e,n)=>{const r=t.getDay();return Pv(t,e,n)?jv(r):nN(r)},other:"P"},iN=(t,e,n,r)=>{const i=rN[t];return typeof i=="function"?i(e,n,r):i},sN={narrow:["aC","dC"],abbreviated:["a.C.","d.C."],wide:["avanti Cristo","dopo Cristo"]},aN={narrow:["1","2","3","4"],abbreviated:["T1","T2","T3","T4"],wide:["1 trimestre","2 trimestre","3 trimestre","4 trimestre"]},oN={narrow:["G","F","M","A","M","G","L","A","S","O","N","D"],abbreviated:["gen","feb","mar","apr","mag","giu","lug","ago","set","ott","nov","dic"],wide:["gennaio","febbraio","marzo","aprile","maggio","giugno","luglio","agosto","settembre","ottobre","novembre","dicembre"]},lN={narrow:["D","L","M","M","G","V","S"],short:["dom","lun","mar","mer","gio","ven","sab"],abbreviated:["dom","lun","mar","mer","gio","ven","sab"],wide:["domenica","luned","marted","mercoled","gioved","venerd","sabato"]},uN={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"mattina",afternoon:"pomeriggio",evening:"sera",night:"notte"}},cN={narrow:{am:"m.",pm:"p.",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},abbreviated:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"},wide:{am:"AM",pm:"PM",midnight:"mezzanotte",noon:"mezzogiorno",morning:"di mattina",afternoon:"del pomeriggio",evening:"di sera",night:"di notte"}},dN=(t,e)=>{const n=Number(t);return String(n)},hN={ordinalNumber:dN,era:Ii({values:sN,defaultWidth:"wide"}),quarter:Ii({values:aN,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ii({values:oN,defaultWidth:"wide"}),day:Ii({values:lN,defaultWidth:"wide"}),dayPeriod:Ii({values:uN,defaultWidth:"wide",formattingValues:cN,defaultFormattingWidth:"wide"})},fN=/^(\d+)()?/i,pN=/\d+/i,mN={narrow:/^(aC|dC)/i,abbreviated:/^(a\.?\s?C\.?|a\.?\s?e\.?\s?v\.?|d\.?\s?C\.?|e\.?\s?v\.?)/i,wide:/^(avanti Cristo|avanti Era Volgare|dopo Cristo|Era Volgare)/i},gN={any:[/^a/i,/^(d|e)/i]},vN={narrow:/^[1234]/i,abbreviated:/^t[1234]/i,wide:/^[1234]()? trimestre/i},yN={any:[/1/i,/2/i,/3/i,/4/i]},wN={narrow:/^[gfmalsond]/i,abbreviated:/^(gen|feb|mar|apr|mag|giu|lug|ago|set|ott|nov|dic)/i,wide:/^(gennaio|febbraio|marzo|aprile|maggio|giugno|luglio|agosto|settembre|ottobre|novembre|dicembre)/i},bN={narrow:[/^g/i,/^f/i,/^m/i,/^a/i,/^m/i,/^g/i,/^l/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ge/i,/^f/i,/^mar/i,/^ap/i,/^mag/i,/^gi/i,/^l/i,/^ag/i,/^s/i,/^o/i,/^n/i,/^d/i]},xN={narrow:/^[dlmgvs]/i,short:/^(do|lu|ma|me|gi|ve|sa)/i,abbreviated:/^(dom|lun|mar|mer|gio|ven|sab)/i,wide:/^(domenica|luned[i|]|marted[i|]|mercoled[i|]|gioved[i|]|venerd[i|]|sabato)/i},_N={narrow:[/^d/i,/^l/i,/^m/i,/^m/i,/^g/i,/^v/i,/^s/i],any:[/^d/i,/^l/i,/^ma/i,/^me/i,/^g/i,/^v/i,/^s/i]},SN={narrow:/^(a|m\.|p|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i,any:/^([ap]\.?\s?m\.?|mezzanotte|mezzogiorno|(di|del) (mattina|pomeriggio|sera|notte))/i},kN={any:{am:/^a/i,pm:/^p/i,midnight:/^mezza/i,noon:/^mezzo/i,morning:/mattina/i,afternoon:/pomeriggio/i,evening:/sera/i,night:/notte/i}},NN={ordinalNumber:nw({matchPattern:fN,parsePattern:pN,valueCallback:t=>parseInt(t,10)}),era:Oi({matchPatterns:mN,defaultMatchWidth:"wide",parsePatterns:gN,defaultParseWidth:"any"}),quarter:Oi({matchPatterns:vN,defaultMatchWidth:"wide",parsePatterns:yN,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Oi({matchPatterns:wN,defaultMatchWidth:"wide",parsePatterns:bN,defaultParseWidth:"any"}),day:Oi({matchPatterns:xN,defaultMatchWidth:"wide",parsePatterns:_N,defaultParseWidth:"any"}),dayPeriod:Oi({matchPatterns:SN,defaultMatchWidth:"any",parsePatterns:kN,defaultParseWidth:"any"})},AN={code:"it",formatDistance:Jk,formatLong:eN,formatRelative:iN,localize:hN,match:NN,options:{weekStartsOn:1,firstWeekContainsDate:4}},sw=ge.createContext(void 0),PN=({children:t})=>{const[e,n]=ge.useState({people:[],vehicles:[],trips:[],savedRoutes:[],tollBooths:[]}),[r,i]=ge.useState(!0);ge.useEffect(()=>{s()},[]);const s=async()=>{try{i(!0);const[R,j,I,M,K,ie]=await Promise.all([gt.from("people").select("*").order("created_at",{ascending:!1}),gt.from("vehicles").select("*").order("created_at",{ascending:!1}),gt.from("trips").select("*").order("date",{ascending:!1}),gt.from("saved_routes").select("*").order("created_at",{ascending:!1}),gt.from("route_distances").select("*"),gt.from("toll_booths").select("*").order("usage_count",{ascending:!1})]),P=(R.data||[]).map(ne=>({id:ne.id,name:ne.name,surname:ne.surname||"",isDocente:ne.is_docente||!1,isAmministratore:ne.is_amministratore||!1,isDipendente:ne.is_dipendente||!1,email:ne.email,phone:ne.phone,homeAddress:ne.home_address})),B=(j.data||[]).map(ne=>({id:ne.id,personId:ne.person_id,make:ne.make||"",model:ne.model,plate:ne.plate||ne.license_plate,reimbursementRate:parseFloat(ne.reimbursement_rate)})),H=(I.data||[]).map(ne=>({id:ne.id,date:ne.date,personId:ne.person_id,vehicleId:ne.vehicle_id,tripRole:ne.trip_role,origin:ne.origin,destination:ne.destination,distance:parseFloat(ne.distance),purpose:ne.purpose||"",isRoundTrip:ne.is_round_trip||!1,savedRouteId:ne.saved_route_id,selectedDistanceId:ne.selected_distance_id,hasToll:ne.has_toll||!1,tollEntryStation:ne.toll_entry_station,tollExitStation:ne.toll_exit_station,tollAmount:ne.toll_amount?parseFloat(ne.toll_amount):void 0,hasMeal:ne.has_meal||!1,mealType:ne.meal_type,mealAmount:ne.meal_amount?parseFloat(ne.meal_amount):void 0})),Z=new Map;(K.data||[]).forEach(ne=>{Z.has(ne.route_id)||Z.set(ne.route_id,[]),Z.get(ne.route_id).push({id:ne.id,label:ne.label,distance:parseFloat(ne.distance),tollEntryStation:ne.toll_entry_station,tollExitStation:ne.toll_exit_station,tollAmount:ne.toll_amount?parseFloat(ne.toll_amount):void 0})});const te=(M.data||[]).map(ne=>({id:ne.id,name:ne.name,origin:ne.origin,destination:ne.destination,distances:Z.get(ne.id)||[]})),le=(ie.data||[]).map(ne=>({id:ne.id,entryStation:ne.entry_station,exitStation:ne.exit_station,amount:parseFloat(ne.amount),usageCount:ne.usage_count,lastUsed:ne.last_used,createdAt:ne.created_at,updatedAt:ne.updated_at}));n({people:P,vehicles:B,trips:H,savedRoutes:te,tollBooths:le})}catch(R){console.error("Error loading data:",R)}finally{i(!1)}},a=async R=>{const{data:j,error:I}=await gt.from("people").insert([{name:R.name,surname:R.surname,is_docente:R.isDocente,is_amministratore:R.isAmministratore,is_dipendente:R.isDipendente,email:R.email,phone:R.phone,home_address:R.homeAddress}]).select().single();if(I)throw I;n(M=>({...M,people:[{id:j.id,name:j.name,surname:j.surname,isDocente:j.is_docente||!1,isAmministratore:j.is_amministratore||!1,isDipendente:j.is_dipendente||!1,email:j.email,phone:j.phone,homeAddress:j.home_address},...M.people]}))},o=async R=>{const{error:j}=await gt.from("people").update({name:R.name,surname:R.surname,is_docente:R.isDocente,is_amministratore:R.isAmministratore,is_dipendente:R.isDipendente,email:R.email,phone:R.phone,home_address:R.homeAddress}).eq("id",R.id);if(j)throw j;n(I=>({...I,people:I.people.map(M=>M.id===R.id?R:M)}))},l=async R=>{const{error:j}=await gt.from("people").delete().eq("id",R);if(j)throw j;n(I=>({...I,people:I.people.filter(M=>M.id!==R),vehicles:I.vehicles.filter(M=>M.personId!==R),trips:I.trips.filter(M=>M.personId!==R)}))},c=async R=>{const{data:j,error:I}=await gt.from("vehicles").insert([{person_id:R.personId,make:R.make,model:R.model,plate:R.plate,license_plate:R.plate,reimbursement_rate:R.reimbursementRate}]).select().single();if(I)throw I;n(M=>({...M,vehicles:[{id:j.id,personId:j.person_id,make:j.make,model:j.model,plate:j.plate,reimbursementRate:parseFloat(j.reimbursement_rate)},...M.vehicles]}))},m=async R=>{const{error:j}=await gt.from("vehicles").update({person_id:R.personId,make:R.make,model:R.model,plate:R.plate,license_plate:R.plate,reimbursement_rate:R.reimbursementRate}).eq("id",R.id);if(j)throw j;n(I=>({...I,vehicles:I.vehicles.map(M=>M.id===R.id?R:M)}))},f=async R=>{const{error:j}=await gt.from("vehicles").delete().eq("id",R);if(j)throw j;n(I=>({...I,vehicles:I.vehicles.filter(M=>M.id!==R),trips:I.trips.filter(M=>M.vehicleId!==R)}))},y=async R=>{const{data:j,error:I}=await gt.from("trips").insert([{person_id:R.personId,vehicle_id:R.vehicleId,trip_role:R.tripRole,saved_route_id:R.savedRouteId,selected_distance_id:R.selectedDistanceId,date:R.date,origin:R.origin,destination:R.destination,distance:R.distance,purpose:R.purpose,is_round_trip:R.isRoundTrip,has_toll:R.hasToll||!1,toll_entry_station:R.tollEntryStation,toll_exit_station:R.tollExitStation,toll_amount:R.tollAmount,has_meal:R.hasMeal||!1,meal_type:R.mealType,meal_amount:R.mealAmount}]).select().single();if(I)throw I;R.hasToll&&R.tollEntryStation&&R.tollExitStation&&R.tollAmount&&await C(R.tollEntryStation,R.tollExitStation,R.tollAmount),n(M=>({...M,trips:[{id:j.id,date:j.date,personId:j.person_id,vehicleId:j.vehicle_id,tripRole:j.trip_role,origin:j.origin,destination:j.destination,distance:parseFloat(j.distance),purpose:j.purpose,isRoundTrip:j.is_round_trip,savedRouteId:j.saved_route_id,selectedDistanceId:j.selected_distance_id,hasToll:j.has_toll||!1,tollEntryStation:j.toll_entry_station,tollExitStation:j.toll_exit_station,tollAmount:j.toll_amount?parseFloat(j.toll_amount):void 0,hasMeal:j.has_meal||!1,mealType:j.meal_type,mealAmount:j.meal_amount?parseFloat(j.meal_amount):void 0},...M.trips]}))},h=async R=>{const{error:j}=await gt.from("trips").update({person_id:R.personId,vehicle_id:R.vehicleId,trip_role:R.tripRole,saved_route_id:R.savedRouteId,selected_distance_id:R.selectedDistanceId,date:R.date,origin:R.origin,destination:R.destination,distance:R.distance,purpose:R.purpose,is_round_trip:R.isRoundTrip,has_toll:R.hasToll||!1,toll_entry_station:R.tollEntryStation,toll_exit_station:R.tollExitStation,toll_amount:R.tollAmount,has_meal:R.hasMeal||!1,meal_type:R.mealType,meal_amount:R.mealAmount}).eq("id",R.id);if(j)throw j;R.hasToll&&R.tollEntryStation&&R.tollExitStation&&R.tollAmount&&await C(R.tollEntryStation,R.tollExitStation,R.tollAmount),n(I=>({...I,trips:I.trips.map(M=>M.id===R.id?R:M)}))},k=async R=>{const{error:j}=await gt.from("trips").delete().eq("id",R);if(j)throw j;n(I=>({...I,trips:I.trips.filter(M=>M.id!==R)}))},S=async R=>{const{data:j,error:I}=await gt.from("saved_routes").insert([{name:R.name,origin:R.origin,destination:R.destination}]).select().single();if(I)throw I;const M={id:j.id,name:j.name,origin:j.origin,destination:j.destination,distances:[]};if(R.distances&&R.distances.length>0){const K=R.distances.map(B=>({route_id:j.id,label:B.label,distance:B.distance,toll_entry_station:B.tollEntryStation,toll_exit_station:B.tollExitStation,toll_amount:B.tollAmount})),{data:ie,error:P}=await gt.from("route_distances").insert(K).select();if(P)throw P;M.distances=(ie||[]).map(B=>({id:B.id,label:B.label,distance:parseFloat(B.distance),tollEntryStation:B.toll_entry_station,tollExitStation:B.toll_exit_station,tollAmount:B.toll_amount?parseFloat(B.toll_amount):void 0}))}n(K=>({...K,savedRoutes:[M,...K.savedRoutes]}))},_=async R=>{const{error:j}=await gt.from("saved_routes").update({name:R.name,origin:R.origin,destination:R.destination}).eq("id",R.id);if(j)throw j;n(I=>({...I,savedRoutes:I.savedRoutes.map(M=>M.id===R.id?R:M)}))},b=async R=>{const{error:j}=await gt.from("saved_routes").delete().eq("id",R);if(j)throw j;n(I=>({...I,savedRoutes:I.savedRoutes.filter(M=>M.id!==R)}))},p=async(R,j)=>{const{data:I,error:M}=await gt.from("route_distances").insert([{route_id:R,label:j.label,distance:j.distance,toll_entry_station:j.tollEntryStation,toll_exit_station:j.tollExitStation,toll_amount:j.tollAmount}]).select().single();if(M)throw M;const K={id:I.id,label:I.label,distance:parseFloat(I.distance),tollEntryStation:I.toll_entry_station,tollExitStation:I.toll_exit_station,tollAmount:I.toll_amount?parseFloat(I.toll_amount):void 0};n(ie=>({...ie,savedRoutes:ie.savedRoutes.map(P=>P.id===R?{...P,distances:[...P.distances,K]}:P)}))},w=async(R,j)=>{const{error:I}=await gt.from("route_distances").update({label:j.label,distance:j.distance,toll_entry_station:j.tollEntryStation,toll_exit_station:j.tollExitStation,toll_amount:j.tollAmount}).eq("id",j.id);if(I)throw I;n(M=>({...M,savedRoutes:M.savedRoutes.map(K=>K.id===R?{...K,distances:K.distances.map(ie=>ie.id===j.id?j:ie)}:K)}))},N=async(R,j)=>{const{error:I}=await gt.from("route_distances").delete().eq("id",j);if(I)throw I;n(M=>({...M,savedRoutes:M.savedRoutes.map(K=>K.id===R?{...K,distances:K.distances.filter(ie=>ie.id!==j)}:K)}))},F=R=>e.people.find(j=>j.id===R),q=R=>e.vehicles.find(j=>j.id===R),L=R=>e.vehicles.filter(j=>j.personId===R),E=R=>e.savedRoutes.find(j=>j.id===R),V=(R,j)=>{const I=E(R);return I==null?void 0:I.distances.find(M=>M.id===j)},X=(R,j)=>e.tollBooths.find(I=>I.entryStation.toLowerCase()===R.toLowerCase()&&I.exitStation.toLowerCase()===j.toLowerCase()),T=async R=>{const j=R.toLowerCase(),I=new Set;return e.tollBooths.forEach(K=>{K.entryStation.toLowerCase().includes(j)&&I.add(K.entryStation),K.exitStation.toLowerCase().includes(j)&&I.add(K.exitStation)}),Array.from(I).sort((K,ie)=>{const P=e.tollBooths.filter(H=>H.entryStation===K||H.exitStation===K).reduce((H,Z)=>H+Z.usageCount,0);return e.tollBooths.filter(H=>H.entryStation===ie||H.exitStation===ie).reduce((H,Z)=>H+Z.usageCount,0)-P})},C=async(R,j,I)=>{if(!R.trim()||!j.trim()||I<=0)return;const M=X(R,j);if(M){M.amount;const{data:K,error:ie}=await gt.from("toll_booths").update({amount:I,usage_count:M.usageCount+1,last_used:new Date().toISOString()}).eq("id",M.id).select().single();if(ie){console.error("Error updating toll booth:",ie);return}n(P=>({...P,tollBooths:P.tollBooths.map(B=>B.id===M.id?{...B,amount:parseFloat(K.amount),usageCount:K.usage_count,lastUsed:K.last_used,updatedAt:K.updated_at}:B)}))}else{const{data:K,error:ie}=await gt.from("toll_booths").insert([{entry_station:R,exit_station:j,amount:I,usage_count:1,last_used:new Date().toISOString()}]).select().single();if(ie){console.error("Error creating toll booth:",ie);return}const P={id:K.id,entryStation:K.entry_station,exitStation:K.exit_station,amount:parseFloat(K.amount),usageCount:K.usage_count,lastUsed:K.last_used,createdAt:K.created_at,updatedAt:K.updated_at};n(B=>({...B,tollBooths:[P,...B.tollBooths]}))}},ce={state:e,addPerson:a,updatePerson:o,deletePerson:l,addVehicle:c,updateVehicle:m,deleteVehicle:f,addTrip:y,updateTrip:h,deleteTrip:k,addSavedRoute:S,updateSavedRoute:_,deleteSavedRoute:b,addRouteDistance:p,updateRouteDistance:w,deleteRouteDistance:N,generateMonthlyReport:(R,j,I)=>{if(!e.people.find(le=>le.id===R))return null;const K=new Date(I,j,1),ie=new Date(I,j+1,0),P=e.trips.filter(le=>{const ne=new Date(le.date);return le.personId===R&&ne>=K&&ne<=ie});if(P.length===0)return null;let B=0,H=0,Z=0,te=0;return P.forEach(le=>{const ne=e.vehicles.find(fe=>fe.id===le.vehicleId);if(ne){const fe=le.isRoundTrip?le.distance*2:le.distance;B+=fe,H+=fe*ne.reimbursementRate}if(le.hasToll&&le.tollAmount){const fe=le.isRoundTrip?le.tollAmount*2:le.tollAmount;Z+=fe}le.hasMeal&&le.mealAmount&&(te+=le.mealAmount)}),{month:j,year:I,personId:R,trips:P,totalDistance:B,totalReimbursement:H,totalTollFees:Z,totalMealReimbursement:te}},getPerson:F,getVehicle:q,getVehiclesForPerson:L,getSavedRoute:E,getRouteDistance:V,getTollBooth:X,searchTollStations:T,handleTollBoothOnTripSave:C,formatDate:R=>Gk(new Date(R),"dd MMMM yyyy",{locale:AN}),loading:r};return v.jsx(sw.Provider,{value:ce,children:t})},ps=()=>{const t=ge.useContext(sw);if(t===void 0)throw new Error("useAppContext must be used within an AppProvider");return t},jN=()=>{const{state:t}=ps(),e=new Date().getMonth(),n=new Date().getFullYear(),r=t.trips.filter(s=>{const a=new Date(s.date);return a.getMonth()===e&&a.getFullYear()===n}),i=[{title:"Persone",value:t.people.length,icon:v.jsx(T5,{className:"h-8 w-8 text-blue-500"}),link:"/persone",color:"bg-blue-100"},{title:"Trasferte Totali",value:t.trips.length,icon:v.jsx(C5,{className:"h-8 w-8 text-purple-500"}),link:"/tragitti",color:"bg-purple-100"},{title:"Trasferte Questo Mese",value:r.length,icon:v.jsx(A5,{className:"h-8 w-8 text-amber-500"}),link:"/report",color:"bg-amber-100"},{title:"Percorsi Salvati",value:t.savedRoutes.length,icon:v.jsx(zh,{className:"h-8 w-8 text-rose-500"}),link:"/percorsi",color:"bg-rose-100"}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("h1",{className:"text-3xl font-bold text-gray-800",children:"Gestione Rimborsi Spese di Trasferta"}),v.jsx("p",{className:"mt-2 text-gray-600",children:"Istituto Veneto di Terapia Familiare"})]}),v.jsx(bn,{to:"/tragitti/nuovo",className:"block group",children:v.jsx("div",{className:"bg-gradient-to-r from-amber-400 to-amber-500 hover:from-amber-500 hover:to-amber-600 text-white rounded-xl shadow-xl p-8 transition-all duration-300 hover:scale-[1.02] hover:shadow-2xl",children:v.jsxs("div",{className:"flex flex-col md:flex-row items-center justify-between gap-6",children:[v.jsxs("div",{className:"flex items-center space-x-6",children:[v.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-5 rounded-2xl",children:v.jsx(Fa,{size:48,className:"text-white"})}),v.jsxs("div",{className:"text-left",children:[v.jsx("h2",{className:"text-3xl font-bold mb-2",children:"Nuova Trasferta"}),v.jsx("p",{className:"text-amber-50 text-lg",children:"Registra una nuova trasferta con chilometri, pedaggi e vitto"})]})]}),v.jsx("div",{className:"bg-white/20 backdrop-blur-sm p-4 rounded-full group-hover:bg-white/30 transition-colors",children:v.jsx(G3,{size:32,className:"text-white"})})]})})}),v.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(s=>v.jsx(bn,{to:s.link,className:"transition-transform hover:scale-105",children:v.jsx($r,{className:"h-full hover:shadow-lg transition-shadow",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:`${s.color} p-4 rounded-lg mr-4`,children:s.icon}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:s.title}),v.jsx("p",{className:"text-3xl font-bold text-gray-900",children:s.value})]})]})})},s.title))}),v.jsxs($r,{title:"Benvenuto nell'applicazione",children:[v.jsx("p",{className:"text-gray-600 mb-4",children:"Questa applicazione ti permette di gestire i rimborsi spese di trasferta (chilometri, pedaggi e vitto) per il personale dell'Istituto Veneto di Terapia Familiare."}),v.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Funzionalit:"}),v.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1",children:[v.jsx("li",{children:"Gestione unificata di persone e veicoli"}),v.jsx("li",{children:"Tracciamento trasferte con calcolo automatico dei rimborsi"}),v.jsx("li",{children:"Supporto per chilometri, pedaggi autostradali e vitto"}),v.jsx("li",{children:"Percorsi salvati con opzioni multiple di distanza"}),v.jsx("li",{children:"Selezione automatica del veicolo per persona"}),v.jsx("li",{children:"Generazione di report mensili dettagliati"})]})]}),v.jsxs("div",{children:[v.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Per iniziare:"}),v.jsxs("ul",{className:"list-disc list-inside text-gray-600 space-y-1",children:[v.jsxs("li",{children:["Aggiungi il personale e i loro veicoli in ",v.jsx(bn,{to:"/persone",className:"text-teal-600 hover:underline",children:"Persone"})]}),v.jsxs("li",{children:["Crea percorsi frequenti in ",v.jsx(bn,{to:"/percorsi",className:"text-teal-600 hover:underline",children:"Percorsi Salvati"})]}),v.jsxs("li",{children:["Registra le trasferte in ",v.jsx(bn,{to:"/tragitti",className:"text-teal-600 hover:underline",children:"Trasferte"})]}),v.jsxs("li",{children:["Genera report mensili nella sezione ",v.jsx(bn,{to:"/report",className:"text-teal-600 hover:underline",children:"Report"})]})]})]})]})]}),v.jsx($r,{title:"Novit - Gestione Completa Trasferte",children:v.jsxs("div",{className:"bg-teal-50 border border-teal-200 rounded-lg p-4",children:[v.jsx("h4",{className:"font-semibold text-teal-800 mb-2",children:" Rimborsi completi"}),v.jsx("p",{className:"text-teal-700 text-sm mb-3",children:"Ora puoi gestire tutte le spese di trasferta in un'unica soluzione: chilometri, pedaggi autostradali e rimborsi vitto (pranzo/cena)."}),v.jsx("h4",{className:"font-semibold text-teal-800 mb-2",children:" Veicoli integrati"}),v.jsx("p",{className:"text-teal-700 text-sm mb-3",children:"Gestisci i veicoli direttamente dalla pagina di ogni persona. Il veicolo viene automaticamente selezionato durante l'inserimento della trasferta."}),v.jsx("h4",{className:"font-semibold text-teal-800 mb-2",children:" Percorsi con opzioni multiple"}),v.jsx("p",{className:"text-teal-700 text-sm",children:"I percorsi salvati supportano pi opzioni di distanza (strada normale, autostrada, ecc.) con pedaggi preimpostati."})]})})]})},ft=({children:t,variant:e="primary",size:n="md",icon:r,iconPosition:i="left",fullWidth:s=!1,className:a,disabled:o,confirmMessage:l,onClick:c,...m})=>{const f=S=>{l&&!window.confirm(l)||c==null||c(S)},y={primary:"bg-teal-600 hover:bg-teal-700 text-white",secondary:"bg-gray-600 hover:bg-gray-700 text-white",success:"bg-green-600 hover:bg-green-700 text-white",danger:"bg-red-600 hover:bg-red-700 text-white",warning:"bg-amber-500 hover:bg-amber-600 text-white",info:"bg-blue-600 hover:bg-blue-700 text-white"},h={sm:"text-xs py-1 px-2 rounded",md:"text-sm py-2 px-4 rounded-md",lg:"text-base py-3 px-6 rounded-lg"},k=Zn("font-medium transition-colors focus:outline-none focus:ring-2 focus:ring-opacity-50 inline-flex items-center justify-center",y[e],h[n],{"opacity-60 cursor-not-allowed":o,"w-full":s,"focus:ring-teal-400":e==="primary","focus:ring-gray-400":e==="secondary","focus:ring-green-400":e==="success","focus:ring-red-400":e==="danger","focus:ring-amber-400":e==="warning","focus:ring-blue-400":e==="info"},a);return v.jsxs("button",{className:k,disabled:o,onClick:f,...m,children:[r&&i==="left"&&v.jsx("span",{className:"mr-2",children:r}),t,r&&i==="right"&&v.jsx("span",{className:"ml-2",children:r})]})};function Hh({columns:t,data:e,keyExtractor:n,onRowClick:r,className:i,emptyMessage:s="Nessun dato disponibile"}){return v.jsx("div",{className:"overflow-x-auto",children:v.jsxs("table",{className:Zn("min-w-full divide-y divide-gray-200",i),children:[v.jsx("thead",{className:"bg-gray-50",children:v.jsx("tr",{children:t.map(a=>v.jsx("th",{scope:"col",className:Zn("px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",a.className),children:a.header},a.key))})}),v.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:e.length>0?e.map(a=>v.jsx("tr",{className:Zn({"hover:bg-gray-50 cursor-pointer":r}),onClick:r?()=>r(a):void 0,children:t.map(o=>v.jsx("td",{className:Zn("px-6 py-4 text-sm text-gray-500",o.className),children:o.render?o.render(a):a[o.key]},`${n(a)}-${o.key}`))},n(a))):v.jsx("tr",{children:v.jsx("td",{colSpan:t.length,className:"px-6 py-4 text-sm text-gray-500 text-center",children:s})})})]})})}const CN=()=>{const{state:t,deletePerson:e}=ps(),n=Vr(),[r,i]=ge.useState(""),s=l=>{window.confirm("Sei sicuro di voler eliminare questa persona? Verranno eliminati anche tutti i veicoli e i tragitti associati.")&&e(l)},a=t.people.filter(l=>l.name.toLowerCase().includes(r.toLowerCase())||l.surname.toLowerCase().includes(r.toLowerCase())||r.toLowerCase().includes("docent")&&l.isDocente||r.toLowerCase().includes("amministrat")&&l.isAmministratore||r.toLowerCase().includes("dipendent")&&l.isDipendente),o=[{key:"name",header:"Nome",render:l=>v.jsxs("span",{className:"font-medium text-gray-900",children:[l.name," ",l.surname]})},{key:"roles",header:"Ruoli",render:l=>v.jsxs("div",{className:"flex flex-wrap gap-1",children:[l.isDocente&&v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-teal-100 text-teal-800",children:"Docente"}),l.isAmministratore&&v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:"Amministratore"}),l.isDipendente&&v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-green-100 text-green-800",children:"Dipendente"})]})},{key:"email",header:"Email"},{key:"vehicles",header:"Veicoli",render:l=>{const c=t.vehicles.filter(m=>m.personId===l.id).length;return v.jsx("span",{children:c})}},{key:"actions",header:"Azioni",className:"text-right w-32",render:l=>v.jsxs("div",{className:"flex flex-col items-stretch space-y-2",children:[v.jsx(ft,{variant:"info",size:"sm",icon:v.jsx(Bh,{size:16}),onClick:c=>{c.stopPropagation(),n(`/persone/${l.id}`)},className:"w-full",children:"Modifica"}),v.jsx(ft,{variant:"danger",size:"sm",icon:v.jsx(hc,{size:16}),onClick:c=>{c.stopPropagation(),s(l.id)},className:"w-full",children:"Elimina"})]})}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Gestione Persone"}),v.jsx(bn,{to:"/persone/nuovo",children:v.jsx(ft,{variant:"primary",icon:v.jsx(L5,{size:18}),children:"Aggiungi Persona"})})]}),v.jsxs($r,{children:[v.jsxs("div",{className:"mb-4 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Y0,{size:18,className:"text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Cerca per nome, cognome o ruolo...",className:"pl-10 shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md",value:r,onChange:l=>i(l.target.value)})]}),v.jsx(Hh,{columns:o,data:a,keyExtractor:l=>l.id,onRowClick:l=>n(`/persone/${l.id}`),emptyMessage:r?"Nessuna persona trovata con questi criteri di ricerca":"Nessuna persona aggiunta. Clicca su 'Aggiungi Persona' per iniziare."})]})]})},bt=({label:t,error:e,fullWidth:n=!0,className:r,id:i,...s})=>v.jsxs("div",{className:Zn("mb-4",{"w-full":n}),children:[t&&v.jsx("label",{htmlFor:i,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),v.jsx("input",{id:i,className:Zn("shadow-sm rounded-md border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm",{"border-red-300":e},r),...s}),e&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:e})]}),Cv=()=>{const{id:t}=G0(),e=Vr(),{state:n,addPerson:r,updatePerson:i,addVehicle:s,updateVehicle:a,deleteVehicle:o,getVehiclesForPerson:l}=ps(),{showToast:c}=kl(),m=!!t,f=m?n.people.find(M=>M.id===t):null,y=m?l(t):[],[h,k]=ge.useState({name:"",surname:"",isDocente:!1,isAmministratore:!1,isDipendente:!1,email:"",phone:"",homeAddress:""}),[S,_]=ge.useState({make:"",model:"",plate:"",reimbursementRate:"0.35"}),[b,p]=ge.useState({}),[w,N]=ge.useState({}),[F,q]=ge.useState(!1),[L,E]=ge.useState(null);ge.useEffect(()=>{f&&k({name:f.name,surname:f.surname,isDocente:f.isDocente,isAmministratore:f.isAmministratore,isDipendente:f.isDipendente,email:f.email||"",phone:f.phone||"",homeAddress:f.homeAddress||""})},[f]);const V=()=>{const M={};return h.name.trim()||(M.name="Il nome  obbligatorio"),h.surname.trim()||(M.surname="Il cognome  obbligatorio"),!h.isDocente&&!h.isAmministratore&&!h.isDipendente&&(M.roles="Seleziona almeno un ruolo"),p(M),Object.keys(M).length===0},X=()=>{const M={};S.make.trim()||(M.make="La marca  obbligatoria"),S.model.trim()||(M.model="Il modello  obbligatorio"),S.plate.trim()?n.vehicles.find(P=>P.plate.toLowerCase()===S.plate.toLowerCase()&&P.id!==L)&&(M.plate="Questa targa  gi registrata per un altro veicolo"):M.plate="La targa  obbligatoria";const K=parseFloat(S.reimbursementRate);return(isNaN(K)||K<=0)&&(M.reimbursementRate="La tariffa deve essere un numero positivo"),N(M),Object.keys(M).length===0},T=M=>{const{name:K,value:ie,type:P}=M.target,B=M.target.checked;k(H=>({...H,[K]:P==="checkbox"?B:ie}))},C=M=>{const{name:K,value:ie}=M.target;_(P=>({...P,[K]:ie}))},Y=async M=>{if(M.preventDefault(),!V())return;const K={name:h.name,surname:h.surname,isDocente:h.isDocente,isAmministratore:h.isAmministratore,isDipendente:h.isDipendente,email:h.email||void 0,phone:h.phone||void 0,homeAddress:h.homeAddress||void 0};try{m&&f?(await i({id:f.id,...K}),c("Persona aggiornata con successo","success")):(await r(K),c("Persona aggiunta con successo","success"),e("/persone"))}catch(ie){console.error("Errore durante il salvataggio della persona:",ie),c("Errore durante il salvataggio della persona","error")}},G=()=>{q(!0),E(null),_({make:"",model:"",plate:"",reimbursementRate:"0.35"}),N({})},ce=M=>{q(!0),E(M.id),_({make:M.make,model:M.model,plate:M.plate,reimbursementRate:M.reimbursementRate.toString()}),N({})},R=async M=>{if(M.preventDefault(),!X())return;if(!f&&!m){c("Salva prima la persona per aggiungere un veicolo","error");return}const K={personId:(f==null?void 0:f.id)||"",make:S.make,model:S.model,plate:S.plate,reimbursementRate:parseFloat(S.reimbursementRate)};try{L?(await a({id:L,...K}),c("Veicolo aggiornato con successo","success")):(await s(K),c("Veicolo aggiunto con successo","success")),q(!1),E(null),_({make:"",model:"",plate:"",reimbursementRate:"0.35"})}catch(ie){console.error("Errore durante il salvataggio del veicolo:",ie),c("Errore durante il salvataggio del veicolo","error")}},j=async M=>{if(window.confirm("Sei sicuro di voler eliminare questo veicolo? Verranno eliminati anche tutti i tragitti associati."))try{await o(M),c("Veicolo eliminato con successo","success")}catch(K){console.error("Errore durante l'eliminazione del veicolo:",K),c("Errore durante l'eliminazione del veicolo","error")}},I=()=>{q(!1),E(null),_({make:"",model:"",plate:"",reimbursementRate:"0.35"}),N({})};return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(ft,{variant:"secondary",icon:v.jsx(Xu,{size:18}),onClick:()=>e("/persone"),children:"Torna all'elenco"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:m?"Modifica Persona":"Aggiungi Persona"})]}),v.jsx($r,{title:"Informazioni Personali",children:v.jsxs("form",{onSubmit:Y,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(bt,{id:"name",name:"name",label:"Nome",value:h.name,onChange:T,error:b.name,required:!0}),v.jsx(bt,{id:"surname",name:"surname",label:"Cognome",value:h.surname,onChange:T,error:b.surname,required:!0})]}),v.jsxs("div",{children:[v.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Ruoli ",v.jsx("span",{className:"text-red-500",children:"*"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",name:"isDocente",checked:h.isDocente,onChange:T,className:"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Docente"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",name:"isAmministratore",checked:h.isAmministratore,onChange:T,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Amministratore"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",name:"isDipendente",checked:h.isDipendente,onChange:T,className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Dipendente"})]})]}),b.roles&&v.jsx("p",{className:"mt-2 text-sm text-red-600",children:b.roles})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(bt,{id:"email",name:"email",label:"Email",type:"email",value:h.email,onChange:T}),v.jsx(bt,{id:"phone",name:"phone",label:"Telefono",value:h.phone,onChange:T})]}),v.jsx(bt,{id:"homeAddress",name:"homeAddress",label:"Indirizzo di Casa",value:h.homeAddress,onChange:T,placeholder:"Via, Citt"}),v.jsx("div",{className:"flex justify-end",children:v.jsx(ft,{type:"submit",variant:"primary",icon:v.jsx(gh,{size:18}),children:m?"Salva Modifiche":"Aggiungi Persona"})})]})}),m&&f&&v.jsxs($r,{children:[v.jsxs("div",{className:"flex items-center justify-between mb-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(uu,{className:"h-5 w-5 text-teal-600"}),v.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Veicoli di ",f.name," ",f.surname]})]}),!F&&v.jsx(ft,{variant:"primary",size:"sm",icon:v.jsx(Fa,{size:16}),onClick:G,children:"Aggiungi Veicolo"})]}),F&&v.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-6",children:[v.jsx("h3",{className:"text-md font-medium text-blue-900 mb-4",children:L?"Modifica Veicolo":"Nuovo Veicolo"}),v.jsxs("form",{onSubmit:R,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(bt,{id:"make",name:"make",label:"Marca",value:S.make,onChange:C,error:w.make,required:!0}),v.jsx(bt,{id:"model",name:"model",label:"Modello",value:S.model,onChange:C,error:w.model,required:!0})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(bt,{id:"plate",name:"plate",label:"Targa",value:S.plate,onChange:C,error:w.plate,required:!0}),v.jsx(bt,{id:"reimbursementRate",name:"reimbursementRate",label:"Tariffa (/km)",type:"number",step:"0.01",min:"0.01",value:S.reimbursementRate,onChange:C,error:w.reimbursementRate,required:!0})]}),v.jsxs("div",{className:"flex justify-end space-x-2",children:[v.jsx(ft,{type:"button",variant:"secondary",onClick:I,children:"Annulla"}),v.jsx(ft,{type:"submit",variant:"primary",icon:v.jsx(gh,{size:18}),children:L?"Salva Modifiche":"Aggiungi Veicolo"})]})]})]}),v.jsx("div",{className:"space-y-3",children:y.length>0?y.map(M=>v.jsx("div",{className:"bg-white border border-gray-200 rounded-lg p-4 hover:shadow-md transition-shadow",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsx("div",{className:"flex-grow",children:v.jsxs("div",{className:"flex items-center space-x-3",children:[v.jsx(uu,{className:"h-5 w-5 text-gray-400"}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-md font-medium text-gray-900",children:[M.make," ",M.model]}),v.jsxs("div",{className:"flex items-center space-x-4 text-sm text-gray-600",children:[v.jsx("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-gray-100 text-gray-800",children:M.plate}),v.jsxs("span",{className:"font-medium text-teal-600",children:[M.reimbursementRate.toFixed(2)," /km"]})]})]})]})}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(ft,{variant:"info",size:"sm",icon:v.jsx(Bh,{size:14}),onClick:()=>ce(M),disabled:F,children:"Modifica"}),v.jsx(ft,{variant:"danger",size:"sm",icon:v.jsx(hc,{size:14}),onClick:()=>j(M.id),disabled:F,children:"Elimina"})]})]})},M.id)):v.jsxs("div",{className:"text-center py-8 bg-gray-50 rounded-lg border-2 border-dashed border-gray-300",children:[v.jsx(uu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Nessun veicolo registrato"}),v.jsxs("p",{className:"text-gray-600 mb-4",children:["Aggiungi un veicolo per ",f.name," ",f.surname," per iniziare a tracciare i rimborsi chilometrici."]}),!F&&v.jsx(ft,{variant:"primary",icon:v.jsx(Fa,{size:18}),onClick:G,children:"Aggiungi Primo Veicolo"})]})}),y.length>0&&v.jsx("div",{className:"mt-4 p-3 bg-teal-50 border border-teal-200 rounded-md",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx("div",{className:"flex-shrink-0",children:v.jsx(uu,{className:"h-5 w-5 text-teal-500"})}),v.jsxs("div",{className:"ml-3",children:[v.jsx("h3",{className:"text-sm font-medium text-teal-800",children:"Gestione Semplificata"}),v.jsxs("p",{className:"text-sm text-teal-700 mt-1",children:["Ora quando crei un nuovo tragitto, il veicolo di ",f.name," verr selezionato automaticamente. Questo semplifica il processo e riduce gli errori di inserimento."]})]})]})})]}),!m&&v.jsx($r,{children:v.jsxs("div",{className:"text-center py-6",children:[v.jsx(uu,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),v.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Gestione Veicoli"}),v.jsx("p",{className:"text-gray-600",children:"Dopo aver salvato la persona, potrai aggiungere e gestire i suoi veicoli direttamente da questa pagina."})]})})]})},_r=({label:t,options:e,error:n,fullWidth:r=!0,className:i,id:s,...a})=>v.jsxs("div",{className:Zn("mb-4",{"w-full":r}),children:[t&&v.jsx("label",{htmlFor:s,className:"block text-sm font-medium text-gray-700 mb-1",children:t}),v.jsxs("select",{id:s,className:Zn("shadow-sm rounded-md border-gray-300 focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm",{"border-red-300":n},i),...a,children:[v.jsx("option",{value:"",children:"Seleziona..."}),e.map(o=>v.jsx("option",{value:o.value,children:o.label},o.value))]}),n&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:n})]}),EN=()=>{const{state:t,deleteTrip:e,getPerson:n,getVehicle:r,formatDate:i}=ps(),s=Vr(),[a,o]=ge.useState(""),[l,c]=ge.useState(""),[m,f]=ge.useState(""),y=p=>{window.confirm("Sei sicuro di voler eliminare questa trasferta?")&&e(p)},h=p=>{s("/tragitti/nuovo",{state:{duplicateTrip:p}})},S=[...t.trips.filter(p=>{const w=n(p.personId),N=r(p.vehicleId),F=new Date(p.date),q=a.toLowerCase(),L=w&&`${w.name} ${w.surname}`.toLowerCase().includes(q)||N&&`${N.make} ${N.model}`.toLowerCase().includes(q)||p.origin.toLowerCase().includes(q)||p.destination.toLowerCase().includes(q)||p.purpose.toLowerCase().includes(q),E=!l||p.personId===l,V=m.split("-"),X=!m||F.getMonth()===parseInt(V[1])-1&&F.getFullYear()===parseInt(V[0]);return L&&E&&X})].sort((p,w)=>new Date(w.date).getTime()-new Date(p.date).getTime()),_=()=>{const p=[],w=new Date;for(let N=0;N<12;N++){const F=new Date(w.getFullYear(),w.getMonth()-N,1),q=`${F.getFullYear()}-${(F.getMonth()+1).toString().padStart(2,"0")}`,L=`${F.toLocaleString("it-IT",{month:"long"})} ${F.getFullYear()}`;p.push({value:q,label:L})}return p},b=[{key:"date",header:"Data",className:"w-32",render:p=>v.jsx("span",{className:"whitespace-nowrap",children:i(p.date)})},{key:"person",header:"Persona",className:"w-40",render:p=>{const w=n(p.personId);return w?v.jsxs("span",{className:"font-medium text-gray-900 whitespace-nowrap",children:[w.name," ",w.surname]}):v.jsx("span",{className:"text-red-500 whitespace-nowrap",children:"Persona non trovata"})}},{key:"vehicle",header:"Veicolo",className:"w-48",render:p=>{const w=r(p.vehicleId);return w?v.jsxs("span",{className:"whitespace-nowrap",children:[w.make," ",w.model," (",w.plate,")"]}):v.jsx("span",{className:"text-red-500 whitespace-nowrap",children:"Veicolo non trovato"})}},{key:"route",header:"Percorso",className:"max-w-md",render:p=>v.jsxs("span",{className:"block break-words",children:[p.origin,"  ",p.destination,p.isRoundTrip&&v.jsx("span",{className:"ml-1 text-teal-600",children:"(A/R)"})]})},{key:"distance",header:"Km",className:"w-24",render:p=>{const w=p.isRoundTrip?p.distance*2:p.distance;return v.jsxs("span",{className:"whitespace-nowrap",children:[w.toFixed(1)," km"]})}},{key:"toll",header:"Pedaggio",className:"w-32",render:p=>{if(p.hasToll&&p.tollAmount){const w=p.isRoundTrip?p.tollAmount*2:p.tollAmount;return v.jsxs("div",{className:"flex items-center space-x-1 whitespace-nowrap",children:[v.jsx(N5,{size:14,className:"text-amber-600"}),v.jsxs("span",{className:"text-amber-700 font-medium",children:[w.toFixed(2)," "]})]})}return v.jsx("span",{className:"text-gray-400 text-sm whitespace-nowrap",children:"-"})}},{key:"actions",header:"Azioni",className:"text-right w-32",render:p=>v.jsxs("div",{className:"flex flex-col items-stretch space-y-2",children:[v.jsx(ft,{variant:"info",size:"sm",icon:v.jsx(Bh,{size:16}),onClick:w=>{w.stopPropagation(),s(`/tragitti/${p.id}`)},className:"w-full",children:"Modifica"}),v.jsx(ft,{variant:"secondary",size:"sm",icon:v.jsx(P5,{size:16}),onClick:w=>{w.stopPropagation(),h(p)},className:"w-full",children:"Duplica"}),v.jsx(ft,{variant:"danger",size:"sm",icon:v.jsx(hc,{size:16}),onClick:w=>{w.stopPropagation(),y(p.id)},className:"w-full",children:"Elimina"})]})}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Trasferte"}),v.jsx(bn,{to:"/tragitti/nuovo",children:v.jsx(ft,{variant:"primary",icon:v.jsx(E5,{size:18}),children:"Nuova Trasferta"})})]}),v.jsxs($r,{children:[v.jsxs("div",{className:"mb-4 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Y0,{size:18,className:"text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Cerca trasferte...",className:"pl-10 shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md",value:a,onChange:p=>o(p.target.value)})]}),v.jsxs("div",{className:"mb-4 grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(_r,{id:"personFilter",label:"Filtra per persona",options:t.people.map(p=>({value:p.id,label:`${p.name} ${p.surname}`})),value:l,onChange:p=>c(p.target.value)}),v.jsx(_r,{id:"monthFilter",label:"Filtra per mese",options:_(),value:m,onChange:p=>f(p.target.value)})]}),v.jsx(Hh,{columns:b,data:S,keyExtractor:p=>p.id,onRowClick:p=>s(`/tragitti/${p.id}`),emptyMessage:a||l||m?"Nessuna trasferta trovata con questi filtri":"Nessuna trasferta registrata. Clicca su 'Nuova Trasferta' per iniziare."})]})]})};function LN(t,e){const[n,r]=ge.useState(t);return ge.useEffect(()=>{const i=setTimeout(()=>{r(t)},e);return()=>{clearTimeout(i)}},[t,e]),n}const Ev=({id:t,name:e,label:n,value:r,onChange:i,onSelect:s,getSuggestions:a,placeholder:o,error:l,required:c=!1,disabled:m=!1})=>{const[f,y]=ge.useState([]),[h,k]=ge.useState(!1),[S,_]=ge.useState(-1),[b,p]=ge.useState(!1),w=LN(r,300),N=ge.useRef(null);ge.useEffect(()=>{(async()=>{if(w.trim().length<2){y([]),k(!1);return}p(!0);try{const E=await a(w);y(E),k(E.length>0),_(-1)}catch(E){console.error("Error fetching suggestions:",E),y([]),k(!1)}finally{p(!1)}})()},[w,a]),ge.useEffect(()=>{const L=E=>{N.current&&!N.current.contains(E.target)&&k(!1)};return document.addEventListener("mousedown",L),()=>{document.removeEventListener("mousedown",L)}},[]);const F=L=>{if(h)switch(L.key){case"ArrowDown":L.preventDefault(),_(E=>E<f.length-1?E+1:E);break;case"ArrowUp":L.preventDefault(),_(E=>E>0?E-1:-1);break;case"Enter":L.preventDefault(),S>=0&&S<f.length&&q(f[S].value);break;case"Escape":L.preventDefault(),k(!1),_(-1);break}},q=L=>{i({target:{name:e,value:L,type:"text"}}),s&&s(L),k(!1),_(-1)};return v.jsxs("div",{ref:N,className:"relative",children:[v.jsxs("label",{htmlFor:t,className:"block text-sm font-medium text-gray-700 mb-1",children:[n,c&&v.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),v.jsxs("div",{className:"relative",children:[v.jsx("input",{type:"text",id:t,name:e,value:r,onChange:i,onKeyDown:F,onFocus:()=>{f.length>0&&r.trim().length>=2&&k(!0)},placeholder:o,disabled:m,required:c,className:Zn("shadow-sm block w-full sm:text-sm rounded-md",{"border-red-300 focus:ring-red-500 focus:border-red-500":l,"border-gray-300 focus:ring-primary-500 focus:border-primary-500":!l,"bg-gray-100 cursor-not-allowed":m})}),b&&v.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:v.jsx("div",{className:"animate-spin h-4 w-4 border-2 border-primary-500 border-t-transparent rounded-full"})})]}),l&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:l}),h&&f.length>0&&v.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-auto",children:f.map((L,E)=>v.jsx("button",{type:"button",onClick:()=>q(L.value),className:Zn("w-full text-left px-4 py-2 hover:bg-primary-50 focus:bg-primary-50 focus:outline-none",{"bg-primary-100":E===S}),children:v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-gray-900",children:L.value}),L.usageCount!==void 0&&L.usageCount>0&&v.jsxs("span",{className:"text-xs text-gray-500",children:["usato ",L.usageCount," ",L.usageCount===1?"volta":"volte"]})]})},E))})]})},TN=(t,e)=>{if(!t.trim()||!e.trim())throw new Error("Both origin and destination addresses are required");const n=encodeURIComponent(t.trim()),r=encodeURIComponent(e.trim()),i=`https://www.google.it/maps/dir/${n}/${r}`;window.open(i,"_blank","noopener,noreferrer")},aw=async(t,e)=>{throw TN(t,e),new Error(`Google Maps  stato aperto in una nuova scheda. Segui questi passaggi:

1. Verifica che il percorso mostrato sia corretto
2. Trova la distanza in chilometri (km) sotto il tempo di percorrenza
3. Torna a questa pagina e inserisci manualmente la distanza nel campo "Distanza (km)"
4. Se ci sono pi percorsi, scegli quello che intendi utilizzare per il rimborso`)},Do="Via della Quercia 2/B, 31100 Treviso",Lv=()=>{var Ae,Ne,Ee,Le,He;const{id:t}=G0(),e=Vr(),n=hs(),{state:r,addTrip:i,updateTrip:s,getPerson:a,getVehicle:o,getVehiclesForPerson:l,getSavedRoute:c,getTollBooth:m,searchTollStations:f}=ps(),y=!!t,h=y?r.trips.find(oe=>oe.id===t):null,k=!!((Ae=n.state)!=null&&Ae.duplicateTrip),S=k?n.state.duplicateTrip:null,[_,b]=ge.useState({date:new Date().toISOString().split("T")[0],personId:"",vehicleId:"",tripRole:"docente",origin:Do,destination:"",distance:"",purpose:"",isRoundTrip:!1,savedRouteId:"",selectedDistanceId:"",useCustomOrigin:!1,useCustomDestination:!1,hasToll:!1,tollEntryStation:"",tollExitStation:"",tollAmount:"",hasMeal:!1,mealType:"pranzo",mealAmount:""}),[p,w]=ge.useState({}),[N,F]=ge.useState([]),[q,L]=ge.useState([]),[E,V]=ge.useState(null),[X,T]=ge.useState(null),[C,Y]=ge.useState([]),[G,ce]=ge.useState(null);ge.useEffect(()=>{if(h){const oe=h.savedRouteId?c(h.savedRouteId):null,J=a(h.personId),Te=(J==null?void 0:J.homeAddress)||Do;h.personId&&(I(h.personId),M(h.personId)),h.savedRouteId&&K(h.savedRouteId),b({date:new Date(h.date).toISOString().split("T")[0],personId:h.personId,vehicleId:h.vehicleId,tripRole:h.tripRole||"docente",origin:h.origin,destination:h.destination,distance:h.distance.toString(),purpose:h.purpose,isRoundTrip:h.isRoundTrip,savedRouteId:h.savedRouteId||"",selectedDistanceId:h.selectedDistanceId||"",useCustomOrigin:h.origin!==Te,useCustomDestination:!oe,hasToll:h.hasToll||!1,tollEntryStation:h.tollEntryStation||"",tollExitStation:h.tollExitStation||"",tollAmount:h.tollAmount?h.tollAmount.toString():"",hasMeal:h.hasMeal||!1,mealType:h.mealType||"pranzo",mealAmount:h.mealAmount?h.mealAmount.toString():""})}},[h]),ge.useEffect(()=>{_.personId&&N.length>0?(!_.vehicleId||!N.some(oe=>oe.value===_.vehicleId))&&b(oe=>({...oe,vehicleId:N[0].value})):_.personId||b(oe=>({...oe,vehicleId:""}))},[_.personId,N]),ge.useEffect(()=>{if(k&&S){const oe=a(S.personId);S.personId&&(I(S.personId),M(S.personId)),S.savedRouteId&&K(S.savedRouteId),b({date:new Date().toISOString().split("T")[0],personId:S.personId,vehicleId:S.vehicleId,tripRole:S.tripRole||"docente",origin:S.origin,destination:S.destination,distance:S.distance.toString(),purpose:S.purpose,isRoundTrip:S.isRoundTrip,savedRouteId:S.savedRouteId||"",selectedDistanceId:S.selectedDistanceId||"",useCustomOrigin:oe?S.origin!==oe.homeAddress:!1,useCustomDestination:!S.savedRouteId,hasToll:S.hasToll||!1,tollEntryStation:S.tollEntryStation||"",tollExitStation:S.tollExitStation||"",tollAmount:S.tollAmount?S.tollAmount.toString():"",hasMeal:S.hasMeal||!1,mealType:S.mealType||"pranzo",mealAmount:S.mealAmount?S.mealAmount.toString():""})}},[k]),ge.useEffect(()=>{if(_.hasToll&&_.tollEntryStation&&_.tollExitStation){const oe=m(_.tollEntryStation,_.tollExitStation);oe?(ce({amount:oe.amount,usageCount:oe.usageCount}),(!_.tollAmount||_.tollAmount==="")&&b(J=>({...J,tollAmount:oe.amount.toString()}))):ce(null)}else ce(null)},[_.tollEntryStation,_.tollExitStation,_.hasToll]),ge.useEffect(()=>{R(),j()},[_.distance,_.vehicleId,_.isRoundTrip,_.tollAmount,_.hasToll,_.mealAmount,_.hasMeal]);const R=()=>{if(!_.vehicleId||!_.distance){V(null);return}const oe=o(_.vehicleId);if(!oe){V(null);return}const J=parseFloat(_.distance);if(isNaN(J)){V(null);return}const Ce=(_.isRoundTrip?J*2:J)*oe.reimbursementRate;V(Ce)},j=()=>{if(!_.hasToll||!_.tollAmount){T(null);return}const oe=parseFloat(_.tollAmount);if(isNaN(oe)){T(null);return}const J=_.isRoundTrip?oe*2:oe;T(J)},I=oe=>{const J=l(oe);F(J.map(Te=>({value:Te.id,label:`${Te.make} ${Te.model} (${Te.plate}) - ${Te.reimbursementRate.toFixed(2)} /km`})))},M=oe=>{const J=a(oe);if(!J){L([]);return}const Te=[];J.isDocente&&Te.push({value:"docente",label:"Docente"}),J.isAmministratore&&Te.push({value:"amministratore",label:"Amministratore"}),J.isDipendente&&Te.push({value:"dipendente",label:"Dipendente"}),L(Te),Te.length>0&&!Te.some(Ce=>Ce.value===_.tripRole)&&b(Ce=>({...Ce,tripRole:Te[0].value}))},K=oe=>{const J=c(oe);Y(J?J.distances.map(Te=>({value:Te.id,label:`${Te.label} (${Te.distance.toFixed(1)} km)`})):[])},ie=()=>{const oe={};_.date||(oe.date="La data  obbligatoria"),_.personId||(oe.personId="La persona  obbligatoria"),_.vehicleId||(oe.vehicleId="Il veicolo  obbligatorio"),_.tripRole||(oe.tripRole="Il ruolo  obbligatorio"),_.origin.trim()||(oe.origin="L'indirizzo di origine  obbligatorio"),_.destination.trim()||(oe.destination="L'indirizzo di destinazione  obbligatorio");const J=parseFloat(_.distance);return(isNaN(J)||J<=0)&&(oe.distance="La distanza deve essere un numero positivo"),_.purpose.trim()||(oe.purpose="Lo scopo della trasferta  obbligatorio"),w(oe),Object.keys(oe).length===0},P=oe=>{const{name:J,value:Te,type:Ce}=oe.target;if(J==="personId"&&Te){I(Te),M(Te);const _e=a(Te);if(_e&&_e.homeAddress&&!_.useCustomOrigin){b(je=>({...je,personId:Te,origin:_e.homeAddress||Do}));return}}if(Ce==="checkbox"){const _e=oe.target.checked;if(J==="useCustomOrigin"&&!_e){const je=_.personId?a(_.personId):null,De=(je==null?void 0:je.homeAddress)||Do;b(Ie=>({...Ie,[J]:_e,origin:De}))}else J==="useCustomDestination"?(b(je=>({...je,[J]:_e,savedRouteId:"",selectedDistanceId:"",destination:"",distance:""})),Y([])):b(je=>({...je,[J]:_e}))}else b(_e=>({..._e,[J]:Te}))},B=oe=>{const J=oe.target.value,Te=c(J);Te?(K(J),b(Ce=>({...Ce,savedRouteId:J,destination:Te.destination,selectedDistanceId:"",distance:""}))):(Y([]),b(Ce=>({...Ce,savedRouteId:"",selectedDistanceId:"",destination:"",distance:""})))},H=oe=>{const J=oe.target.value,Te=c(_.savedRouteId);if(Te&&J){const Ce=Te.distances.find(_e=>_e.id===J);if(Ce){const _e=!!(Ce.tollEntryStation||Ce.tollExitStation||Ce.tollAmount);b(je=>({...je,selectedDistanceId:J,distance:Ce.distance.toString(),hasToll:_e,tollEntryStation:Ce.tollEntryStation||"",tollExitStation:Ce.tollExitStation||"",tollAmount:Ce.tollAmount?Ce.tollAmount.toString():""}))}}else b(Ce=>({...Ce,selectedDistanceId:"",distance:"",hasToll:!1,tollEntryStation:"",tollExitStation:"",tollAmount:""}))},Z=async oe=>(await f(oe)).map(Te=>({value:Te})),te=()=>{try{aw(_.origin,_.destination)}catch(oe){oe instanceof Error&&alert(oe.message)}},le=oe=>{if(oe.preventDefault(),!ie())return;const J={date:_.date,personId:_.personId,vehicleId:_.vehicleId,tripRole:_.tripRole,origin:_.origin,destination:_.destination,distance:parseFloat(_.distance),purpose:_.purpose,isRoundTrip:_.isRoundTrip,savedRouteId:_.savedRouteId||void 0,selectedDistanceId:_.selectedDistanceId||void 0,hasToll:_.hasToll,tollEntryStation:_.hasToll?_.tollEntryStation:void 0,tollExitStation:_.hasToll?_.tollExitStation:void 0,tollAmount:_.hasToll&&_.tollAmount?parseFloat(_.tollAmount):void 0,hasMeal:_.hasMeal,mealType:_.hasMeal?_.mealType:void 0,mealAmount:_.hasMeal&&_.mealAmount?parseFloat(_.mealAmount):void 0};y&&h?s({id:h.id,...J}):i(J),e("/tragitti")},ne=_.origin.trim()&&_.destination.trim(),fe=N.length>0;return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(ft,{variant:"secondary",icon:v.jsx(Xu,{size:18}),onClick:()=>e("/tragitti"),children:"Torna all'elenco"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:y?"Modifica Trasferta":k?"Duplica Trasferta":"Nuova Trasferta"})]}),k&&v.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(P5,{className:"h-5 w-5 text-blue-500 mr-3 mt-0.5"}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-blue-800 mb-1",children:"Creazione da duplicato"}),v.jsx("p",{className:"text-sm text-blue-700",children:"Stai creando una nuova trasferta basata su una esistente. La data  stata aggiornata a oggi. Modifica i dati necessari e salva per creare la nuova trasferta."})]})]})}),v.jsx($r,{children:v.jsxs("form",{onSubmit:le,className:"space-y-4",children:[v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(bt,{id:"date",name:"date",label:"Data",type:"date",value:_.date,onChange:P,error:p.date,required:!0}),v.jsx(_r,{id:"personId",name:"personId",label:"Persona",options:r.people.map(oe=>{const J=[];return oe.isDocente&&J.push("D"),oe.isAmministratore&&J.push("A"),oe.isDipendente&&J.push("Dip"),{value:oe.id,label:`${oe.name} ${oe.surname} (${J.join(", ")})`}}),value:_.personId,onChange:P,error:p.personId,required:!0})]}),_.personId&&q.length>0&&v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:[v.jsx(_r,{id:"tripRole",name:"tripRole",label:"In qualit di",options:q,value:_.tripRole,onChange:P,error:p.tripRole,required:!0}),v.jsxs("p",{className:"text-xs text-blue-600 mt-1",children:["Seleziona il ruolo in cui ",(Ne=r.people.find(oe=>oe.id===_.personId))==null?void 0:Ne.name," ha svolto questa trasferta"]})]}),v.jsxs("div",{className:"space-y-2",children:[v.jsx(_r,{id:"vehicleId",name:"vehicleId",label:"Veicolo",options:N,value:_.vehicleId,onChange:P,error:p.vehicleId,required:!0,disabled:!_.personId}),_.personId&&!fe&&v.jsx("div",{className:"bg-amber-50 border border-amber-200 rounded-md p-3",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(rs,{className:"h-5 w-5 text-amber-500 mr-2 mt-0.5 flex-shrink-0"}),v.jsx("div",{children:v.jsxs("p",{className:"text-sm text-amber-800",children:["Nessun veicolo registrato per questa persona."," ",v.jsx("a",{href:"/veicoli/nuovo",className:"font-medium underline hover:text-amber-900",target:"_blank",rel:"noopener noreferrer",children:"Aggiungi un veicolo"})," ","prima di continuare."]})})]})}),_.vehicleId&&v.jsx("div",{className:"bg-teal-50 border border-teal-200 rounded-md p-3",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(rs,{className:"h-4 w-4 text-teal-500 mr-2"}),v.jsxs("span",{className:"text-sm text-teal-700",children:["Veicolo selezionato automaticamente per"," ",(Ee=r.people.find(oe=>oe.id===_.personId))==null?void 0:Ee.name," ",(Le=r.people.find(oe=>oe.id===_.personId))==null?void 0:Le.surname]})]})})]}),v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-4",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(j5,{className:"h-5 w-5 text-blue-500 mr-2"}),v.jsx("span",{className:"font-medium text-blue-800",children:"Indirizzo di Partenza"})]}),v.jsxs("div",{className:"flex items-center mb-3",children:[v.jsx("input",{id:"useCustomOrigin",name:"useCustomOrigin",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:_.useCustomOrigin,onChange:P}),v.jsx("label",{htmlFor:"useCustomOrigin",className:"ml-2 block text-sm text-blue-700",children:"Usa un indirizzo di partenza personalizzato"})]}),_.useCustomOrigin?v.jsx(bt,{id:"origin",name:"origin",value:_.origin,onChange:P,error:p.origin,placeholder:"Inserisci l'indirizzo di partenza",required:!0}):v.jsx("p",{className:"text-sm text-blue-600",children:_.personId&&((He=a(_.personId))==null?void 0:He.homeAddress)||Do})]}),v.jsxs("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100 mb-4",children:[v.jsxs("div",{className:"flex items-center mb-2",children:[v.jsx(K0,{className:"h-5 w-5 text-blue-500 mr-2"}),v.jsx("span",{className:"font-medium text-blue-800",children:"Indirizzo di Destinazione"})]}),v.jsxs("div",{className:"space-y-3",children:[v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx("input",{id:"useCustomDestination",name:"useCustomDestination",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:_.useCustomDestination,onChange:P}),v.jsx("label",{htmlFor:"useCustomDestination",className:"ml-2 block text-sm text-blue-700",children:"Inserisci manualmente l'indirizzo di destinazione"})]}),_.useCustomDestination?v.jsx(bt,{id:"destination",name:"destination",value:_.destination,onChange:P,error:p.destination,placeholder:"Inserisci l'indirizzo di destinazione",required:!0}):v.jsx(_r,{id:"savedRouteId",name:"savedRouteId",label:"Seleziona un percorso salvato",options:r.savedRoutes.map(oe=>({value:oe.id,label:`${oe.name} (${oe.destination})`})),value:_.savedRouteId,onChange:B,error:p.destination,required:!0})]})]}),_.savedRouteId&&!_.useCustomDestination&&C.length>0&&v.jsxs("div",{className:"bg-teal-50 p-4 rounded-lg border border-teal-100 mb-4",children:[v.jsxs("div",{className:"flex items-center mb-3",children:[v.jsx(zh,{className:"h-5 w-5 text-teal-500 mr-2"}),v.jsx("span",{className:"font-medium text-teal-800",children:"Opzioni di Percorso"})]}),v.jsx(_r,{id:"selectedDistanceId",name:"selectedDistanceId",label:"Seleziona il tipo di percorso",options:C,value:_.selectedDistanceId,onChange:H,required:!0}),v.jsx("p",{className:"text-xs text-teal-600 mt-1",children:"Scegli l'opzione di percorso che intendi utilizzare (es. strada normale, autostrada)"})]}),(_.useCustomDestination||!_.selectedDistanceId&&_.savedRouteId)&&v.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100 mb-4",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(rs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Calcolo Distanza con Google Maps"}),v.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Clicca il pulsante qui sotto per aprire Google Maps con il percorso tra gli indirizzi inseriti. Potrai vedere la distanza esatta e inserirla manualmente nel campo sottostante."}),v.jsx(ft,{type:"button",variant:"success",size:"sm",icon:v.jsx(mh,{size:16}),onClick:te,disabled:!ne,children:"Apri Google Maps"}),!ne&&v.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Inserisci prima gli indirizzi di origine e destinazione"})]})]})}),v.jsx(bt,{id:"distance",name:"distance",label:"Distanza (km)",type:"number",step:"0.1",min:"0.1",value:_.distance,onChange:P,error:p.distance,placeholder:_.selectedDistanceId?"Distanza selezionata automaticamente":"Inserisci la distanza da Google Maps",required:!0,disabled:!!_.selectedDistanceId}),v.jsxs("div",{className:"flex items-center mb-4",children:[v.jsx("input",{id:"isRoundTrip",name:"isRoundTrip",type:"checkbox",className:"h-4 w-4 text-primary-600 focus:ring-primary-500 border-gray-300 rounded",checked:_.isRoundTrip,onChange:P}),v.jsx("label",{htmlFor:"isRoundTrip",className:"ml-2 block text-sm text-gray-900",children:"Viaggio di andata e ritorno (A/R)"})]}),v.jsxs("div",{className:"bg-amber-50 p-4 rounded-lg border border-amber-100 mb-4",children:[v.jsx("div",{className:"mb-3",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{id:"hasToll",name:"hasToll",type:"checkbox",className:"h-4 w-4 text-amber-600 focus:ring-amber-500 border-gray-300 rounded",checked:_.hasToll,onChange:P}),v.jsx("label",{htmlFor:"hasToll",className:"text-sm font-medium text-amber-900",children:"Questa trasferta include pedaggi autostradali"})]})}),_.hasToll&&v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-amber-100 rounded-md border border-amber-200",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(rs,{className:"h-4 w-4 text-amber-600 mr-2 mt-0.5 flex-shrink-0"}),v.jsx("div",{className:"flex-grow",children:v.jsxs("p",{className:"text-xs text-amber-800",children:["I dati del pedaggio possono essere modificati per questo viaggio specifico."," ",v.jsxs("a",{href:"https://www.infoviaggiando.it/pedaggi",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-amber-900 inline-flex items-center",children:["Consulta qui gli importi aggiornati",v.jsx(mh,{size:12,className:"ml-1"})]})]})})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[v.jsx(Ev,{id:"tollEntryStation",name:"tollEntryStation",label:"Casello di Entrata",value:_.tollEntryStation,onChange:P,getSuggestions:Z,placeholder:"es. Treviso"}),v.jsx(Ev,{id:"tollExitStation",name:"tollExitStation",label:"Casello di Uscita",value:_.tollExitStation,onChange:P,getSuggestions:Z,placeholder:"es. Vicenza"}),v.jsxs("div",{children:[v.jsx(bt,{id:"tollAmount",name:"tollAmount",label:"Importo Pedaggio ()",type:"number",step:"0.10",min:"0",value:_.tollAmount,onChange:P,placeholder:"es. 3.50"}),G&&v.jsxs("div",{className:"mt-1 flex items-center text-xs text-green-600",children:[v.jsx(rs,{className:"h-3 w-3 mr-1"}),v.jsxs("span",{children:["Importo salvato: ",G.amount.toFixed(2),"  (usato ",G.usageCount," ",G.usageCount===1?"volta":"volte",")"]})]}),!G&&_.tollEntryStation&&_.tollExitStation&&v.jsxs("div",{className:"mt-1 flex items-center text-xs text-blue-600",children:[v.jsx(rs,{className:"h-3 w-3 mr-1"}),v.jsx("span",{children:"Nuova combinazione caselli"})]})]})]})]})]}),v.jsxs("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100 mb-4",children:[v.jsx("div",{className:"mb-3",children:v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx("input",{id:"hasMeal",name:"hasMeal",type:"checkbox",className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded",checked:_.hasMeal,onChange:P}),v.jsx("label",{htmlFor:"hasMeal",className:"text-sm font-medium text-green-900",children:"Questa trasferta include rimborso vitto"})]})}),_.hasMeal&&v.jsx("div",{className:"space-y-3",children:v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3",children:[v.jsx(_r,{id:"mealType",name:"mealType",label:"Tipo di pasto",options:[{value:"pranzo",label:"Pranzo"},{value:"cena",label:"Cena"}],value:_.mealType,onChange:P,required:!0}),v.jsx(bt,{id:"mealAmount",name:"mealAmount",label:"Importo Rimborso Vitto ()",type:"number",step:"0.01",min:"0",value:_.mealAmount,onChange:P,placeholder:"es. 15.00",required:!0})]})})]}),E!==null&&v.jsx("div",{className:"bg-primary-50 border border-primary-200 rounded-lg p-4 mb-4",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(K3,{className:"h-5 w-5 text-primary-500 mr-3 mt-1"}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("h3",{className:"text-sm font-medium text-primary-800 mb-2",children:"Riepilogo Spese di Trasferta"}),v.jsxs("div",{className:"space-y-2",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-primary-700",children:"Rimborso Chilometrico:"}),v.jsxs("span",{className:"text-lg font-semibold text-primary-900",children:[E.toFixed(2)," "]})]}),v.jsxs("p",{className:"text-xs text-primary-600",children:["(",_.isRoundTrip?parseFloat(_.distance)*2:_.distance," km totali)"]}),X!==null&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"border-t border-primary-200 pt-2 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-primary-700",children:"Pedaggi Autostradali:"}),v.jsxs("span",{className:"text-lg font-semibold text-primary-900",children:[X.toFixed(2)," "]})]}),_.tollEntryStation&&_.tollExitStation&&v.jsxs("p",{className:"text-xs text-primary-600",children:[_.tollEntryStation,"  ",_.tollExitStation,_.isRoundTrip&&" (A/R)"]})]}),_.hasMeal&&_.mealAmount&&parseFloat(_.mealAmount)>0&&v.jsxs(v.Fragment,{children:[v.jsxs("div",{className:"border-t border-primary-200 pt-2 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm text-primary-700",children:"Rimborso Vitto:"}),v.jsxs("span",{className:"text-lg font-semibold text-primary-900",children:[parseFloat(_.mealAmount).toFixed(2)," "]})]}),v.jsx("p",{className:"text-xs text-primary-600",children:_.mealType==="pranzo"?"Pranzo":"Cena"})]}),v.jsxs("div",{className:"border-t-2 border-primary-300 pt-2 mt-2 flex justify-between items-center",children:[v.jsx("span",{className:"text-sm font-medium text-primary-800",children:"Totale Generale:"}),v.jsxs("span",{className:"text-xl font-bold text-primary-900",children:[(E+(X||0)+(_.hasMeal&&_.mealAmount?parseFloat(_.mealAmount):0)).toFixed(2)," "]})]})]})]})]})}),v.jsxs("div",{children:[v.jsx("label",{htmlFor:"purpose",className:"block text-sm font-medium text-gray-700 mb-1",children:"Scopo della trasferta"}),v.jsx("textarea",{id:"purpose",name:"purpose",rows:3,className:"shadow-sm focus:ring-primary-500 focus:border-primary-500 block w-full sm:text-sm border-gray-300 rounded-md",value:_.purpose,onChange:P,placeholder:"Descrivi lo scopo della trasferta",required:!0}),p.purpose&&v.jsx("p",{className:"mt-1 text-sm text-red-600",children:p.purpose})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx(ft,{type:"submit",variant:"primary",icon:v.jsx(gh,{size:18}),disabled:!fe&&_.personId,children:y?"Salva Modifiche":"Registra Trasferta"})})]})})]})},RN="modulepreload",IN=function(t){return"/"+t},Tv={},Fm=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(n.map(l=>{if(l=IN(l),l in Tv)return;Tv[l]=!0;const c=l.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${m}`))return;const f=document.createElement("link");if(f.rel=c?"stylesheet":RN,c||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),c)return new Promise((y,h)=>{f.addEventListener("load",y),f.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function At(t){"@babel/helpers - typeof";return At=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},At(t)}var Gn=Uint8Array,Ar=Uint16Array,ng=Int32Array,Vh=new Gn([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Gh=new Gn([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),Mm=new Gn([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),ow=function(t,e){for(var n=new Ar(31),r=0;r<31;++r)n[r]=e+=1<<t[r-1];for(var i=new ng(n[30]),r=1;r<30;++r)for(var s=n[r];s<n[r+1];++s)i[s]=s-n[r]<<5|r;return{b:n,r:i}},lw=ow(Vh,2),uw=lw.b,zm=lw.r;uw[28]=258,zm[258]=28;var cw=ow(Gh,0),ON=cw.b,Rv=cw.r,Bm=new Ar(32768);for(var Mt=0;Mt<32768;++Mt){var Ls=(Mt&43690)>>1|(Mt&21845)<<1;Ls=(Ls&52428)>>2|(Ls&13107)<<2,Ls=(Ls&61680)>>4|(Ls&3855)<<4,Bm[Mt]=((Ls&65280)>>8|(Ls&255)<<8)>>1}var zi=function(t,e,n){for(var r=t.length,i=0,s=new Ar(e);i<r;++i)t[i]&&++s[t[i]-1];var a=new Ar(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(n){o=new Ar(1<<e);var l=15-e;for(i=0;i<r;++i)if(t[i])for(var c=i<<4|t[i],m=e-t[i],f=a[t[i]-1]++<<m,y=f|(1<<m)-1;f<=y;++f)o[Bm[f]>>l]=c}else for(o=new Ar(r),i=0;i<r;++i)t[i]&&(o[i]=Bm[a[t[i]-1]++]>>15-t[i]);return o},na=new Gn(288);for(var Mt=0;Mt<144;++Mt)na[Mt]=8;for(var Mt=144;Mt<256;++Mt)na[Mt]=9;for(var Mt=256;Mt<280;++Mt)na[Mt]=7;for(var Mt=280;Mt<288;++Mt)na[Mt]=8;var sc=new Gn(32);for(var Mt=0;Mt<32;++Mt)sc[Mt]=5;var DN=zi(na,9,0),FN=zi(na,9,1),MN=zi(sc,5,0),zN=zi(sc,5,1),xp=function(t){for(var e=t[0],n=1;n<t.length;++n)t[n]>e&&(e=t[n]);return e},si=function(t,e,n){var r=e/8|0;return(t[r]|t[r+1]<<8)>>(e&7)&n},_p=function(t,e){var n=e/8|0;return(t[n]|t[n+1]<<8|t[n+2]<<16)>>(e&7)},rg=function(t){return(t+7)/8|0},dw=function(t,e,n){return(n==null||n>t.length)&&(n=t.length),new Gn(t.subarray(e,n))},BN=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ci=function(t,e,n){var r=new Error(e||BN[t]);if(r.code=t,Error.captureStackTrace&&Error.captureStackTrace(r,ci),!n)throw r;return r},UN=function(t,e,n,r){var i=t.length,s=0;if(!i||e.f&&!e.l)return n||new Gn(0);var a=!n,o=a||e.i!=2,l=e.i;a&&(n=new Gn(i*3));var c=function(Ne){var Ee=n.length;if(Ne>Ee){var Le=new Gn(Math.max(Ee*2,Ne));Le.set(n),n=Le}},m=e.f||0,f=e.p||0,y=e.b||0,h=e.l,k=e.d,S=e.m,_=e.n,b=i*8;do{if(!h){m=si(t,f,1);var p=si(t,f+1,3);if(f+=3,p)if(p==1)h=FN,k=zN,S=9,_=5;else if(p==2){var q=si(t,f,31)+257,L=si(t,f+10,15)+4,E=q+si(t,f+5,31)+1;f+=14;for(var V=new Gn(E),X=new Gn(19),T=0;T<L;++T)X[Mm[T]]=si(t,f+T*3,7);f+=L*3;for(var C=xp(X),Y=(1<<C)-1,G=zi(X,C,1),T=0;T<E;){var ce=G[si(t,f,Y)];f+=ce&15;var w=ce>>4;if(w<16)V[T++]=w;else{var R=0,j=0;for(w==16?(j=3+si(t,f,3),f+=2,R=V[T-1]):w==17?(j=3+si(t,f,7),f+=3):w==18&&(j=11+si(t,f,127),f+=7);j--;)V[T++]=R}}var I=V.subarray(0,q),M=V.subarray(q);S=xp(I),_=xp(M),h=zi(I,S,1),k=zi(M,_,1)}else ci(1);else{var w=rg(f)+4,N=t[w-4]|t[w-3]<<8,F=w+N;if(F>i){l&&ci(0);break}o&&c(y+N),n.set(t.subarray(w,F),y),e.b=y+=N,e.p=f=F*8,e.f=m;continue}if(f>b){l&&ci(0);break}}o&&c(y+131072);for(var K=(1<<S)-1,ie=(1<<_)-1,P=f;;P=f){var R=h[_p(t,f)&K],B=R>>4;if(f+=R&15,f>b){l&&ci(0);break}if(R||ci(2),B<256)n[y++]=B;else if(B==256){P=f,h=null;break}else{var H=B-254;if(B>264){var T=B-257,Z=Vh[T];H=si(t,f,(1<<Z)-1)+uw[T],f+=Z}var te=k[_p(t,f)&ie],le=te>>4;te||ci(3),f+=te&15;var M=ON[le];if(le>3){var Z=Gh[le];M+=_p(t,f)&(1<<Z)-1,f+=Z}if(f>b){l&&ci(0);break}o&&c(y+131072);var ne=y+H;if(y<M){var fe=s-M,Ae=Math.min(M,ne);for(fe+y<0&&ci(3);y<Ae;++y)n[y]=r[fe+y]}for(;y<ne;++y)n[y]=n[y-M]}}e.l=h,e.p=P,e.b=y,e.f=m,h&&(m=1,e.m=S,e.d=k,e.n=_)}while(!m);return y!=n.length&&a?dw(n,0,y):n.subarray(0,y)},Zi=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8},cu=function(t,e,n){n<<=e&7;var r=e/8|0;t[r]|=n,t[r+1]|=n>>8,t[r+2]|=n>>16},Sp=function(t,e){for(var n=[],r=0;r<t.length;++r)t[r]&&n.push({s:r,f:t[r]});var i=n.length,s=n.slice();if(!i)return{t:fw,l:0};if(i==1){var a=new Gn(n[0].s+1);return a[n[0].s]=1,{t:a,l:1}}n.sort(function(F,q){return F.f-q.f}),n.push({s:-1,f:25001});var o=n[0],l=n[1],c=0,m=1,f=2;for(n[0]={s:-1,f:o.f+l.f,l:o,r:l};m!=i-1;)o=n[n[c].f<n[f].f?c++:f++],l=n[c!=m&&n[c].f<n[f].f?c++:f++],n[m++]={s:-1,f:o.f+l.f,l:o,r:l};for(var y=s[0].s,r=1;r<i;++r)s[r].s>y&&(y=s[r].s);var h=new Ar(y+1),k=Um(n[m-1],h,0);if(k>e){var r=0,S=0,_=k-e,b=1<<_;for(s.sort(function(q,L){return h[L.s]-h[q.s]||q.f-L.f});r<i;++r){var p=s[r].s;if(h[p]>e)S+=b-(1<<k-h[p]),h[p]=e;else break}for(S>>=_;S>0;){var w=s[r].s;h[w]<e?S-=1<<e-h[w]++-1:++r}for(;r>=0&&S;--r){var N=s[r].s;h[N]==e&&(--h[N],++S)}k=e}return{t:new Gn(h),l:k}},Um=function(t,e,n){return t.s==-1?Math.max(Um(t.l,e,n+1),Um(t.r,e,n+1)):e[t.s]=n},Iv=function(t){for(var e=t.length;e&&!t[--e];);for(var n=new Ar(++e),r=0,i=t[0],s=1,a=function(l){n[r++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:n.subarray(0,r),n:e}},du=function(t,e){for(var n=0,r=0;r<e.length;++r)n+=t[r]*e[r];return n},hw=function(t,e,n){var r=n.length,i=rg(e+2);t[i]=r&255,t[i+1]=r>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<r;++s)t[i+s+4]=n[s];return(i+4+r)*8},Ov=function(t,e,n,r,i,s,a,o,l,c,m){Zi(e,m++,n),++i[256];for(var f=Sp(i,15),y=f.t,h=f.l,k=Sp(s,15),S=k.t,_=k.l,b=Iv(y),p=b.c,w=b.n,N=Iv(S),F=N.c,q=N.n,L=new Ar(19),E=0;E<p.length;++E)++L[p[E]&31];for(var E=0;E<F.length;++E)++L[F[E]&31];for(var V=Sp(L,7),X=V.t,T=V.l,C=19;C>4&&!X[Mm[C-1]];--C);var Y=c+5<<3,G=du(i,na)+du(s,sc)+a,ce=du(i,y)+du(s,S)+a+14+3*C+du(L,X)+2*L[16]+3*L[17]+7*L[18];if(l>=0&&Y<=G&&Y<=ce)return hw(e,m,t.subarray(l,l+c));var R,j,I,M;if(Zi(e,m,1+(ce<G)),m+=2,ce<G){R=zi(y,h,0),j=y,I=zi(S,_,0),M=S;var K=zi(X,T,0);Zi(e,m,w-257),Zi(e,m+5,q-1),Zi(e,m+10,C-4),m+=14;for(var E=0;E<C;++E)Zi(e,m+3*E,X[Mm[E]]);m+=3*C;for(var ie=[p,F],P=0;P<2;++P)for(var B=ie[P],E=0;E<B.length;++E){var H=B[E]&31;Zi(e,m,K[H]),m+=X[H],H>15&&(Zi(e,m,B[E]>>5&127),m+=B[E]>>12)}}else R=DN,j=na,I=MN,M=sc;for(var E=0;E<o;++E){var Z=r[E];if(Z>255){var H=Z>>18&31;cu(e,m,R[H+257]),m+=j[H+257],H>7&&(Zi(e,m,Z>>23&31),m+=Vh[H]);var te=Z&31;cu(e,m,I[te]),m+=M[te],te>3&&(cu(e,m,Z>>5&8191),m+=Gh[te])}else cu(e,m,R[Z]),m+=j[Z]}return cu(e,m,R[256]),m+j[256]},qN=new ng([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),fw=new Gn(0),$N=function(t,e,n,r,i,s){var a=s.z||t.length,o=new Gn(r+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(r,o.length-i),c=s.l,m=(s.r||0)&7;if(e){m&&(l[0]=s.r>>3);for(var f=qN[e-1],y=f>>13,h=f&8191,k=(1<<n)-1,S=s.p||new Ar(32768),_=s.h||new Ar(k+1),b=Math.ceil(n/3),p=2*b,w=function(He){return(t[He]^t[He+1]<<b^t[He+2]<<p)&k},N=new ng(25e3),F=new Ar(288),q=new Ar(32),L=0,E=0,V=s.i||0,X=0,T=s.w||0,C=0;V+2<a;++V){var Y=w(V),G=V&32767,ce=_[Y];if(S[G]=ce,_[Y]=G,T<=V){var R=a-V;if((L>7e3||X>24576)&&(R>423||!c)){m=Ov(t,l,0,N,F,q,E,X,C,V-C,m),X=L=E=0,C=V;for(var j=0;j<286;++j)F[j]=0;for(var j=0;j<30;++j)q[j]=0}var I=2,M=0,K=h,ie=G-ce&32767;if(R>2&&Y==w(V-ie))for(var P=Math.min(y,R)-1,B=Math.min(32767,V),H=Math.min(258,R);ie<=B&&--K&&G!=ce;){if(t[V+I]==t[V+I-ie]){for(var Z=0;Z<H&&t[V+Z]==t[V+Z-ie];++Z);if(Z>I){if(I=Z,M=ie,Z>P)break;for(var te=Math.min(ie,Z-2),le=0,j=0;j<te;++j){var ne=V-ie+j&32767,fe=S[ne],Ae=ne-fe&32767;Ae>le&&(le=Ae,ce=ne)}}}G=ce,ce=S[G],ie+=G-ce&32767}if(M){N[X++]=268435456|zm[I]<<18|Rv[M];var Ne=zm[I]&31,Ee=Rv[M]&31;E+=Vh[Ne]+Gh[Ee],++F[257+Ne],++q[Ee],T=V+I,++L}else N[X++]=t[V],++F[t[V]]}}for(V=Math.max(V,T);V<a;++V)N[X++]=t[V],++F[t[V]];m=Ov(t,l,c,N,F,q,E,X,C,V-C,m),c||(s.r=m&7|l[m/8|0]<<3,m-=7,s.h=_,s.p=S,s.i=V,s.w=T)}else{for(var V=s.w||0;V<a+c;V+=65535){var Le=V+65535;Le>=a&&(l[m/8|0]=c,Le=a),m=hw(l,m+1,t.subarray(V,Le))}s.i=a}return dw(o,0,r+rg(m)+i)},pw=function(){var t=1,e=0;return{p:function(n){for(var r=t,i=e,s=n.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=r+=n[a];r=(r&65535)+15*(r>>16),i=(i&65535)+15*(i>>16)}t=r,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},WN=function(t,e,n,r,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new Gn(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return $N(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,n,r,i)},mw=function(t,e,n){for(;n;++e)t[e]=n,n>>>=8},HN=function(t,e){var n=e.level,r=n==0?0:n<6?1:n==9?3:2;if(t[0]=120,t[1]=r<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=pw();i.p(e.dictionary),mw(t,2,i.d())}},VN=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ci(6,"invalid zlib data"),(t[1]>>5&1)==+!e&&ci(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function qm(t,e){e||(e={});var n=pw();n.p(t);var r=WN(t,e,e.dictionary?6:2,4);return HN(r,e),mw(r,r.length-4,n.d()),r}function GN(t,e){return UN(t.subarray(VN(t,e),-4),{i:2},e,e)}var KN=typeof TextDecoder<"u"&&new TextDecoder,YN=0;try{KN.decode(fw,{stream:!0}),YN=1}catch{}var Qe=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function kp(){Qe.console&&typeof Qe.console.log=="function"&&Qe.console.log.apply(Qe.console,arguments)}var Tt={log:kp,warn:function(t){Qe.console&&(typeof Qe.console.warn=="function"?Qe.console.warn.apply(Qe.console,arguments):kp.call(null,arguments))},error:function(t){Qe.console&&(typeof Qe.console.error=="function"?Qe.console.error.apply(Qe.console,arguments):kp(t))}};function Np(t,e,n){var r=new XMLHttpRequest;r.open("GET",t),r.responseType="blob",r.onload=function(){Pa(r.response,e,n)},r.onerror=function(){Tt.error("could not download file")},r.send()}function Dv(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Ad(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var ju,$m,Pa=Qe.saveAs||((typeof window>"u"?"undefined":At(window))!=="object"||window!==Qe?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,n){var r=Qe.URL||Qe.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?Dv(i.href)?Np(t,e,n):Ad(i,i.target="_blank"):Ad(i)):(i.href=r.createObjectURL(t),setTimeout(function(){r.revokeObjectURL(i.href)},4e4),setTimeout(function(){Ad(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,n){if(e=e||t.name||"download",typeof t=="string")if(Dv(t))Np(t,e,n);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout(function(){Ad(r)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:At(s)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,n),e)}:function(t,e,n,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),typeof t=="string")return Np(t,e,n);var i=t.type==="application/octet-stream",s=/constructor/i.test(Qe.HTMLElement)||Qe.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":At(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var m=o.result;m=a?m:m.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=m:location=m,r=null},o.readAsDataURL(t)}else{var l=Qe.URL||Qe.webkitURL,c=l.createObjectURL(t);r?r.location=c:location.href=c,r=null,setTimeout(function(){l.revokeObjectURL(c)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function gw(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var n=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],r=0;r<n.length;r++){var i=n[r].re,s=n[r].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),c=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),c.length==1&&(c="0"+c),"#"+o+l+c}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Ap(t,e){var n=t[0],r=t[1],i=t[2],s=t[3];n=qn(n,r,i,s,e[0],7,-680876936),s=qn(s,n,r,i,e[1],12,-389564586),i=qn(i,s,n,r,e[2],17,606105819),r=qn(r,i,s,n,e[3],22,-1044525330),n=qn(n,r,i,s,e[4],7,-176418897),s=qn(s,n,r,i,e[5],12,1200080426),i=qn(i,s,n,r,e[6],17,-1473231341),r=qn(r,i,s,n,e[7],22,-45705983),n=qn(n,r,i,s,e[8],7,1770035416),s=qn(s,n,r,i,e[9],12,-1958414417),i=qn(i,s,n,r,e[10],17,-42063),r=qn(r,i,s,n,e[11],22,-1990404162),n=qn(n,r,i,s,e[12],7,1804603682),s=qn(s,n,r,i,e[13],12,-40341101),i=qn(i,s,n,r,e[14],17,-1502002290),n=$n(n,r=qn(r,i,s,n,e[15],22,1236535329),i,s,e[1],5,-165796510),s=$n(s,n,r,i,e[6],9,-1069501632),i=$n(i,s,n,r,e[11],14,643717713),r=$n(r,i,s,n,e[0],20,-373897302),n=$n(n,r,i,s,e[5],5,-701558691),s=$n(s,n,r,i,e[10],9,38016083),i=$n(i,s,n,r,e[15],14,-660478335),r=$n(r,i,s,n,e[4],20,-405537848),n=$n(n,r,i,s,e[9],5,568446438),s=$n(s,n,r,i,e[14],9,-1019803690),i=$n(i,s,n,r,e[3],14,-187363961),r=$n(r,i,s,n,e[8],20,1163531501),n=$n(n,r,i,s,e[13],5,-1444681467),s=$n(s,n,r,i,e[2],9,-51403784),i=$n(i,s,n,r,e[7],14,1735328473),n=Wn(n,r=$n(r,i,s,n,e[12],20,-1926607734),i,s,e[5],4,-378558),s=Wn(s,n,r,i,e[8],11,-2022574463),i=Wn(i,s,n,r,e[11],16,1839030562),r=Wn(r,i,s,n,e[14],23,-35309556),n=Wn(n,r,i,s,e[1],4,-1530992060),s=Wn(s,n,r,i,e[4],11,1272893353),i=Wn(i,s,n,r,e[7],16,-155497632),r=Wn(r,i,s,n,e[10],23,-1094730640),n=Wn(n,r,i,s,e[13],4,681279174),s=Wn(s,n,r,i,e[0],11,-358537222),i=Wn(i,s,n,r,e[3],16,-722521979),r=Wn(r,i,s,n,e[6],23,76029189),n=Wn(n,r,i,s,e[9],4,-640364487),s=Wn(s,n,r,i,e[12],11,-421815835),i=Wn(i,s,n,r,e[15],16,530742520),n=Hn(n,r=Wn(r,i,s,n,e[2],23,-995338651),i,s,e[0],6,-198630844),s=Hn(s,n,r,i,e[7],10,1126891415),i=Hn(i,s,n,r,e[14],15,-1416354905),r=Hn(r,i,s,n,e[5],21,-57434055),n=Hn(n,r,i,s,e[12],6,1700485571),s=Hn(s,n,r,i,e[3],10,-1894986606),i=Hn(i,s,n,r,e[10],15,-1051523),r=Hn(r,i,s,n,e[1],21,-2054922799),n=Hn(n,r,i,s,e[8],6,1873313359),s=Hn(s,n,r,i,e[15],10,-30611744),i=Hn(i,s,n,r,e[6],15,-1560198380),r=Hn(r,i,s,n,e[13],21,1309151649),n=Hn(n,r,i,s,e[4],6,-145523070),s=Hn(s,n,r,i,e[11],10,-1120210379),i=Hn(i,s,n,r,e[2],15,718787259),r=Hn(r,i,s,n,e[9],21,-343485551),t[0]=$s(n,t[0]),t[1]=$s(r,t[1]),t[2]=$s(i,t[2]),t[3]=$s(s,t[3])}function Kh(t,e,n,r,i,s){return e=$s($s(e,t),$s(r,s)),$s(e<<i|e>>>32-i,n)}function qn(t,e,n,r,i,s,a){return Kh(e&n|~e&r,t,e,i,s,a)}function $n(t,e,n,r,i,s,a){return Kh(e&r|n&~r,t,e,i,s,a)}function Wn(t,e,n,r,i,s,a){return Kh(e^n^r,t,e,i,s,a)}function Hn(t,e,n,r,i,s,a){return Kh(n^(e|~r),t,e,i,s,a)}function vw(t){var e,n=t.length,r=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Ap(r,JN(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Ap(r,i),e=0;e<16;e++)i[e]=0;return i[14]=8*n,Ap(r,i),r}function JN(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}ju=Qe.atob.bind(Qe),$m=Qe.btoa.bind(Qe);var Fv="0123456789abcdef".split("");function QN(t){for(var e="",n=0;n<4;n++)e+=Fv[t>>8*n+4&15]+Fv[t>>8*n&15];return e}function XN(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function Wm(t){return vw(t).map(XN).join("")}var ZN=function(t){for(var e=0;e<t.length;e++)t[e]=QN(t[e]);return t.join("")}(vw("hello"))!="5d41402abc4b2a76b9719d911017c592";function $s(t,e){if(ZN){var n=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(n>>16)<<16|65535&n}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function Hm(t,e){var n,r,i,s;if(t!==n){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var c=0;for(l=0;l<256;l++){var m=o[l];c=(c+m+a.charCodeAt(l))%256,o[l]=o[c],o[c]=m}n=t,r=o}else o=r;var f=e.length,y=0,h=0,k="";for(l=0;l<f;l++)h=(h+(m=o[y=(y+1)%256]))%256,o[y]=o[h],o[h]=m,a=o[(o[y]+o[h])%256],k+=String.fromCharCode(e.charCodeAt(l)^a);return k}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Mv={print:4,modify:8,copy:16,"annot-forms":32};function qo(t,e,n,r){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(Mv.perm!==void 0)throw new Error("Invalid permission: "+o);i+=Mv[o]}),this.padding="(N^NuAd\0NV\b..\0h>/\fdSiz";var s=(e+this.padding).substr(0,32),a=(n+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=Wm(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(r)).substr(0,5),this.U=Hm(this.encryptionKey,this.padding)}function $o(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",n=t.length,r=0;r<n;r++){var i=t.charCodeAt(r);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[r]}return e}function zv(t){if(At(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(n,r,i){if(i=i||!1,typeof n!="string"||typeof r!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(n)||(e[n]={});var s=Math.random().toString(35);return e[n][s]=[r,!!i],s},this.unsubscribe=function(n){for(var r in e)if(e[r][n])return delete e[r][n],Object.keys(e[r]).length===0&&delete e[r],!0;return!1},this.publish=function(n){if(e.hasOwnProperty(n)){var r=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[n]){var a=e[n][s];try{a[0].apply(t,r)}catch(o){Qe.console&&Tt.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function ac(t){if(!(this instanceof ac))return new ac(t);var e="opacity,stroke-opacity".split(",");for(var n in t)t.hasOwnProperty(n)&&e.indexOf(n)>=0&&(this[n]=t[n]);this.id="",this.objectNumber=-1}function yw(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function zs(t,e,n,r,i){if(!(this instanceof zs))return new zs(t,e,n,r,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=n,yw.call(this,r,i)}function Ia(t,e,n,r,i){if(!(this instanceof Ia))return new Ia(t,e,n,r,i);this.boundingBox=t,this.xStep=e,this.yStep=n,this.stream="",this.cloneIndex=0,yw.call(this,r,i)}function Ge(t){var e,n=typeof arguments[0]=="string"?arguments[0]:"p",r=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,c="S",m=null;At(t=t||{})==="object"&&(n=t.orientation,r=t.unit||r,i=t.format||i,s=t.compress||t.compressPdf||s,(m=t.encryption||null)!==null&&(m.userPassword=m.userPassword||"",m.ownerPassword=m.ownerPassword||"",m.userPermissions=m.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),c=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),r=r||"mm",n=(""+(n||"P")).toLowerCase();var f=t.putOnlyUsedFonts||!1,y={},h={internal:{},__private__:{}};h.__private__.PubSub=zv;var k="1.3",S=h.__private__.getPdfVersion=function(){return k};h.__private__.setPdfVersion=function(g){k=g};var _={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};h.__private__.getPageFormats=function(){return _};var b=h.__private__.getPageFormat=function(g){return _[g]};i=i||"a4";var p={COMPAT:"compat",ADVANCED:"advanced"},w=p.COMPAT;function N(){this.saveGraphicsState(),J(new Ke(Fe,0,0,-Fe,0,vs()*Fe).toString()+" cm"),this.setFontSize(this.getFontSize()/Fe),c="n",w=p.ADVANCED}function F(){this.restoreGraphicsState(),c="S",w=p.COMPAT}var q=h.__private__.combineFontStyleAndFontWeight=function(g,D){if(g=="bold"&&D=="normal"||g=="bold"&&D==400||g=="normal"&&D=="italic"||g=="bold"&&D=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return D&&(g=D==400||D==="normal"?g==="italic"?"italic":"normal":D!=700&&D!=="bold"||g!=="normal"?(D==700?"bold":D)+""+g:"bold"),g};h.advancedAPI=function(g){var D=w===p.COMPAT;return D&&N.call(this),typeof g!="function"||(g(this),D&&F.call(this)),this},h.compatAPI=function(g){var D=w===p.ADVANCED;return D&&F.call(this),typeof g!="function"||(g(this),D&&N.call(this)),this},h.isAdvancedAPI=function(){return w===p.ADVANCED};var L,E=function(g){if(w!==p.ADVANCED)throw new Error(g+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},V=h.roundToPrecision=h.__private__.roundToPrecision=function(g,D){var ee=e||D;if(isNaN(g)||isNaN(ee))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return g.toFixed(ee).replace(/0+$/,"")};L=h.hpf=h.__private__.hpf=typeof l=="number"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return V(g,l)}:l==="smart"?function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return V(g,g>-1&&g<1?16:5)}:function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.hpf");return V(g,16)};var X=h.f2=h.__private__.f2=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f2");return V(g,2)},T=h.__private__.f3=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.f3");return V(g,3)},C=h.scale=h.__private__.scale=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.scale");return w===p.COMPAT?g*Fe:w===p.ADVANCED?g:void 0},Y=function(g){return w===p.COMPAT?vs()-g:w===p.ADVANCED?g:void 0},G=function(g){return C(Y(g))};h.__private__.setPrecision=h.setPrecision=function(g){typeof parseInt(g,10)=="number"&&(e=parseInt(g,10))};var ce,R="00000000000000000000000000000000",j=h.__private__.getFileId=function(){return R},I=h.__private__.setFileId=function(g){return R=g!==void 0&&/^[a-fA-F0-9]{32}$/.test(g)?g.toUpperCase():R.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),m!==null&&(Mn=new qo(m.userPermissions,m.userPassword,m.ownerPassword,R)),R};h.setFileId=function(g){return I(g),this},h.getFileId=function(){return j()};var M=h.__private__.convertDateToPDFDate=function(g){var D=g.getTimezoneOffset(),ee=D<0?"+":"-",re=Math.floor(Math.abs(D/60)),he=Math.abs(D%60),ye=[ee,H(re),"'",H(he),"'"].join("");return["D:",g.getFullYear(),H(g.getMonth()+1),H(g.getDate()),H(g.getHours()),H(g.getMinutes()),H(g.getSeconds()),ye].join("")},K=h.__private__.convertPDFDateToDate=function(g){var D=parseInt(g.substr(2,4),10),ee=parseInt(g.substr(6,2),10)-1,re=parseInt(g.substr(8,2),10),he=parseInt(g.substr(10,2),10),ye=parseInt(g.substr(12,2),10),ke=parseInt(g.substr(14,2),10);return new Date(D,ee,re,he,ye,ke,0)},ie=h.__private__.setCreationDate=function(g){var D;if(g===void 0&&(g=new Date),g instanceof Date)D=M(g);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(g))throw new Error("Invalid argument passed to jsPDF.setCreationDate");D=g}return ce=D},P=h.__private__.getCreationDate=function(g){var D=ce;return g==="jsDate"&&(D=K(ce)),D};h.setCreationDate=function(g){return ie(g),this},h.getCreationDate=function(g){return P(g)};var B,H=h.__private__.padd2=function(g){return("0"+parseInt(g)).slice(-2)},Z=h.__private__.padd2Hex=function(g){return("00"+(g=g.toString())).substr(g.length)},te=0,le=[],ne=[],fe=0,Ae=[],Ne=[],Ee=!1,Le=ne,He=function(){te=0,fe=0,ne=[],le=[],Ae=[],$i=un(),Jr=un()};h.__private__.setCustomOutputDestination=function(g){Ee=!0,Le=g};var oe=function(g){Ee||(Le=g)};h.__private__.resetCustomOutputDestination=function(){Ee=!1,Le=ne};var J=h.__private__.out=function(g){return g=g.toString(),fe+=g.length+1,Le.push(g),Le},Te=h.__private__.write=function(g){return J(arguments.length===1?g.toString():Array.prototype.join.call(arguments," "))},Ce=h.__private__.getArrayBuffer=function(g){for(var D=g.length,ee=new ArrayBuffer(D),re=new Uint8Array(ee);D--;)re[D]=g.charCodeAt(D);return ee},_e=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];h.__private__.getStandardFonts=function(){return _e};var je=t.fontSize||16;h.__private__.setFontSize=h.setFontSize=function(g){return je=w===p.ADVANCED?g/Fe:g,this};var De,Ie=h.__private__.getFontSize=h.getFontSize=function(){return w===p.COMPAT?je:je*Fe},$e=t.R2L||!1;h.__private__.setR2L=h.setR2L=function(g){return $e=g,this},h.__private__.getR2L=h.getR2L=function(){return $e};var et,at=h.__private__.setZoomMode=function(g){var D=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(g))De=g;else if(isNaN(g)){if(D.indexOf(g)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+g+'" is not recognized.');De=g}else De=parseInt(g,10)};h.__private__.getZoomMode=function(){return De};var ot,pt=h.__private__.setPageMode=function(g){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(g)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+g+'" is not recognized.');et=g};h.__private__.getPageMode=function(){return et};var jt=h.__private__.setLayoutMode=function(g){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(g)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+g+'" is not recognized.');ot=g};h.__private__.getLayoutMode=function(){return ot},h.__private__.setDisplayMode=h.setDisplayMode=function(g,D,ee){return at(g),jt(D),pt(ee),this};var Xe={title:"",subject:"",author:"",keywords:"",creator:""};h.__private__.getDocumentProperty=function(g){if(Object.keys(Xe).indexOf(g)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xe[g]},h.__private__.getDocumentProperties=function(){return Xe},h.__private__.setDocumentProperties=h.setProperties=h.setDocumentProperties=function(g){for(var D in Xe)Xe.hasOwnProperty(D)&&g[D]&&(Xe[D]=g[D]);return this},h.__private__.setDocumentProperty=function(g,D){if(Object.keys(Xe).indexOf(g)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xe[g]=D};var lt,Fe,Fn,yt,Gr,Et={},Bt={},bi=[],xt={},la={},Gt={},Kr={},qi=null,Kt=0,tt=[],_t=new zv(h),ua=t.hotfixes||[],Pn={},xi={},_i=[],Ke=function g(D,ee,re,he,ye,ke){if(!(this instanceof g))return new g(D,ee,re,he,ye,ke);isNaN(D)&&(D=1),isNaN(ee)&&(ee=0),isNaN(re)&&(re=0),isNaN(he)&&(he=1),isNaN(ye)&&(ye=0),isNaN(ke)&&(ke=0),this._matrix=[D,ee,re,he,ye,ke]};Object.defineProperty(Ke.prototype,"sx",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ke.prototype,"shy",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ke.prototype,"shx",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ke.prototype,"sy",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ke.prototype,"tx",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ke.prototype,"ty",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ke.prototype,"a",{get:function(){return this._matrix[0]},set:function(g){this._matrix[0]=g}}),Object.defineProperty(Ke.prototype,"b",{get:function(){return this._matrix[1]},set:function(g){this._matrix[1]=g}}),Object.defineProperty(Ke.prototype,"c",{get:function(){return this._matrix[2]},set:function(g){this._matrix[2]=g}}),Object.defineProperty(Ke.prototype,"d",{get:function(){return this._matrix[3]},set:function(g){this._matrix[3]=g}}),Object.defineProperty(Ke.prototype,"e",{get:function(){return this._matrix[4]},set:function(g){this._matrix[4]=g}}),Object.defineProperty(Ke.prototype,"f",{get:function(){return this._matrix[5]},set:function(g){this._matrix[5]=g}}),Object.defineProperty(Ke.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Ke.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Ke.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Ke.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Ke.prototype.join=function(g){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(L).join(g)},Ke.prototype.multiply=function(g){var D=g.sx*this.sx+g.shy*this.shx,ee=g.sx*this.shy+g.shy*this.sy,re=g.shx*this.sx+g.sy*this.shx,he=g.shx*this.shy+g.sy*this.sy,ye=g.tx*this.sx+g.ty*this.shx+this.tx,ke=g.tx*this.shy+g.ty*this.sy+this.ty;return new Ke(D,ee,re,he,ye,ke)},Ke.prototype.decompose=function(){var g=this.sx,D=this.shy,ee=this.shx,re=this.sy,he=this.tx,ye=this.ty,ke=Math.sqrt(g*g+D*D),Me=(g/=ke)*ee+(D/=ke)*re;ee-=g*Me,re-=D*Me;var We=Math.sqrt(ee*ee+re*re);return Me/=We,g*(re/=We)<D*(ee/=We)&&(g=-g,D=-D,Me=-Me,ke=-ke),{scale:new Ke(ke,0,0,We,0,0),translate:new Ke(1,0,0,1,he,ye),rotate:new Ke(g,D,-D,g,0,0),skew:new Ke(1,0,Me,1,0,0)}},Ke.prototype.toString=function(g){return this.join(" ")},Ke.prototype.inversed=function(){var g=this.sx,D=this.shy,ee=this.shx,re=this.sy,he=this.tx,ye=this.ty,ke=1/(g*re-D*ee),Me=re*ke,We=-D*ke,it=-ee*ke,nt=g*ke;return new Ke(Me,We,it,nt,-Me*he-it*ye,-We*he-nt*ye)},Ke.prototype.applyToPoint=function(g){var D=g.x*this.sx+g.y*this.shx+this.tx,ee=g.x*this.shy+g.y*this.sy+this.ty;return new ho(D,ee)},Ke.prototype.applyToRectangle=function(g){var D=this.applyToPoint(g),ee=this.applyToPoint(new ho(g.x+g.w,g.y+g.h));return new Ol(D.x,D.y,ee.x-D.x,ee.y-D.y)},Ke.prototype.clone=function(){var g=this.sx,D=this.shy,ee=this.shx,re=this.sy,he=this.tx,ye=this.ty;return new Ke(g,D,ee,re,he,ye)},h.Matrix=Ke;var Yr=h.matrixMult=function(g,D){return D.multiply(g)},Si=new Ke(1,0,0,1,0,0);h.unitMatrix=h.identityMatrix=Si;var rr=function(g,D){if(!la[g]){var ee=(D instanceof zs?"Sh":"P")+(Object.keys(xt).length+1).toString(10);D.id=ee,la[g]=ee,xt[ee]=D,_t.publish("addPattern",D)}};h.ShadingPattern=zs,h.TilingPattern=Ia,h.addShadingPattern=function(g,D){return E("addShadingPattern()"),rr(g,D),this},h.beginTilingPattern=function(g){E("beginTilingPattern()"),Tc(g.boundingBox[0],g.boundingBox[1],g.boundingBox[2]-g.boundingBox[0],g.boundingBox[3]-g.boundingBox[1],g.matrix)},h.endTilingPattern=function(g,D){E("endTilingPattern()"),D.stream=Ne[B].join(`
`),rr(g,D),_t.publish("endTilingPattern",D),_i.pop().restore()};var mn=h.__private__.newObject=function(){var g=un();return mr(g,!0),g},un=h.__private__.newObjectDeferred=function(){return te++,le[te]=function(){return fe},te},mr=function(g,D){return D=typeof D=="boolean"&&D,le[g]=fe,D&&J(g+" 0 obj"),g},Xa=h.__private__.newAdditionalObject=function(){var g={objId:un(),content:""};return Ae.push(g),g},$i=un(),Jr=un(),Qr=h.__private__.decodeColorString=function(g){var D=g.split(" ");if(D.length!==2||D[1]!=="g"&&D[1]!=="G")D.length===5&&(D[4]==="k"||D[4]==="K")&&(D=[(1-D[0])*(1-D[3]),(1-D[1])*(1-D[3]),(1-D[2])*(1-D[3]),"r"]);else{var ee=parseFloat(D[0]);D=[ee,ee,ee,"r"]}for(var re="#",he=0;he<3;he++)re+=("0"+Math.floor(255*parseFloat(D[he])).toString(16)).slice(-2);return re},Xr=h.__private__.encodeColorString=function(g){var D;typeof g=="string"&&(g={ch1:g});var ee=g.ch1,re=g.ch2,he=g.ch3,ye=g.ch4,ke=g.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ee=="string"&&ee.charAt(0)!=="#"){var Me=new gw(ee);if(Me.ok)ee=Me.toHex();else if(!/^\d*\.?\d*$/.test(ee))throw new Error('Invalid color "'+ee+'" passed to jsPDF.encodeColorString.')}if(typeof ee=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ee)&&(ee="#"+ee[1]+ee[1]+ee[2]+ee[2]+ee[3]+ee[3]),typeof ee=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ee)){var We=parseInt(ee.substr(1),16);ee=We>>16&255,re=We>>8&255,he=255&We}if(re===void 0||ye===void 0&&ee===re&&re===he)if(typeof ee=="string")D=ee+" "+ke[0];else switch(g.precision){case 2:D=X(ee/255)+" "+ke[0];break;case 3:default:D=T(ee/255)+" "+ke[0]}else if(ye===void 0||At(ye)==="object"){if(ye&&!isNaN(ye.a)&&ye.a===0)return D=["1.","1.","1.",ke[1]].join(" ");if(typeof ee=="string")D=[ee,re,he,ke[1]].join(" ");else switch(g.precision){case 2:D=[X(ee/255),X(re/255),X(he/255),ke[1]].join(" ");break;default:case 3:D=[T(ee/255),T(re/255),T(he/255),ke[1]].join(" ")}}else if(typeof ee=="string")D=[ee,re,he,ye,ke[2]].join(" ");else switch(g.precision){case 2:D=[X(ee),X(re),X(he),X(ye),ke[2]].join(" ");break;case 3:default:D=[T(ee),T(re),T(he),T(ye),ke[2]].join(" ")}return D},ki=h.__private__.getFilters=function(){return a},Lr=h.__private__.putStream=function(g){var D=(g=g||{}).data||"",ee=g.filters||ki(),re=g.alreadyAppliedFilters||[],he=g.addLength1||!1,ye=D.length,ke=g.objectId,Me=function(zn){return zn};if(m!==null&&ke===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");m!==null&&(Me=Mn.encryptor(ke,0));var We={};ee===!0&&(ee=["FlateEncode"]);var it=g.additionalKeyValues||[],nt=(We=Ge.API.processDataByFilters!==void 0?Ge.API.processDataByFilters(D,ee):{data:D,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(We.data.length!==0&&(it.push({key:"Length",value:We.data.length}),he===!0&&it.push({key:"Length1",value:ye})),nt.length!=0)if(nt.split("/").length-1==1)it.push({key:"Filter",value:nt});else{it.push({key:"Filter",value:"["+nt+"]"});for(var ht=0;ht<it.length;ht+=1)if(it[ht].key==="DecodeParms"){for(var qt=[],Yt=0;Yt<We.reverseChain.split("/").length-1;Yt+=1)qt.push("null");qt.push(it[ht].value),it[ht].value="["+qt.join(" ")+"]"}}J("<<");for(var cn=0;cn<it.length;cn++)J("/"+it[cn].key+" "+it[cn].value);J(">>"),We.data.length!==0&&(J("stream"),J(Me(We.data)),J("endstream"))},Ni=h.__private__.putPage=function(g){var D=g.number,ee=g.data,re=g.objId,he=g.contentsObjId;mr(re,!0),J("<</Type /Page"),J("/Parent "+g.rootDictionaryObjId+" 0 R"),J("/Resources "+g.resourceDictionaryObjId+" 0 R"),J("/MediaBox ["+parseFloat(L(g.mediaBox.bottomLeftX))+" "+parseFloat(L(g.mediaBox.bottomLeftY))+" "+L(g.mediaBox.topRightX)+" "+L(g.mediaBox.topRightY)+"]"),g.cropBox!==null&&J("/CropBox ["+L(g.cropBox.bottomLeftX)+" "+L(g.cropBox.bottomLeftY)+" "+L(g.cropBox.topRightX)+" "+L(g.cropBox.topRightY)+"]"),g.bleedBox!==null&&J("/BleedBox ["+L(g.bleedBox.bottomLeftX)+" "+L(g.bleedBox.bottomLeftY)+" "+L(g.bleedBox.topRightX)+" "+L(g.bleedBox.topRightY)+"]"),g.trimBox!==null&&J("/TrimBox ["+L(g.trimBox.bottomLeftX)+" "+L(g.trimBox.bottomLeftY)+" "+L(g.trimBox.topRightX)+" "+L(g.trimBox.topRightY)+"]"),g.artBox!==null&&J("/ArtBox ["+L(g.artBox.bottomLeftX)+" "+L(g.artBox.bottomLeftY)+" "+L(g.artBox.topRightX)+" "+L(g.artBox.topRightY)+"]"),typeof g.userUnit=="number"&&g.userUnit!==1&&J("/UserUnit "+g.userUnit),_t.publish("putPage",{objId:re,pageContext:tt[D],pageNumber:D,page:ee}),J("/Contents "+he+" 0 R"),J(">>"),J("endobj");var ye=ee.join(`
`);return w===p.ADVANCED&&(ye+=`
Q`),mr(he,!0),Lr({data:ye,filters:ki(),objectId:he}),J("endobj"),re},ca=h.__private__.putPages=function(){var g,D,ee=[];for(g=1;g<=Kt;g++)tt[g].objId=un(),tt[g].contentsObjId=un();for(g=1;g<=Kt;g++)ee.push(Ni({number:g,data:Ne[g],objId:tt[g].objId,contentsObjId:tt[g].contentsObjId,mediaBox:tt[g].mediaBox,cropBox:tt[g].cropBox,bleedBox:tt[g].bleedBox,trimBox:tt[g].trimBox,artBox:tt[g].artBox,userUnit:tt[g].userUnit,rootDictionaryObjId:$i,resourceDictionaryObjId:Jr}));mr($i,!0),J("<</Type /Pages");var re="/Kids [";for(D=0;D<Kt;D++)re+=ee[D]+" 0 R ";J(re+"]"),J("/Count "+Kt),J(">>"),J("endobj"),_t.publish("postPutPages")},Za=function(g){_t.publish("putFont",{font:g,out:J,newObject:mn,putStream:Lr}),g.isAlreadyPutted!==!0&&(g.objectNumber=mn(),J("<<"),J("/Type /Font"),J("/BaseFont /"+$o(g.postScriptName)),J("/Subtype /Type1"),typeof g.encoding=="string"&&J("/Encoding /"+g.encoding),J("/FirstChar 32"),J("/LastChar 255"),J(">>"),J("endobj"))},eo=function(){for(var g in Et)Et.hasOwnProperty(g)&&(f===!1||f===!0&&y.hasOwnProperty(g))&&Za(Et[g])},to=function(g){g.objectNumber=mn();var D=[];D.push({key:"Type",value:"/XObject"}),D.push({key:"Subtype",value:"/Form"}),D.push({key:"BBox",value:"["+[L(g.x),L(g.y),L(g.x+g.width),L(g.y+g.height)].join(" ")+"]"}),D.push({key:"Matrix",value:"["+g.matrix.toString()+"]"});var ee=g.pages[1].join(`
`);Lr({data:ee,additionalKeyValues:D,objectId:g.objectNumber}),J("endobj")},no=function(){for(var g in Pn)Pn.hasOwnProperty(g)&&to(Pn[g])},pc=function(g,D){var ee,re=[],he=1/(D-1);for(ee=0;ee<1;ee+=he)re.push(ee);if(re.push(1),g[0].offset!=0){var ye={offset:0,color:g[0].color};g.unshift(ye)}if(g[g.length-1].offset!=1){var ke={offset:1,color:g[g.length-1].color};g.push(ke)}for(var Me="",We=0,it=0;it<re.length;it++){for(ee=re[it];ee>g[We+1].offset;)We++;var nt=g[We].offset,ht=(ee-nt)/(g[We+1].offset-nt),qt=g[We].color,Yt=g[We+1].color;Me+=Z(Math.round((1-ht)*qt[0]+ht*Yt[0]).toString(16))+Z(Math.round((1-ht)*qt[1]+ht*Yt[1]).toString(16))+Z(Math.round((1-ht)*qt[2]+ht*Yt[2]).toString(16))}return Me.trim()},Yh=function(g,D){D||(D=21);var ee=mn(),re=pc(g.colors,D),he=[];he.push({key:"FunctionType",value:"0"}),he.push({key:"Domain",value:"[0.0 1.0]"}),he.push({key:"Size",value:"["+D+"]"}),he.push({key:"BitsPerSample",value:"8"}),he.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),he.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Lr({data:re,additionalKeyValues:he,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ee}),J("endobj"),g.objectNumber=mn(),J("<< /ShadingType "+g.type),J("/ColorSpace /DeviceRGB");var ye="/Coords ["+L(parseFloat(g.coords[0]))+" "+L(parseFloat(g.coords[1]))+" ";g.type===2?ye+=L(parseFloat(g.coords[2]))+" "+L(parseFloat(g.coords[3])):ye+=L(parseFloat(g.coords[2]))+" "+L(parseFloat(g.coords[3]))+" "+L(parseFloat(g.coords[4]))+" "+L(parseFloat(g.coords[5])),J(ye+="]"),g.matrix&&J("/Matrix ["+g.matrix.toString()+"]"),J("/Function "+ee+" 0 R"),J("/Extend [true true]"),J(">>"),J("endobj")},Jh=function(g,D){var ee=un(),re=mn();D.push({resourcesOid:ee,objectOid:re}),g.objectNumber=re;var he=[];he.push({key:"Type",value:"/Pattern"}),he.push({key:"PatternType",value:"1"}),he.push({key:"PaintType",value:"1"}),he.push({key:"TilingType",value:"1"}),he.push({key:"BBox",value:"["+g.boundingBox.map(L).join(" ")+"]"}),he.push({key:"XStep",value:L(g.xStep)}),he.push({key:"YStep",value:L(g.yStep)}),he.push({key:"Resources",value:ee+" 0 R"}),g.matrix&&he.push({key:"Matrix",value:"["+g.matrix.toString()+"]"}),Lr({data:g.stream,additionalKeyValues:he,objectId:g.objectNumber}),J("endobj")},ro=function(g){var D;for(D in xt)xt.hasOwnProperty(D)&&(xt[D]instanceof zs?Yh(xt[D]):xt[D]instanceof Ia&&Jh(xt[D],g))},mc=function(g){for(var D in g.objectNumber=mn(),J("<<"),g)switch(D){case"opacity":J("/ca "+X(g[D]));break;case"stroke-opacity":J("/CA "+X(g[D]))}J(">>"),J("endobj")},Qh=function(){var g;for(g in Gt)Gt.hasOwnProperty(g)&&mc(Gt[g])},Nl=function(){for(var g in J("/XObject <<"),Pn)Pn.hasOwnProperty(g)&&Pn[g].objectNumber>=0&&J("/"+g+" "+Pn[g].objectNumber+" 0 R");_t.publish("putXobjectDict"),J(">>")},Xh=function(){Mn.oid=mn(),J("<<"),J("/Filter /Standard"),J("/V "+Mn.v),J("/R "+Mn.r),J("/U <"+Mn.toHexString(Mn.U)+">"),J("/O <"+Mn.toHexString(Mn.O)+">"),J("/P "+Mn.P),J(">>"),J("endobj")},gc=function(){for(var g in J("/Font <<"),Et)Et.hasOwnProperty(g)&&(f===!1||f===!0&&y.hasOwnProperty(g))&&J("/"+g+" "+Et[g].objectNumber+" 0 R");J(">>")},Zh=function(){if(Object.keys(xt).length>0){for(var g in J("/Shading <<"),xt)xt.hasOwnProperty(g)&&xt[g]instanceof zs&&xt[g].objectNumber>=0&&J("/"+g+" "+xt[g].objectNumber+" 0 R");_t.publish("putShadingPatternDict"),J(">>")}},io=function(g){if(Object.keys(xt).length>0){for(var D in J("/Pattern <<"),xt)xt.hasOwnProperty(D)&&xt[D]instanceof h.TilingPattern&&xt[D].objectNumber>=0&&xt[D].objectNumber<g&&J("/"+D+" "+xt[D].objectNumber+" 0 R");_t.publish("putTilingPatternDict"),J(">>")}},ef=function(){if(Object.keys(Gt).length>0){var g;for(g in J("/ExtGState <<"),Gt)Gt.hasOwnProperty(g)&&Gt[g].objectNumber>=0&&J("/"+g+" "+Gt[g].objectNumber+" 0 R");_t.publish("putGStateDict"),J(">>")}},en=function(g){mr(g.resourcesOid,!0),J("<<"),J("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),gc(),Zh(),io(g.objectOid),ef(),Nl(),J(">>"),J("endobj")},vc=function(){var g=[];eo(),Qh(),no(),ro(g),_t.publish("putResources"),g.forEach(en),en({resourcesOid:Jr,objectOid:Number.MAX_SAFE_INTEGER}),_t.publish("postPutResources")},yc=function(){_t.publish("putAdditionalObjects");for(var g=0;g<Ae.length;g++){var D=Ae[g];mr(D.objId,!0),J(D.content),J("endobj")}_t.publish("postPutAdditionalObjects")},wc=function(g){Bt[g.fontName]=Bt[g.fontName]||{},Bt[g.fontName][g.fontStyle]=g.id},Al=function(g,D,ee,re,he){var ye={id:"F"+(Object.keys(Et).length+1).toString(10),postScriptName:g,fontName:D,fontStyle:ee,encoding:re,isStandardFont:he||!1,metadata:{}};return _t.publish("addFont",{font:ye,instance:this}),Et[ye.id]=ye,wc(ye),ye.id},tf=function(g){for(var D=0,ee=_e.length;D<ee;D++){var re=Al.call(this,g[D][0],g[D][1],g[D][2],_e[D][3],!0);f===!1&&(y[re]=!0);var he=g[D][0].split("-");wc({id:re,fontName:he[0],fontStyle:he[1]||""})}_t.publish("addFonts",{fonts:Et,dictionary:Bt})},Zr=function(g){return g.foo=function(){try{return g.apply(this,arguments)}catch(re){var D=re.stack||"";~D.indexOf(" at ")&&(D=D.split(" at ")[1]);var ee="Error in function "+D.split(`
`)[0].split("<")[0]+": "+re.message;if(!Qe.console)throw new Error(ee);Qe.console.error(ee,re),Qe.alert&&alert(ee)}},g.foo.bar=g,g.foo},so=function(g,D){var ee,re,he,ye,ke,Me,We,it,nt;if(he=(D=D||{}).sourceEncoding||"Unicode",ke=D.outputEncoding,(D.autoencode||ke)&&Et[lt].metadata&&Et[lt].metadata[he]&&Et[lt].metadata[he].encoding&&(ye=Et[lt].metadata[he].encoding,!ke&&Et[lt].encoding&&(ke=Et[lt].encoding),!ke&&ye.codePages&&(ke=ye.codePages[0]),typeof ke=="string"&&(ke=ye[ke]),ke)){for(We=!1,Me=[],ee=0,re=g.length;ee<re;ee++)(it=ke[g.charCodeAt(ee)])?Me.push(String.fromCharCode(it)):Me.push(g[ee]),Me[ee].charCodeAt(0)>>8&&(We=!0);g=Me.join("")}for(ee=g.length;We===void 0&&ee!==0;)g.charCodeAt(ee-1)>>8&&(We=!0),ee--;if(!We)return g;for(Me=D.noBOM?[]:[254,255],ee=0,re=g.length;ee<re;ee++){if((nt=(it=g.charCodeAt(ee))>>8)>>8)throw new Error("Character at position "+ee+" of string '"+g+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Me.push(nt),Me.push(it-(nt<<8))}return String.fromCharCode.apply(void 0,Me)},ir=h.__private__.pdfEscape=h.pdfEscape=function(g,D){return so(g,D).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Pl=h.__private__.beginPage=function(g){Ne[++Kt]=[],tt[Kt]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(g[0]),topRightY:Number(g[1])}},xc(Kt),oe(Ne[B])},bc=function(g,D){var ee,re,he;switch(n=D||n,typeof g=="string"&&(ee=b(g.toLowerCase()),Array.isArray(ee)&&(re=ee[0],he=ee[1])),Array.isArray(g)&&(re=g[0]*Fe,he=g[1]*Fe),isNaN(re)&&(re=i[0],he=i[1]),(re>14400||he>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),re=Math.min(14400,re),he=Math.min(14400,he)),i=[re,he],n.substr(0,1)){case"l":he>re&&(i=[he,re]);break;case"p":re>he&&(i=[he,re])}Pl(i),Pc(Ll),J(ei),Rl!==0&&J(Rl+" J"),Il!==0&&J(Il+" j"),_t.publish("addPage",{pageNumber:Kt})},nf=function(g){g>0&&g<=Kt&&(Ne.splice(g,1),tt.splice(g,1),Kt--,B>Kt&&(B=Kt),this.setPage(B))},xc=function(g){g>0&&g<=Kt&&(B=g)},rf=h.__private__.getNumberOfPages=h.getNumberOfPages=function(){return Ne.length-1},_c=function(g,D,ee){var re,he=void 0;return ee=ee||{},g=g!==void 0?g:Et[lt].fontName,D=D!==void 0?D:Et[lt].fontStyle,re=g.toLowerCase(),Bt[re]!==void 0&&Bt[re][D]!==void 0?he=Bt[re][D]:Bt[g]!==void 0&&Bt[g][D]!==void 0?he=Bt[g][D]:ee.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+g+"', '"+D+"'. Refer to getFontList() for available fonts."),he||ee.noFallback||(he=Bt.times[D])==null&&(he=Bt.times.normal),he},sf=h.__private__.putInfo=function(){var g=mn(),D=function(re){return re};for(var ee in m!==null&&(D=Mn.encryptor(g,0)),J("<<"),J("/Producer ("+ir(D("jsPDF "+Ge.version))+")"),Xe)Xe.hasOwnProperty(ee)&&Xe[ee]&&J("/"+ee.substr(0,1).toUpperCase()+ee.substr(1)+" ("+ir(D(Xe[ee]))+")");J("/CreationDate ("+ir(D(ce))+")"),J(">>"),J("endobj")},jl=h.__private__.putCatalog=function(g){var D=(g=g||{}).rootDictionaryObjId||$i;switch(mn(),J("<<"),J("/Type /Catalog"),J("/Pages "+D+" 0 R"),De||(De="fullwidth"),De){case"fullwidth":J("/OpenAction [3 0 R /FitH null]");break;case"fullheight":J("/OpenAction [3 0 R /FitV null]");break;case"fullpage":J("/OpenAction [3 0 R /Fit]");break;case"original":J("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ee=""+De;ee.substr(ee.length-1)==="%"&&(De=parseInt(De)/100),typeof De=="number"&&J("/OpenAction [3 0 R /XYZ null null "+X(De)+"]")}switch(ot||(ot="continuous"),ot){case"continuous":J("/PageLayout /OneColumn");break;case"single":J("/PageLayout /SinglePage");break;case"two":case"twoleft":J("/PageLayout /TwoColumnLeft");break;case"tworight":J("/PageLayout /TwoColumnRight")}et&&J("/PageMode /"+et),_t.publish("putCatalog"),J(">>"),J("endobj")},af=h.__private__.putTrailer=function(){J("trailer"),J("<<"),J("/Size "+(te+1)),J("/Root "+te+" 0 R"),J("/Info "+(te-1)+" 0 R"),m!==null&&J("/Encrypt "+Mn.oid+" 0 R"),J("/ID [ <"+R+"> <"+R+"> ]"),J(">>")},of=h.__private__.putHeader=function(){J("%PDF-"+k),J("%")},lf=h.__private__.putXRef=function(){var g="0000000000";J("xref"),J("0 "+(te+1)),J("0000000000 65535 f ");for(var D=1;D<=te;D++)typeof le[D]=="function"?J((g+le[D]()).slice(-10)+" 00000 n "):le[D]!==void 0?J((g+le[D]).slice(-10)+" 00000 n "):J("0000000000 00000 n ")},Wi=h.__private__.buildDocument=function(){He(),oe(ne),_t.publish("buildDocument"),of(),ca(),yc(),vc(),m!==null&&Xh(),sf(),jl();var g=fe;return lf(),af(),J("startxref"),J(""+g),J("%%EOF"),oe(Ne[B]),ne.join(`
`)},ao=h.__private__.getBlob=function(g){return new Blob([Ce(g)],{type:"application/pdf"})},oo=h.output=h.__private__.output=Zr(function(g,D){switch(typeof(D=D||{})=="string"?D={filename:D}:D.filename=D.filename||"generated.pdf",g){case void 0:return Wi();case"save":h.save(D.filename);break;case"arraybuffer":return Ce(Wi());case"blob":return ao(Wi());case"bloburi":case"bloburl":if(Qe.URL!==void 0&&typeof Qe.URL.createObjectURL=="function")return Qe.URL&&Qe.URL.createObjectURL(ao(Wi()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ee="",re=Wi();try{ee=$m(re)}catch{ee=$m(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+D.filename+";base64,"+ee;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var he="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",ye=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';D.pdfObjectUrl&&(he=D.pdfObjectUrl,ye="");var ke='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+he+'"'+ye+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(D)+");<\/script></body></html>",Me=Qe.open();return Me!==null&&Me.document.write(ke),Me}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Qe)==="[object Window]"){var We='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(D.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+D.filename+'" width="500px" height="400px" /></body></html>',it=Qe.open();if(it!==null){it.document.write(We);var nt=this;it.document.documentElement.querySelector("#pdfViewer").onload=function(){it.document.title=D.filename,it.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(nt.output("bloburl"))}}return it}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Qe)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ht='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",D)+'"></iframe></body></html>',qt=Qe.open();if(qt!==null&&(qt.document.write(ht),qt.document.title=D.filename),qt||typeof safari>"u")return qt;break;case"datauri":case"dataurl":return Qe.document.location.href=this.output("datauristring",D);default:return null}}),Sc=function(g){return Array.isArray(ua)===!0&&ua.indexOf(g)>-1};switch(r){case"pt":Fe=1;break;case"mm":Fe=72/25.4;break;case"cm":Fe=72/2.54;break;case"in":Fe=72;break;case"px":Fe=Sc("px_scaling")==1?.75:96/72;break;case"pc":case"em":Fe=12;break;case"ex":Fe=6;break;default:if(typeof r!="number")throw new Error("Invalid unit: "+r);Fe=r}var Mn=null;ie(),I();var uf=function(g){return m!==null?Mn.encryptor(g,0):function(D){return D}},kc=h.__private__.getPageInfo=h.getPageInfo=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:tt[g].objId,pageNumber:g,pageContext:tt[g]}},Ze=h.__private__.getPageInfoByObjId=function(g){if(isNaN(g)||g%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var D in tt)if(tt[D].objId===g)break;return kc(D)},cf=h.__private__.getCurrentPageInfo=h.getCurrentPageInfo=function(){return{objId:tt[B].objId,pageNumber:B,pageContext:tt[B]}};h.addPage=function(){return bc.apply(this,arguments),this},h.setPage=function(){return xc.apply(this,arguments),oe.call(this,Ne[B]),this},h.insertPage=function(g){return this.addPage(),this.movePage(B,g),this},h.movePage=function(g,D){var ee,re;if(g>D){ee=Ne[g],re=tt[g];for(var he=g;he>D;he--)Ne[he]=Ne[he-1],tt[he]=tt[he-1];Ne[D]=ee,tt[D]=re,this.setPage(D)}else if(g<D){ee=Ne[g],re=tt[g];for(var ye=g;ye<D;ye++)Ne[ye]=Ne[ye+1],tt[ye]=tt[ye+1];Ne[D]=ee,tt[D]=re,this.setPage(D)}return this},h.deletePage=function(){return nf.apply(this,arguments),this},h.__private__.text=h.text=function(g,D,ee,re,he){var ye,ke,Me,We,it,nt,ht,qt,Yt,cn=(re=re||{}).scope||this;if(typeof g=="number"&&typeof D=="number"&&(typeof ee=="string"||Array.isArray(ee))){var zn=ee;ee=D,D=g,g=zn}if(arguments[3]instanceof Ke?(E("The transform parameter of text() with a Matrix value"),Yt=he):(Me=arguments[4],We=arguments[5],At(ht=arguments[3])==="object"&&ht!==null||(typeof Me=="string"&&(We=Me,Me=null),typeof ht=="string"&&(We=ht,ht=null),typeof ht=="number"&&(Me=ht,ht=null),re={flags:ht,angle:Me,align:We})),isNaN(D)||isNaN(ee)||g==null)throw new Error("Invalid arguments passed to jsPDF.text");if(g.length===0)return cn;var _n="",ti=!1,gr=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:ha,ji=cn.internal.scaleFactor;function Rc(Rt){return Rt=Rt.split("	").join(Array(re.TabLen||9).join(" ")),ir(Rt,ht)}function zl(Rt){for(var It,nn=Rt.concat(),gn=[],Yi=nn.length;Yi--;)typeof(It=nn.shift())=="string"?gn.push(It):Array.isArray(Rt)&&(It.length===1||It[1]===void 0&&It[2]===void 0)?gn.push(It[0]):gn.push([It[0],It[1],It[2]]);return gn}function Bl(Rt,It){var nn;if(typeof Rt=="string")nn=It(Rt)[0];else if(Array.isArray(Rt)){for(var gn,Yi,Kl=Rt.concat(),So=[],Mc=Kl.length;Mc--;)typeof(gn=Kl.shift())=="string"?So.push(It(gn)[0]):Array.isArray(gn)&&typeof gn[0]=="string"&&(Yi=It(gn[0],gn[1],gn[2]),So.push([Yi[0],Yi[1],Yi[2]]));nn=So}return nn}var po=!1,Ul=!0;if(typeof g=="string")po=!0;else if(Array.isArray(g)){var ql=g.concat();ke=[];for(var mo,jn=ql.length;jn--;)(typeof(mo=ql.shift())!="string"||Array.isArray(mo)&&typeof mo[0]!="string")&&(Ul=!1);po=Ul}if(po===!1)throw new Error('Type of text must be string or Array. "'+g+'" is not recognized.');typeof g=="string"&&(g=g.match(/[\r?\n]/)?g.split(/\r\n|\r|\n/g):[g]);var go=je/cn.internal.scaleFactor,vo=go*(gr-1);switch(re.baseline){case"bottom":ee-=vo;break;case"top":ee+=go-vo;break;case"hanging":ee+=go-2*vo;break;case"middle":ee+=go/2-vo}if((nt=re.maxWidth||0)>0&&(typeof g=="string"?g=cn.splitTextToSize(g,nt):Object.prototype.toString.call(g)==="[object Array]"&&(g=g.reduce(function(Rt,It){return Rt.concat(cn.splitTextToSize(It,nt))},[]))),ye={text:g,x:D,y:ee,options:re,mutex:{pdfEscape:ir,activeFontKey:lt,fonts:Et,activeFontSize:je}},_t.publish("preProcessText",ye),g=ye.text,Me=(re=ye.options).angle,!(Yt instanceof Ke)&&Me&&typeof Me=="number"){Me*=Math.PI/180,re.rotationDirection===0&&(Me=-Me),w===p.ADVANCED&&(Me=-Me);var yo=Math.cos(Me),$l=Math.sin(Me);Yt=new Ke(yo,$l,-$l,yo,0,0)}else Me&&Me instanceof Ke&&(Yt=Me);w!==p.ADVANCED||Yt||(Yt=Si),(it=re.charSpace||co)!==void 0&&(_n+=L(C(it))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(qt=re.horizontalScale)!==void 0&&(_n+=L(100*qt)+` Tz
`),re.lang;var sr=-1,bf=re.renderingMode!==void 0?re.renderingMode:re.stroke,Wl=cn.internal.getCurrentPageInfo().pageContext;switch(bf){case 0:case!1:case"fill":sr=0;break;case 1:case!0:case"stroke":sr=1;break;case 2:case"fillThenStroke":sr=2;break;case 3:case"invisible":sr=3;break;case 4:case"fillAndAddForClipping":sr=4;break;case 5:case"strokeAndAddPathForClipping":sr=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":sr=6;break;case 7:case"addToPathForClipping":sr=7}var Ic=Wl.usedRenderingMode!==void 0?Wl.usedRenderingMode:-1;sr!==-1?_n+=sr+` Tr
`:Ic!==-1&&(_n+=`0 Tr
`),sr!==-1&&(Wl.usedRenderingMode=sr),We=re.align||"left";var Tr,wo=je*gr,Oc=cn.internal.pageSize.getWidth(),Dc=Et[lt];it=re.charSpace||co,nt=re.maxWidth||0,ht=Object.assign({autoencode:!0,noBOM:!0},re.flags);var ys=[],ma=function(Rt){return cn.getStringUnitWidth(Rt,{font:Dc,charSpace:it,fontSize:je,doKerning:!1})*je/ji};if(Object.prototype.toString.call(g)==="[object Array]"){var ar;ke=zl(g),We!=="left"&&(Tr=ke.map(ma));var Yn,ws=0;if(We==="right"){D-=Tr[0],g=[],jn=ke.length;for(var Vi=0;Vi<jn;Vi++)Vi===0?(Yn=Pi(D),ar=Hi(ee)):(Yn=C(ws-Tr[Vi]),ar=-wo),g.push([ke[Vi],Yn,ar]),ws=Tr[Vi]}else if(We==="center"){D-=Tr[0]/2,g=[],jn=ke.length;for(var Gi=0;Gi<jn;Gi++)Gi===0?(Yn=Pi(D),ar=Hi(ee)):(Yn=C((ws-Tr[Gi])/2),ar=-wo),g.push([ke[Gi],Yn,ar]),ws=Tr[Gi]}else if(We==="left"){g=[],jn=ke.length;for(var bo=0;bo<jn;bo++)g.push(ke[bo])}else if(We==="justify"&&Dc.encoding==="Identity-H"){g=[],jn=ke.length,nt=nt!==0?nt:Oc;for(var Ki=0,tn=0;tn<jn;tn++)if(ar=tn===0?Hi(ee):-wo,Yn=tn===0?Pi(D):Ki,tn<jn-1){var Hl=C((nt-Tr[tn])/(ke[tn].split(" ").length-1)),Jn=ke[tn].split(" ");g.push([Jn[0]+" ",Yn,ar]),Ki=0;for(var Rr=1;Rr<Jn.length;Rr++){var xo=(ma(Jn[Rr-1]+" "+Jn[Rr])-ma(Jn[Rr]))*ji+Hl;Rr==Jn.length-1?g.push([Jn[Rr],xo,0]):g.push([Jn[Rr]+" ",xo,0]),Ki-=xo}}else g.push([ke[tn],Yn,ar]);g.push(["",Ki,0])}else{if(We!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(g=[],jn=ke.length,nt=nt!==0?nt:Oc,tn=0;tn<jn;tn++)ar=tn===0?Hi(ee):-wo,Yn=tn===0?Pi(D):0,tn<jn-1?ys.push(L(C((nt-Tr[tn])/(ke[tn].split(" ").length-1)))):ys.push(0),g.push([ke[tn],Yn,ar])}}var Fc=typeof re.R2L=="boolean"?re.R2L:$e;Fc===!0&&(g=Bl(g,function(Rt,It,nn){return[Rt.split("").reverse().join(""),It,nn]})),ye={text:g,x:D,y:ee,options:re,mutex:{pdfEscape:ir,activeFontKey:lt,fonts:Et,activeFontSize:je}},_t.publish("postProcessText",ye),g=ye.text,ti=ye.mutex.isHex||!1;var Vl=Et[lt].encoding;Vl!=="WinAnsiEncoding"&&Vl!=="StandardEncoding"||(g=Bl(g,function(Rt,It,nn){return[Rc(Rt),It,nn]})),ke=zl(g),g=[];for(var ga,va,bs,ya=0,_o=1,wa=Array.isArray(ke[0])?_o:ya,xs="",Gl=function(Rt,It,nn){var gn="";return nn instanceof Ke?(nn=typeof re.angle=="number"?Yr(nn,new Ke(1,0,0,1,Rt,It)):Yr(new Ke(1,0,0,1,Rt,It),nn),w===p.ADVANCED&&(nn=Yr(new Ke(1,0,0,-1,0,0),nn)),gn=nn.join(" ")+` Tm
`):gn=L(Rt)+" "+L(It)+` Td
`,gn},Ir=0;Ir<ke.length;Ir++){switch(xs="",wa){case _o:bs=(ti?"<":"(")+ke[Ir][0]+(ti?">":")"),ga=parseFloat(ke[Ir][1]),va=parseFloat(ke[Ir][2]);break;case ya:bs=(ti?"<":"(")+ke[Ir]+(ti?">":")"),ga=Pi(D),va=Hi(ee)}ys!==void 0&&ys[Ir]!==void 0&&(xs=ys[Ir]+` Tw
`),Ir===0?g.push(xs+Gl(ga,va,Yt)+bs):wa===ya?g.push(xs+bs):wa===_o&&g.push(xs+Gl(ga,va,Yt)+bs)}g=wa===ya?g.join(` Tj
T* `):g.join(` Tj
`),g+=` Tj
`;var Or=`BT
/`;return Or+=lt+" "+je+` Tf
`,Or+=L(je*gr)+` TL
`,Or+=fa+`
`,Or+=_n,Or+=g,J(Or+="ET"),y[lt]=!0,cn};var df=h.__private__.clip=h.clip=function(g){return J(g==="evenodd"?"W*":"W"),this};h.clipEvenOdd=function(){return df("evenodd")},h.__private__.discardPath=h.discardPath=function(){return J("n"),this};var Ai=h.__private__.isValidStyle=function(g){var D=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(g)!==-1&&(D=!0),D};h.__private__.setDefaultPathOperation=h.setDefaultPathOperation=function(g){return Ai(g)&&(c=g),this};var Nc=h.__private__.getStyle=h.getStyle=function(g){var D=c;switch(g){case"D":case"S":D="S";break;case"F":D="f";break;case"FD":case"DF":D="B";break;case"f":case"f*":case"B":case"B*":D=g}return D},Ac=h.close=function(){return J("h"),this};h.stroke=function(){return J("S"),this},h.fill=function(g){return lo("f",g),this},h.fillEvenOdd=function(g){return lo("f*",g),this},h.fillStroke=function(g){return lo("B",g),this},h.fillStrokeEvenOdd=function(g){return lo("B*",g),this};var lo=function(g,D){At(D)==="object"?ff(D,g):J(g)},Cl=function(g){g===null||w===p.ADVANCED&&g===void 0||(g=Nc(g),J(g))};function hf(g,D,ee,re,he){var ye=new Ia(D||this.boundingBox,ee||this.xStep,re||this.yStep,this.gState,he||this.matrix);ye.stream=this.stream;var ke=g+"$$"+this.cloneIndex+++"$$";return rr(ke,ye),ye}var ff=function(g,D){var ee=la[g.key],re=xt[ee];if(re instanceof zs)J("q"),J(pf(D)),re.gState&&h.setGState(re.gState),J(g.matrix.toString()+" cm"),J("/"+ee+" sh"),J("Q");else if(re instanceof Ia){var he=new Ke(1,0,0,-1,0,vs());g.matrix&&(he=he.multiply(g.matrix||Si),ee=hf.call(re,g.key,g.boundingBox,g.xStep,g.yStep,he).id),J("q"),J("/Pattern cs"),J("/"+ee+" scn"),re.gState&&h.setGState(re.gState),J(D),J("Q")}},pf=function(g){switch(g){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},El=h.moveTo=function(g,D){return J(L(C(g))+" "+L(G(D))+" m"),this},da=h.lineTo=function(g,D){return J(L(C(g))+" "+L(G(D))+" l"),this},ms=h.curveTo=function(g,D,ee,re,he,ye){return J([L(C(g)),L(G(D)),L(C(ee)),L(G(re)),L(C(he)),L(G(ye)),"c"].join(" ")),this};h.__private__.line=h.line=function(g,D,ee,re,he){if(isNaN(g)||isNaN(D)||isNaN(ee)||isNaN(re)||!Ai(he))throw new Error("Invalid arguments passed to jsPDF.line");return w===p.COMPAT?this.lines([[ee-g,re-D]],g,D,[1,1],he||"S"):this.lines([[ee-g,re-D]],g,D,[1,1]).stroke()},h.__private__.lines=h.lines=function(g,D,ee,re,he,ye){var ke,Me,We,it,nt,ht,qt,Yt,cn,zn,_n,ti;if(typeof g=="number"&&(ti=ee,ee=D,D=g,g=ti),re=re||[1,1],ye=ye||!1,isNaN(D)||isNaN(ee)||!Array.isArray(g)||!Array.isArray(re)||!Ai(he)||typeof ye!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(El(D,ee),ke=re[0],Me=re[1],it=g.length,zn=D,_n=ee,We=0;We<it;We++)(nt=g[We]).length===2?(zn=nt[0]*ke+zn,_n=nt[1]*Me+_n,da(zn,_n)):(ht=nt[0]*ke+zn,qt=nt[1]*Me+_n,Yt=nt[2]*ke+zn,cn=nt[3]*Me+_n,zn=nt[4]*ke+zn,_n=nt[5]*Me+_n,ms(ht,qt,Yt,cn,zn,_n));return ye&&Ac(),Cl(he),this},h.path=function(g){for(var D=0;D<g.length;D++){var ee=g[D],re=ee.c;switch(ee.op){case"m":El(re[0],re[1]);break;case"l":da(re[0],re[1]);break;case"c":ms.apply(this,re);break;case"h":Ac()}}return this},h.__private__.rect=h.rect=function(g,D,ee,re,he){if(isNaN(g)||isNaN(D)||isNaN(ee)||isNaN(re)||!Ai(he))throw new Error("Invalid arguments passed to jsPDF.rect");return w===p.COMPAT&&(re=-re),J([L(C(g)),L(G(D)),L(C(ee)),L(C(re)),"re"].join(" ")),Cl(he),this},h.__private__.triangle=h.triangle=function(g,D,ee,re,he,ye,ke){if(isNaN(g)||isNaN(D)||isNaN(ee)||isNaN(re)||isNaN(he)||isNaN(ye)||!Ai(ke))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ee-g,re-D],[he-ee,ye-re],[g-he,D-ye]],g,D,[1,1],ke,!0),this},h.__private__.roundedRect=h.roundedRect=function(g,D,ee,re,he,ye,ke){if(isNaN(g)||isNaN(D)||isNaN(ee)||isNaN(re)||isNaN(he)||isNaN(ye)||!Ai(ke))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Me=4/3*(Math.SQRT2-1);return he=Math.min(he,.5*ee),ye=Math.min(ye,.5*re),this.lines([[ee-2*he,0],[he*Me,0,he,ye-ye*Me,he,ye],[0,re-2*ye],[0,ye*Me,-he*Me,ye,-he,ye],[2*he-ee,0],[-he*Me,0,-he,-ye*Me,-he,-ye],[0,2*ye-re],[0,-ye*Me,he*Me,-ye,he,-ye]],g+he,D,[1,1],ke,!0),this},h.__private__.ellipse=h.ellipse=function(g,D,ee,re,he){if(isNaN(g)||isNaN(D)||isNaN(ee)||isNaN(re)||!Ai(he))throw new Error("Invalid arguments passed to jsPDF.ellipse");var ye=4/3*(Math.SQRT2-1)*ee,ke=4/3*(Math.SQRT2-1)*re;return El(g+ee,D),ms(g+ee,D-ke,g+ye,D-re,g,D-re),ms(g-ye,D-re,g-ee,D-ke,g-ee,D),ms(g-ee,D+ke,g-ye,D+re,g,D+re),ms(g+ye,D+re,g+ee,D+ke,g+ee,D),Cl(he),this},h.__private__.circle=h.circle=function(g,D,ee,re){if(isNaN(g)||isNaN(D)||isNaN(ee)||!Ai(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(g,D,ee,ee,re)},h.setFont=function(g,D,ee){return ee&&(D=q(D,ee)),lt=_c(g,D,{disableWarning:!1}),this};var mf=h.__private__.getFont=h.getFont=function(){return Et[_c.apply(h,arguments)]};h.__private__.getFontList=h.getFontList=function(){var g,D,ee={};for(g in Bt)if(Bt.hasOwnProperty(g))for(D in ee[g]=[],Bt[g])Bt[g].hasOwnProperty(D)&&ee[g].push(D);return ee},h.addFont=function(g,D,ee,re,he){var ye=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&ye.indexOf(arguments[3])!==-1?he=arguments[3]:arguments[3]&&ye.indexOf(arguments[3])==-1&&(ee=q(ee,re)),he=he||"Identity-H",Al.call(this,g,D,ee,he)};var ha,Ll=t.lineWidth||.200025,uo=h.__private__.getLineWidth=h.getLineWidth=function(){return Ll},Pc=h.__private__.setLineWidth=h.setLineWidth=function(g){return Ll=g,J(L(C(g))+" w"),this};h.__private__.setLineDash=Ge.API.setLineDash=Ge.API.setLineDashPattern=function(g,D){if(g=g||[],D=D||0,isNaN(D)||!Array.isArray(g))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return g=g.map(function(ee){return L(C(ee))}).join(" "),D=L(C(D)),J("["+g+"] "+D+" d"),this};var jc=h.__private__.getLineHeight=h.getLineHeight=function(){return je*ha};h.__private__.getLineHeight=h.getLineHeight=function(){return je*ha};var Cc=h.__private__.setLineHeightFactor=h.setLineHeightFactor=function(g){return typeof(g=g||1.15)=="number"&&(ha=g),this},Ec=h.__private__.getLineHeightFactor=h.getLineHeightFactor=function(){return ha};Cc(t.lineHeight);var Pi=h.__private__.getHorizontalCoordinate=function(g){return C(g)},Hi=h.__private__.getVerticalCoordinate=function(g){return w===p.ADVANCED?g:tt[B].mediaBox.topRightY-tt[B].mediaBox.bottomLeftY-C(g)},gf=h.__private__.getHorizontalCoordinateString=h.getHorizontalCoordinateString=function(g){return L(Pi(g))},gs=h.__private__.getVerticalCoordinateString=h.getVerticalCoordinateString=function(g){return L(Hi(g))},ei=t.strokeColor||"0 G";h.__private__.getStrokeColor=h.getDrawColor=function(){return Qr(ei)},h.__private__.setStrokeColor=h.setDrawColor=function(g,D,ee,re){return ei=Xr({ch1:g,ch2:D,ch3:ee,ch4:re,pdfColorType:"draw",precision:2}),J(ei),this};var Tl=t.fillColor||"0 g";h.__private__.getFillColor=h.getFillColor=function(){return Qr(Tl)},h.__private__.setFillColor=h.setFillColor=function(g,D,ee,re){return Tl=Xr({ch1:g,ch2:D,ch3:ee,ch4:re,pdfColorType:"fill",precision:2}),J(Tl),this};var fa=t.textColor||"0 g",vf=h.__private__.getTextColor=h.getTextColor=function(){return Qr(fa)};h.__private__.setTextColor=h.setTextColor=function(g,D,ee,re){return fa=Xr({ch1:g,ch2:D,ch3:ee,ch4:re,pdfColorType:"text",precision:3}),this};var co=t.charSpace,yf=h.__private__.getCharSpace=h.getCharSpace=function(){return parseFloat(co||0)};h.__private__.setCharSpace=h.setCharSpace=function(g){if(isNaN(g))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return co=g,this};var Rl=0;h.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},h.__private__.setLineCap=h.setLineCap=function(g){var D=h.CapJoinStyles[g];if(D===void 0)throw new Error("Line cap style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Rl=D,J(D+" J"),this};var Il=0;h.__private__.setLineJoin=h.setLineJoin=function(g){var D=h.CapJoinStyles[g];if(D===void 0)throw new Error("Line join style of '"+g+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Il=D,J(D+" j"),this},h.__private__.setLineMiterLimit=h.__private__.setMiterLimit=h.setLineMiterLimit=h.setMiterLimit=function(g){if(g=g||0,isNaN(g))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return J(L(C(g))+" M"),this},h.GState=ac,h.setGState=function(g){(g=typeof g=="string"?Gt[Kr[g]]:Lc(null,g)).equals(qi)||(J("/"+g.id+" gs"),qi=g)};var Lc=function(g,D){if(!g||!Kr[g]){var ee=!1;for(var re in Gt)if(Gt.hasOwnProperty(re)&&Gt[re].equals(D)){ee=!0;break}if(ee)D=Gt[re];else{var he="GS"+(Object.keys(Gt).length+1).toString(10);Gt[he]=D,D.id=he}return g&&(Kr[g]=D.id),_t.publish("addGState",D),D}};h.addGState=function(g,D){return Lc(g,D),this},h.saveGraphicsState=function(){return J("q"),bi.push({key:lt,size:je,color:fa}),this},h.restoreGraphicsState=function(){J("Q");var g=bi.pop();return lt=g.key,je=g.size,fa=g.color,qi=null,this},h.setCurrentTransformationMatrix=function(g){return J(g.toString()+" cm"),this},h.comment=function(g){return J("#"+g),this};var ho=function(g,D){var ee=g||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ee},set:function(ye){isNaN(ye)||(ee=parseFloat(ye))}});var re=D||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return re},set:function(ye){isNaN(ye)||(re=parseFloat(ye))}});var he="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return he},set:function(ye){he=ye.toString()}}),this},Ol=function(g,D,ee,re){ho.call(this,g,D),this.type="rect";var he=ee||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return he},set:function(ke){isNaN(ke)||(he=parseFloat(ke))}});var ye=re||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return ye},set:function(ke){isNaN(ke)||(ye=parseFloat(ke))}}),this},Dl=function(){this.page=Kt,this.currentPage=B,this.pages=Ne.slice(0),this.pagesContext=tt.slice(0),this.x=Fn,this.y=yt,this.matrix=Gr,this.width=pa(B),this.height=vs(B),this.outputDestination=Le,this.id="",this.objectNumber=-1};Dl.prototype.restore=function(){Kt=this.page,B=this.currentPage,tt=this.pagesContext,Ne=this.pages,Fn=this.x,yt=this.y,Gr=this.matrix,Fl(B,this.width),Ml(B,this.height),Le=this.outputDestination};var Tc=function(g,D,ee,re,he){_i.push(new Dl),Kt=B=0,Ne=[],Fn=g,yt=D,Gr=he,Pl([ee,re])},wf=function(g){if(xi[g])_i.pop().restore();else{var D=new Dl,ee="Xo"+(Object.keys(Pn).length+1).toString(10);D.id=ee,xi[g]=ee,Pn[ee]=D,_t.publish("addFormObject",D),_i.pop().restore()}};for(var fo in h.beginFormObject=function(g,D,ee,re,he){return Tc(g,D,ee,re,he),this},h.endFormObject=function(g){return wf(g),this},h.doFormObject=function(g,D){var ee=Pn[xi[g]];return J("q"),J(D.toString()+" cm"),J("/"+ee.id+" Do"),J("Q"),this},h.getFormObject=function(g){var D=Pn[xi[g]];return{x:D.x,y:D.y,width:D.width,height:D.height,matrix:D.matrix}},h.save=function(g,D){return g=g||"generated.pdf",(D=D||{}).returnPromise=D.returnPromise||!1,D.returnPromise===!1?(Pa(ao(Wi()),g),typeof Pa.unload=="function"&&Qe.setTimeout&&setTimeout(Pa.unload,911),this):new Promise(function(ee,re){try{var he=Pa(ao(Wi()),g);typeof Pa.unload=="function"&&Qe.setTimeout&&setTimeout(Pa.unload,911),ee(he)}catch(ye){re(ye.message)}})},Ge.API)Ge.API.hasOwnProperty(fo)&&(fo==="events"&&Ge.API.events.length?function(g,D){var ee,re,he;for(he=D.length-1;he!==-1;he--)ee=D[he][0],re=D[he][1],g.subscribe.apply(g,[ee].concat(typeof re=="function"?[re]:re))}(_t,Ge.API.events):h[fo]=Ge.API[fo]);var pa=h.getPageWidth=function(g){return(tt[g=g||B].mediaBox.topRightX-tt[g].mediaBox.bottomLeftX)/Fe},Fl=h.setPageWidth=function(g,D){tt[g].mediaBox.topRightX=D*Fe+tt[g].mediaBox.bottomLeftX},vs=h.getPageHeight=function(g){return(tt[g=g||B].mediaBox.topRightY-tt[g].mediaBox.bottomLeftY)/Fe},Ml=h.setPageHeight=function(g,D){tt[g].mediaBox.topRightY=D*Fe+tt[g].mediaBox.bottomLeftY};return h.internal={pdfEscape:ir,getStyle:Nc,getFont:mf,getFontSize:Ie,getCharSpace:yf,getTextColor:vf,getLineHeight:jc,getLineHeightFactor:Ec,getLineWidth:uo,write:Te,getHorizontalCoordinate:Pi,getVerticalCoordinate:Hi,getCoordinateString:gf,getVerticalCoordinateString:gs,collections:{},newObject:mn,newAdditionalObject:Xa,newObjectDeferred:un,newObjectDeferredBegin:mr,getFilters:ki,putStream:Lr,events:_t,scaleFactor:Fe,pageSize:{getWidth:function(){return pa(B)},setWidth:function(g){Fl(B,g)},getHeight:function(){return vs(B)},setHeight:function(g){Ml(B,g)}},encryptionOptions:m,encryption:Mn,getEncryptor:uf,output:oo,getNumberOfPages:rf,pages:Ne,out:J,f2:X,f3:T,getPageInfo:kc,getPageInfoByObjId:Ze,getCurrentPageInfo:cf,getPDFVersion:S,Point:ho,Rectangle:Ol,Matrix:Ke,hasHotfix:Sc},Object.defineProperty(h.internal.pageSize,"width",{get:function(){return pa(B)},set:function(g){Fl(B,g)},enumerable:!0,configurable:!0}),Object.defineProperty(h.internal.pageSize,"height",{get:function(){return vs(B)},set:function(g){Ml(B,g)},enumerable:!0,configurable:!0}),tf.call(h,_e),lt="F1",bc(i,n),_t.publish("initialized"),h}qo.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},qo.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},qo.prototype.hexToBytes=function(t){for(var e=[],n=0;n<t.length;n+=2)e.push(String.fromCharCode(parseInt(t.substr(n,2),16)));return e.join("")},qo.prototype.processOwnerPassword=function(t,e){return Hm(Wm(e).substr(0,5),t)},qo.prototype.encryptor=function(t,e){var n=Wm(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(r){return Hm(n,r)}},ac.prototype.equals=function(t){var e,n="id,objectNumber,equals";if(!t||At(t)!==At(this))return!1;var r=0;for(e in this)if(!(n.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;r++}for(e in t)t.hasOwnProperty(e)&&n.indexOf(e)<0&&r--;return r===0},Ge.API={events:[]},Ge.version="2.5.2";var Qt=Ge.API,ig=1,Qa=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Fo=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},rt=function(t){return t.toFixed(2)},Ts=function(t){return t.toFixed(5)};Qt.__acroform__={};var pr=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},Bv=function(t){return t*ig},Li=function(t){var e=new bw,n=Ue.internal.getHeight(t)||0,r=Ue.internal.getWidth(t)||0;return e.BBox=[0,0,Number(rt(r)),Number(rt(n))],e},eA=Qt.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},tA=Qt.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},nA=Qt.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},sn=Qt.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return nA(t,e-1)},an=Qt.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return eA(t,e-1)},on=Qt.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return tA(t,e-1)},rA=Qt.__acroform__.calculateCoordinates=function(t,e){var n=e.internal.getHorizontalCoordinate,r=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=n(i)||0,l.lowerLeft_Y=r(s+o)||0,l.upperRight_X=n(i+a)||0,l.upperRight_Y=r(s)||0,[Number(rt(l.lowerLeft_X)),Number(rt(l.lowerLeft_Y)),Number(rt(l.upperRight_X)),Number(rt(l.upperRight_Y))]},iA=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],n=t._V||t.DV,r=Vm(t,n),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+rt(r.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(r.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Li(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},Vm=function(t,e){var n=t.fontSize===0?t.maxFontSize:t.fontSize,r={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(T){return T.split(`
`)}):i.map(function(T){return[T]});var s=n,a=Ue.internal.getHeight(t)||0;a=a<0?-a:a;var o=Ue.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(T,C,Y){if(T+1<i.length){var G=C+" "+i[T+1][0];return Pd(G,t,Y).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var c,m,f=Pd("3",t,s).height,y=t.multiline?a-s:(a-f)/2,h=y+=2,k=0,S=0,_=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+Pd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var b="",p=0,w=0;w<i.length;w++)if(i.hasOwnProperty(w)){var N=!1;if(i[w].length!==1&&_!==i[w].length-1){if((f+2)*(p+2)+2>a)continue e;b+=i[w][_],N=!0,S=w,w--}else{b=(b+=i[w][_]+" ").substr(b.length-1)==" "?b.substr(0,b.length-1):b;var F=parseInt(w),q=l(F,b,s),L=w>=i.length-1;if(q&&!L){b+=" ",_=0;continue}if(q||L){if(L)S=F;else if(t.multiline&&(f+2)*(p+2)+2>a)continue e}else{if(!t.multiline||(f+2)*(p+2)+2>a)continue e;S=F}}for(var E="",V=k;V<=S;V++){var X=i[V];if(t.multiline){if(V===S){E+=X[_]+" ",_=(_+1)%X.length;continue}if(V===k){E+=X[X.length-1]+" ";continue}}E+=X[0]+" "}switch(E=E.substr(E.length-1)==" "?E.substr(0,E.length-1):E,m=Pd(E,t,s).width,t.textAlign){case"right":c=o-m-2;break;case"center":c=(o-m)/2;break;case"left":default:c=2}e+=rt(c)+" "+rt(h)+` Td
`,e+="("+Qa(E)+`) Tj
`,e+=-rt(c)+` 0 Td
`,h=-(s+2),m=0,k=N?S:S+1,p++,b=""}break}return r.text=e,r.fontSize=s,r},Pd=function(t,e,n){var r=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n);return{height:e.scope.getStringUnitWidth("3",{font:r,fontSize:parseFloat(n),charSpace:0})*parseFloat(n)*1.5,width:i}},sA={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},aA=function(t,e){var n={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(r){return r.type===n.type&&r.object===n.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(n)},oA=function(t,e){for(var n in t)if(t.hasOwnProperty(n)){var r=n,i=t[n];e.internal.newObjectDeferredBegin(i.objId,!0),At(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[r]}},lA=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(yi.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(sA)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");ig=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new xw,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(n){n.internal.events.unsubscribe(n.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete n.internal.acroformPlugin.acroFormDictionaryRoot._eventID,n.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(n){n.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var r=n.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in r)if(r.hasOwnProperty(i)){var s=r[i];s.objId=void 0,s.hasAnnotation&&aA(s,n)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(n){if(n.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");n.internal.write("/AcroForm "+n.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(n){(function(r,i){var s=!r;for(var a in r||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),r=r||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(r.hasOwnProperty(a)){var o=r[a],l=[],c=o.Rect;if(o.Rect&&(o.Rect=rA(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=Ue.createDefaultAppearanceStream(o),At(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=c,o.hasAppearanceStream&&!o.appearanceStreamContent){var m=iA(o);l.push({key:"AP",value:"<</N "+m+">>"}),i.internal.acroformPlugin.xForms.push(m)}if(o.appearanceStreamContent){var f="";for(var y in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(y)){var h=o.appearanceStreamContent[y];if(f+="/"+y+" ",f+="<<",Object.keys(h).length>=1||Array.isArray(h)){for(var a in h)if(h.hasOwnProperty(a)){var k=h[a];typeof k=="function"&&(k=k.call(i,o)),f+="/"+a+" "+k+" ",i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k)}}else typeof(k=h)=="function"&&(k=k.call(i,o)),f+="/"+a+" "+k,i.internal.acroformPlugin.xForms.indexOf(k)>=0||i.internal.acroformPlugin.xForms.push(k);f+=">>"}l.push({key:"AP",value:`<<
`+f+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&oA(i.internal.acroformPlugin.xForms,i)})(n,t)}),t.internal.acroformPlugin.isInitialized=!0}},ww=Qt.__acroform__.arrayToPdfArray=function(t,e,n){var r=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),At(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&n&&(r=n.internal.getEncryptor(e)),i+="("+Qa(r(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Pp=function(t,e,n){var r=function(i){return i};return e!==void 0&&n&&(r=n.internal.getEncryptor(e)),(t=t||"").toString(),t="("+Qa(r(t))+")"},Di=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Di.prototype.toString=function(){return this.objId+" 0 R"},Di.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Di.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var n in e)if(Object.getOwnPropertyDescriptor(this,e[n]).configurable===!1){var r=e[n],i=this[r];i&&(Array.isArray(i)?t.push({key:r,value:ww(i,this.objId,this.scope)}):i instanceof Di?(i.scope=this.scope,t.push({key:r,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:r,value:i}))}return t};var bw=function(){Di.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(n){e=n}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(n){t=n.trim()},get:function(){return t||null}})};pr(bw,Di);var xw=function(){Di.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var n=function(r){return r};return this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),"("+Qa(n(t))+")"}},set:function(n){t=n}})};pr(xw,Di);var yi=function t(){Di.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute F supplied.');e=b}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!sn(e,3)},set:function(b){b?this.F=an(e,3):this.F=on(e,3)}});var n=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return n},set:function(b){if(isNaN(b))throw new Error('Invalid value "'+b+'" for attribute Ff supplied.');n=b}});var r=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(r.length!==0)return r},set:function(b){r=b!==void 0?b:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[0])?0:r[0]},set:function(b){r[0]=b}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[1])?0:r[1]},set:function(b){r[1]=b}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[2])?0:r[2]},set:function(b){r[2]=b}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!r||isNaN(r[3])?0:r[3]},set:function(b){r[3]=b}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(b){switch(b){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=b;break;default:throw new Error('Invalid value "'+b+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof xh)return;s="FieldObject"+t.FieldNum++}var b=function(p){return p};return this.scope&&(b=this.scope.internal.getEncryptor(this.objId)),"("+Qa(b(s))+")"},set:function(b){s=b.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(b){s=b}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(b){a=b}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(b){o=b}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(b){l=b}});var c=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return c===void 0?50/ig:c},set:function(b){c=b}});var m="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return m},set:function(b){m=b}});var f="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!f||this instanceof xh||this instanceof Zs))return Pp(f,this.objId,this.scope)},set:function(b){b=b.toString(),f=b}});var y=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(y)return this instanceof wn?y:Pp(y,this.objId,this.scope)},set:function(b){b=b.toString(),y=this instanceof wn?b:b.substr(0,1)==="("?Fo(b.substr(1,b.length-2)):Fo(b)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?Fo(y.substr(1,y.length-1)):y},set:function(b){b=b.toString(),y=this instanceof wn?"/"+b:b}});var h=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(h)return h},set:function(b){this.V=b}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(h)return this instanceof wn?h:Pp(h,this.objId,this.scope)},set:function(b){b=b.toString(),h=this instanceof wn?b:b.substr(0,1)==="("?Fo(b.substr(1,b.length-2)):Fo(b)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof wn?Fo(h.substr(1,h.length-1)):h},set:function(b){b=b.toString(),h=this instanceof wn?"/"+b:b}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var k,S=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return S},set:function(b){b=!!b,S=b}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(k)return k},set:function(b){k=b}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,1)},set:function(b){b?this.Ff=an(this.Ff,1):this.Ff=on(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,2)},set:function(b){b?this.Ff=an(this.Ff,2):this.Ff=on(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,3)},set:function(b){b?this.Ff=an(this.Ff,3):this.Ff=on(this.Ff,3)}});var _=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(_!==null)return _},set:function(b){if([0,1,2].indexOf(b)===-1)throw new Error('Invalid value "'+b+'" for attribute Q supplied.');_=b}}),Object.defineProperty(this,"textAlign",{get:function(){var b;switch(_){case 0:default:b="left";break;case 1:b="center";break;case 2:b="right"}return b},configurable:!0,enumerable:!0,set:function(b){switch(b){case"right":case 2:_=2;break;case"center":case 1:_=1;break;case"left":case 0:default:_=0}}})};pr(yi,Di);var Ma=function(){yi.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(n){t=n}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return ww(e,this.objId,this.scope)},set:function(n){var r,i;i=[],typeof(r=n)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,c=[];l=a.exec(s);)c.push(l[o]);return c}(r,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(n){e=n,this.sort&&e.sort()},this.addOption=function(n){n=(n=n||"").toString(),e.push(n),this.sort&&e.sort()},this.removeOption=function(n,r){for(r=r||!1,n=(n=n||"").toString();e.indexOf(n)!==-1&&(e.splice(e.indexOf(n),1),r!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,18)},set:function(n){n?this.Ff=an(this.Ff,18):this.Ff=on(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,19)},set:function(n){this.combo===!0&&(n?this.Ff=an(this.Ff,19):this.Ff=on(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,20)},set:function(n){n?(this.Ff=an(this.Ff,20),e.sort()):this.Ff=on(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,22)},set:function(n){n?this.Ff=an(this.Ff,22):this.Ff=on(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(n){n?this.Ff=an(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,27)},set:function(n){n?this.Ff=an(this.Ff,27):this.Ff=on(this.Ff,27)}}),this.hasAppearanceStream=!1};pr(Ma,yi);var za=function(){Ma.call(this),this.fontName="helvetica",this.combo=!1};pr(za,Ma);var Ba=function(){za.call(this),this.combo=!0};pr(Ba,za);var Cu=function(){Ba.call(this),this.edit=!0};pr(Cu,Ba);var wn=function(){yi.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,15)},set:function(n){n?this.Ff=an(this.Ff,15):this.Ff=on(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,16)},set:function(n){n?this.Ff=an(this.Ff,16):this.Ff=on(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,17)},set:function(n){n?this.Ff=an(this.Ff,17):this.Ff=on(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(n){n?this.Ff=an(this.Ff,26):this.Ff=on(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var n=function(s){return s};if(this.scope&&(n=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var r,i=[];for(r in i.push("<<"),e)i.push("/"+r+" ("+Qa(n(e[r]))+")");return i.push(">>"),i.join(`
`)}},set:function(n){At(n)==="object"&&(e=n)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(n){typeof n=="string"&&(e.CA=n)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(n){t=n}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(n){t="/"+n}})};pr(wn,yi);var Eu=function(){wn.call(this),this.pushButton=!0};pr(Eu,wn);var Ua=function(){wn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};pr(Ua,wn);var xh=function(){var t,e;yi.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var n,r={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),r)a.push("/"+s+" ("+Qa(i(r[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){At(i)==="object"&&(r=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return r.CA||""},set:function(i){typeof i=="string"&&(r.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return n},set:function(i){n=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return n.substr(1,n.length-1)},set:function(i){n="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Ue.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};pr(xh,yi),Ua.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var n=this.Kids[e];n.appearanceStreamContent=t.createAppearanceStream(n.optionName),n.caption=t.getCA()}},Ua.prototype.createOption=function(t){var e=new xh;return e.Parent=this,e.optionName=t,this.Kids.push(e),uA.call(this.scope,e),e};var Lu=function(){wn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Ue.CheckBox.createAppearanceStream()};pr(Lu,wn);var Zs=function(){yi.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,13)},set:function(e){e?this.Ff=an(this.Ff,13):this.Ff=on(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,21)},set:function(e){e?this.Ff=an(this.Ff,21):this.Ff=on(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,23)},set:function(e){e?this.Ff=an(this.Ff,23):this.Ff=on(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,24)},set:function(e){e?this.Ff=an(this.Ff,24):this.Ff=on(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,25)},set:function(e){e?this.Ff=an(this.Ff,25):this.Ff=on(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,26)},set:function(e){e?this.Ff=an(this.Ff,26):this.Ff=on(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};pr(Zs,yi);var Tu=function(){Zs.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!sn(this.Ff,14)},set:function(t){t?this.Ff=an(this.Ff,14):this.Ff=on(this.Ff,14)}}),this.password=!0};pr(Tu,Zs);var Ue={CheckBox:{createAppearanceStream:function(){return{N:{On:Ue.CheckBox.YesNormal},D:{On:Ue.CheckBox.YesPushDown,Off:Ue.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Li(t);e.scope=t.scope;var n=[],r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=Vm(t,t.caption);return n.push("0.749023 g"),n.push("0 0 "+rt(Ue.internal.getWidth(t))+" "+rt(Ue.internal.getHeight(t))+" re"),n.push("f"),n.push("BMC"),n.push("q"),n.push("0 0 1 rg"),n.push("/"+r+" "+rt(s.fontSize)+" Tf "+i),n.push("BT"),n.push(s.text),n.push("ET"),n.push("Q"),n.push("EMC"),e.stream=n.join(`
`),e},YesNormal:function(t){var e=Li(t);e.scope=t.scope;var n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color),i=[],s=Ue.internal.getHeight(t),a=Ue.internal.getWidth(t),o=Vm(t,t.caption);return i.push("1 g"),i.push("0 0 "+rt(a)+" "+rt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+rt(a-1)+" "+rt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+n+" "+rt(o.fontSize)+" Tf "+r),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Li(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(Ue.internal.getWidth(t))+" "+rt(Ue.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Circle.YesNormal,e.D[t]=Ue.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Li(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Ue.internal.Bezier_C,s=Number((r*i).toFixed(5));return n.push("q"),n.push("1 0 0 1 "+Ts(Ue.internal.getWidth(t)/2)+" "+Ts(Ue.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+s+" "+s+" "+r+" 0 "+r+" c"),n.push("-"+s+" "+r+" -"+r+" "+s+" -"+r+" 0 c"),n.push("-"+r+" -"+s+" -"+s+" -"+r+" 0 -"+r+" c"),n.push(s+" -"+r+" "+r+" -"+s+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Li(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5)),a=Number((r*Ue.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ts(Ue.internal.getWidth(t)/2)+" "+Ts(Ue.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),n.push("0 g"),n.push("q"),n.push("1 0 0 1 "+Ts(Ue.internal.getWidth(t)/2)+" "+Ts(Ue.internal.getHeight(t)/2)+" cm"),n.push(r+" 0 m"),n.push(r+" "+a+" "+a+" "+r+" 0 "+r+" c"),n.push("-"+a+" "+r+" -"+r+" "+a+" -"+r+" 0 c"),n.push("-"+r+" -"+a+" -"+a+" -"+r+" 0 -"+r+" c"),n.push(a+" -"+r+" "+r+" -"+a+" "+r+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Li(t);e.scope=t.scope;var n=[],r=Ue.internal.getWidth(t)<=Ue.internal.getHeight(t)?Ue.internal.getWidth(t)/4:Ue.internal.getHeight(t)/4;r=Number((.9*r).toFixed(5));var i=Number((2*r).toFixed(5)),s=Number((i*Ue.internal.Bezier_C).toFixed(5));return n.push("0.749023 g"),n.push("q"),n.push("1 0 0 1 "+Ts(Ue.internal.getWidth(t)/2)+" "+Ts(Ue.internal.getHeight(t)/2)+" cm"),n.push(i+" 0 m"),n.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),n.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),n.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),n.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),n.push("f"),n.push("Q"),e.stream=n.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:Ue.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=Ue.RadioButton.Cross.YesNormal,e.D[t]=Ue.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Li(t);e.scope=t.scope;var n=[],r=Ue.internal.calculateCross(t);return n.push("q"),n.push("1 1 "+rt(Ue.internal.getWidth(t)-2)+" "+rt(Ue.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(rt(r.x1.x)+" "+rt(r.x1.y)+" m"),n.push(rt(r.x2.x)+" "+rt(r.x2.y)+" l"),n.push(rt(r.x4.x)+" "+rt(r.x4.y)+" m"),n.push(rt(r.x3.x)+" "+rt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},YesPushDown:function(t){var e=Li(t);e.scope=t.scope;var n=Ue.internal.calculateCross(t),r=[];return r.push("0.749023 g"),r.push("0 0 "+rt(Ue.internal.getWidth(t))+" "+rt(Ue.internal.getHeight(t))+" re"),r.push("f"),r.push("q"),r.push("1 1 "+rt(Ue.internal.getWidth(t)-2)+" "+rt(Ue.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(rt(n.x1.x)+" "+rt(n.x1.y)+" m"),r.push(rt(n.x2.x)+" "+rt(n.x2.y)+" l"),r.push(rt(n.x4.x)+" "+rt(n.x4.y)+" m"),r.push(rt(n.x3.x)+" "+rt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Li(t);e.scope=t.scope;var n=[];return n.push("0.749023 g"),n.push("0 0 "+rt(Ue.internal.getWidth(t))+" "+rt(Ue.internal.getHeight(t))+" re"),n.push("f"),e.stream=n.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+n}};Ue.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=Ue.internal.getWidth(t),n=Ue.internal.getHeight(t),r=Math.min(e,n);return{x1:{x:(e-r)/2,y:(n-r)/2+r},x2:{x:(e-r)/2+r,y:(n-r)/2},x3:{x:(e-r)/2,y:(n-r)/2},x4:{x:(e-r)/2+r,y:(n-r)/2+r}}}},Ue.internal.getWidth=function(t){var e=0;return At(t)==="object"&&(e=Bv(t.Rect[2])),e},Ue.internal.getHeight=function(t){var e=0;return At(t)==="object"&&(e=Bv(t.Rect[3])),e};var uA=Qt.addField=function(t){if(lA(this,t),!(t instanceof yi))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Qt.AcroFormChoiceField=Ma,Qt.AcroFormListBox=za,Qt.AcroFormComboBox=Ba,Qt.AcroFormEditBox=Cu,Qt.AcroFormButton=wn,Qt.AcroFormPushButton=Eu,Qt.AcroFormRadioButton=Ua,Qt.AcroFormCheckBox=Lu,Qt.AcroFormTextField=Zs,Qt.AcroFormPasswordField=Tu,Qt.AcroFormAppearance=Ue,Qt.AcroForm={ChoiceField:Ma,ListBox:za,ComboBox:Ba,EditBox:Cu,Button:wn,PushButton:Eu,RadioButton:Ua,CheckBox:Lu,TextField:Zs,PasswordField:Tu,Appearance:Ue},Ge.AcroForm={ChoiceField:Ma,ListBox:za,ComboBox:Ba,EditBox:Cu,Button:wn,PushButton:Eu,RadioButton:Ua,CheckBox:Lu,TextField:Zs,PasswordField:Tu,Appearance:Ue};var cA=Ge.AcroForm;function _w(t){return t.reduce(function(e,n,r){return e[n]=r,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",n={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},r=t.__addimage__.getImageFileTypeByImageData=function(T,C){var Y,G,ce,R,j,I=e;if((C=C||e)==="RGBA"||T.data!==void 0&&T.data instanceof Uint8ClampedArray&&"height"in T&&"width"in T)return"RGBA";if(q(T))for(j in n)for(ce=n[j],Y=0;Y<ce.length;Y+=1){for(R=!0,G=0;G<ce[Y].length;G+=1)if(ce[Y][G]!==void 0&&ce[Y][G]!==T[G]){R=!1;break}if(R===!0){I=j;break}}else for(j in n)for(ce=n[j],Y=0;Y<ce.length;Y+=1){for(R=!0,G=0;G<ce[Y].length;G+=1)if(ce[Y][G]!==void 0&&ce[Y][G]!==T.charCodeAt(G)){R=!1;break}if(R===!0){I=j;break}}return I===e&&C!==e&&(I=C),I},i=function T(C){for(var Y=this.internal.write,G=this.internal.putStream,ce=(0,this.internal.getFilters)();ce.indexOf("FlateEncode")!==-1;)ce.splice(ce.indexOf("FlateEncode"),1);C.objectId=this.internal.newObject();var R=[];if(R.push({key:"Type",value:"/XObject"}),R.push({key:"Subtype",value:"/Image"}),R.push({key:"Width",value:C.width}),R.push({key:"Height",value:C.height}),C.colorSpace===_.INDEXED?R.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(C.palette.length/3-1)+" "+("sMask"in C&&C.sMask!==void 0?C.objectId+2:C.objectId+1)+" 0 R]"}):(R.push({key:"ColorSpace",value:"/"+C.colorSpace}),C.colorSpace===_.DEVICE_CMYK&&R.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),R.push({key:"BitsPerComponent",value:C.bitsPerComponent}),"decodeParameters"in C&&C.decodeParameters!==void 0&&R.push({key:"DecodeParms",value:"<<"+C.decodeParameters+">>"}),"transparency"in C&&Array.isArray(C.transparency)){for(var j="",I=0,M=C.transparency.length;I<M;I++)j+=C.transparency[I]+" "+C.transparency[I]+" ";R.push({key:"Mask",value:"["+j+"]"})}C.sMask!==void 0&&R.push({key:"SMask",value:C.objectId+1+" 0 R"});var K=C.filter!==void 0?["/"+C.filter]:void 0;if(G({data:C.data,additionalKeyValues:R,alreadyAppliedFilters:K,objectId:C.objectId}),Y("endobj"),"sMask"in C&&C.sMask!==void 0){var ie="/Predictor "+C.predictor+" /Colors 1 /BitsPerComponent "+C.bitsPerComponent+" /Columns "+C.width,P={width:C.width,height:C.height,colorSpace:"DeviceGray",bitsPerComponent:C.bitsPerComponent,decodeParameters:ie,data:C.sMask};"filter"in C&&(P.filter=C.filter),T.call(this,P)}if(C.colorSpace===_.INDEXED){var B=this.internal.newObject();G({data:E(new Uint8Array(C.palette)),objectId:B}),Y("endobj")}},s=function(){var T=this.internal.collections.addImage_images;for(var C in T)i.call(this,T[C])},a=function(){var T,C=this.internal.collections.addImage_images,Y=this.internal.write;for(var G in C)Y("/I"+(T=C[G]).index,T.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var T=this.internal.collections.addImage_images;return o.call(this),T},c=function(){return Object.keys(this.internal.collections.addImage_images).length},m=function(T){return typeof t["process"+T.toUpperCase()]=="function"},f=function(T){return At(T)==="object"&&T.nodeType===1},y=function(T,C){if(T.nodeName==="IMG"&&T.hasAttribute("src")){var Y=""+T.getAttribute("src");if(Y.indexOf("data:image/")===0)return ju(unescape(Y).split("base64,").pop());var G=t.loadFile(Y,!0);if(G!==void 0)return G}if(T.nodeName==="CANVAS"){if(T.width===0||T.height===0)throw new Error("Given canvas must have data. Canvas width: "+T.width+", height: "+T.height);var ce;switch(C){case"PNG":ce="image/png";break;case"WEBP":ce="image/webp";break;case"JPEG":case"JPG":default:ce="image/jpeg"}return ju(T.toDataURL(ce,1).split("base64,").pop())}},h=function(T){var C=this.internal.collections.addImage_images;if(C){for(var Y in C)if(T===C[Y].alias)return C[Y]}},k=function(T,C,Y){return T||C||(T=-96,C=-96),T<0&&(T=-1*Y.width*72/T/this.internal.scaleFactor),C<0&&(C=-1*Y.height*72/C/this.internal.scaleFactor),T===0&&(T=C*Y.width/Y.height),C===0&&(C=T*Y.height/Y.width),[T,C]},S=function(T,C,Y,G,ce,R){var j=k.call(this,Y,G,ce),I=this.internal.getCoordinateString,M=this.internal.getVerticalCoordinateString,K=l.call(this);if(Y=j[0],G=j[1],K[ce.index]=ce,R){R*=Math.PI/180;var ie=Math.cos(R),P=Math.sin(R),B=function(Z){return Z.toFixed(4)},H=[B(ie),B(P),B(-1*P),B(ie),0,0,"cm"]}this.internal.write("q"),R?(this.internal.write([1,"0","0",1,I(T),M(C+G),"cm"].join(" ")),this.internal.write(H.join(" ")),this.internal.write([I(Y),"0","0",I(G),"0","0","cm"].join(" "))):this.internal.write([I(Y),"0","0",I(G),I(T),M(C+G),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ce.index+" Do"),this.internal.write("Q")},_=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var b=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},p=t.__addimage__.sHashCode=function(T){var C,Y,G=0;if(typeof T=="string")for(Y=T.length,C=0;C<Y;C++)G=(G<<5)-G+T.charCodeAt(C),G|=0;else if(q(T))for(Y=T.byteLength/2,C=0;C<Y;C++)G=(G<<5)-G+T[C],G|=0;return G},w=t.__addimage__.validateStringAsBase64=function(T){(T=T||"").toString().trim();var C=!0;return T.length===0&&(C=!1),T.length%4!=0&&(C=!1),/^[A-Za-z0-9+/]+$/.test(T.substr(0,T.length-2))===!1&&(C=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(T.substr(-2))===!1&&(C=!1),C},N=t.__addimage__.extractImageFromDataUrl=function(T){var C=(T=T||"").split("base64,"),Y=null;if(C.length===2){var G=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(C[0]);Array.isArray(G)&&(Y={mimeType:G[1],charset:G[2],data:C[1]})}return Y},F=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(T){return F()&&T instanceof ArrayBuffer};var q=t.__addimage__.isArrayBufferView=function(T){return F()&&typeof Uint32Array<"u"&&(T instanceof Int8Array||T instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&T instanceof Uint8ClampedArray||T instanceof Int16Array||T instanceof Uint16Array||T instanceof Int32Array||T instanceof Uint32Array||T instanceof Float32Array||T instanceof Float64Array)},L=t.__addimage__.binaryStringToUint8Array=function(T){for(var C=T.length,Y=new Uint8Array(C),G=0;G<C;G++)Y[G]=T.charCodeAt(G);return Y},E=t.__addimage__.arrayBufferToBinaryString=function(T){for(var C="",Y=q(T)?T:new Uint8Array(T),G=0;G<Y.length;G+=8192)C+=String.fromCharCode.apply(null,Y.subarray(G,G+8192));return C};t.addImage=function(){var T,C,Y,G,ce,R,j,I,M;if(typeof arguments[1]=="number"?(C=e,Y=arguments[1],G=arguments[2],ce=arguments[3],R=arguments[4],j=arguments[5],I=arguments[6],M=arguments[7]):(C=arguments[1],Y=arguments[2],G=arguments[3],ce=arguments[4],R=arguments[5],j=arguments[6],I=arguments[7],M=arguments[8]),At(T=arguments[0])==="object"&&!f(T)&&"imageData"in T){var K=T;T=K.imageData,C=K.format||C||e,Y=K.x||Y||0,G=K.y||G||0,ce=K.w||K.width||ce,R=K.h||K.height||R,j=K.alias||j,I=K.compression||I,M=K.rotation||K.angle||M}var ie=this.internal.getFilters();if(I===void 0&&ie.indexOf("FlateEncode")!==-1&&(I="SLOW"),isNaN(Y)||isNaN(G))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=V.call(this,T,C,j,I);return S.call(this,Y,G,ce,R,P,M),this};var V=function(T,C,Y,G){var ce,R,j;if(typeof T=="string"&&r(T)===e){T=unescape(T);var I=X(T,!1);(I!==""||(I=t.loadFile(T,!0))!==void 0)&&(T=I)}if(f(T)&&(T=y(T,C)),C=r(T,C),!m(C))throw new Error("addImage does not support files of type '"+C+"', please ensure that a plugin for '"+C+"' support is added.");if(((j=Y)==null||j.length===0)&&(Y=function(M){return typeof M=="string"||q(M)?p(M):q(M.data)?p(M.data):null}(T)),(ce=h.call(this,Y))||(F()&&(T instanceof Uint8Array||C==="RGBA"||(R=T,T=L(T))),ce=this["process"+C.toUpperCase()](T,c.call(this),Y,function(M){return M&&typeof M=="string"&&(M=M.toUpperCase()),M in t.image_compression?M:b.NONE}(G),R)),!ce)throw new Error("An unknown error occurred whilst processing the image.");return ce},X=t.__addimage__.convertBase64ToBinaryString=function(T,C){var Y;C=typeof C!="boolean"||C;var G,ce="";if(typeof T=="string"){G=(Y=N(T))!==null?Y.data:T;try{ce=ju(G)}catch(R){if(C)throw w(G)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+R.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return ce};t.getImageProperties=function(T){var C,Y,G="";if(f(T)&&(T=y(T)),typeof T=="string"&&r(T)===e&&((G=X(T,!1))===""&&(G=t.loadFile(T)||""),T=G),Y=r(T),!m(Y))throw new Error("addImage does not support files of type '"+Y+"', please ensure that a plugin for '"+Y+"' support is added.");if(!F()||T instanceof Uint8Array||(T=L(T)),!(C=this["process"+Y.toUpperCase()](T)))throw new Error("An unknown error occurred whilst processing the image");return C.fileType=Y,C}})(Ge.API),function(t){var e=function(n){if(n!==void 0&&n!="")return!0};Ge.API.events.push(["addPage",function(n){this.internal.getPageInfo(n.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(n){for(var r,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(n.objId),c=n.pageContext.annotations,m=!1,f=0;f<c.length&&!m;f++)switch((r=c[f]).type){case"link":(e(r.options.url)||e(r.options.pageNumber))&&(m=!0);break;case"reference":case"text":case"freetext":m=!0}if(m!=0){this.internal.write("/Annots [");for(var y=0;y<c.length;y++){r=c[y];var h=this.internal.pdfEscape,k=this.internal.getEncryptor(n.objId);switch(r.type){case"reference":this.internal.write(" "+r.object.objId+" 0 R ");break;case"text":var S=this.internal.newAdditionalObject(),_=this.internal.newAdditionalObject(),b=this.internal.getEncryptor(S.objId),p=r.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y)+"] ")+"/Contents ("+h(b(r.contents))+")",s+=" /Popup "+_.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+h(b(p))+") >>",S.content=s;var w=S.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(r.bounds.x+30)+" "+o(r.bounds.y+r.bounds.h)+" "+a(r.bounds.x+r.bounds.w+30)+" "+o(r.bounds.y)+"] ")+" /Parent "+w,r.open&&(s+=" /Open true"),s+=" >>",_.content=s,this.internal.write(S.objId,"0 R",_.objId,"0 R");break;case"freetext":i="/Rect ["+a(r.bounds.x)+" "+o(r.bounds.y)+" "+a(r.bounds.x+r.bounds.w)+" "+o(r.bounds.y+r.bounds.h)+"] ";var N=r.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+h(k(r.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+N+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(r.options.name){var F=this.annotations._nameMap[r.options.name];r.options.pageNumber=F.page,r.options.top=F.y}else r.options.top||(r.options.top=0);if(i="/Rect ["+r.finalBounds.x+" "+r.finalBounds.y+" "+r.finalBounds.w+" "+r.finalBounds.h+"] ",s="",r.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+h(k(r.options.url))+") >>";else if(r.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(r.options.pageNumber).objId+" 0 R",r.options.magFactor=r.options.magFactor||"XYZ",r.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+r.options.top+"]";break;case"FitV":r.options.left=r.options.left||0,s+=" /FitV "+r.options.left+"]";break;case"XYZ":default:var q=o(r.options.top);r.options.left=r.options.left||0,r.options.zoom===void 0&&(r.options.zoom=0),s+=" /XYZ "+r.options.left+" "+q+" "+r.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(n){var r=this.internal.getCurrentPageInfo();switch(n.type){case"link":this.link(n.bounds.x,n.bounds.y,n.bounds.w,n.bounds.h,n);break;case"text":case"freetext":r.pageContext.annotations.push(n)}},t.link=function(n,r,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,c=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(n),y:c(r),w:l(n+i),h:c(r+s)},options:a,type:"link"})},t.textWithLink=function(n,r,i,s){var a,o,l=this.getTextWidth(n),c=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var m=this.splitTextToSize(n,o).length;a=Math.ceil(c*m)}else o=l,a=c;return this.text(n,r,i,s),i+=.2*c,s.align==="center"&&(r-=l/2),s.align==="right"&&(r-=l),this.link(r,i-c,o,a,s),l},t.getTextWidth=function(n){var r=this.internal.getFontSize();return this.getStringUnitWidth(n)*r/this.internal.scaleFactor}}(Ge.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},n={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},r={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(S){return e[S.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(S){return typeof S=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(S)},o=t.__arabicParser__.isArabicEndLetter=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(S){return a(S)&&i.indexOf(S.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=1};var c=t.__arabicParser__.arabicLetterHasFinalForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length>=3};var m=t.__arabicParser__.arabicLetterHasMedialForm=function(S){return a(S)&&s(S)&&e[S.charCodeAt(0)].length==4},f=t.__arabicParser__.resolveLigatures=function(S){var _=0,b=n,p="",w=0;for(_=0;_<S.length;_+=1)b[S.charCodeAt(_)]!==void 0?(w++,typeof(b=b[S.charCodeAt(_)])=="number"&&(p+=String.fromCharCode(b),b=n,w=0),_===S.length-1&&(b=n,p+=S.charAt(_-(w-1)),_-=w-1,w=0)):(b=n,p+=S.charAt(_-w),_-=w,w=0);return p};t.__arabicParser__.isArabicDiacritic=function(S){return S!==void 0&&r[S.charCodeAt(0)]!==void 0};var y=t.__arabicParser__.getCorrectForm=function(S,_,b){return a(S)?s(S)===!1?-1:!c(S)||!a(_)&&!a(b)||!a(b)&&o(_)||o(S)&&!a(_)||o(S)&&l(_)||o(S)&&o(_)?0:m(S)&&a(_)&&!o(_)&&a(b)&&c(b)?3:o(S)||!a(b)?1:2:-1},h=function(S){var _=0,b=0,p=0,w="",N="",F="",q=(S=S||"").split("\\s+"),L=[];for(_=0;_<q.length;_+=1){for(L.push(""),b=0;b<q[_].length;b+=1)w=q[_][b],N=q[_][b-1],F=q[_][b+1],a(w)?(p=y(w,N,F),L[_]+=p!==-1?String.fromCharCode(e[w.charCodeAt(0)][p]):w):L[_]+=w;L[_]=f(L[_])}return L.join(" ")},k=t.__arabicParser__.processArabic=t.processArabic=function(){var S,_=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,b=[];if(Array.isArray(_)){var p=0;for(b=[],p=0;p<_.length;p+=1)Array.isArray(_[p])?b.push([h(_[p][0]),_[p][1],_[p][2]]):b.push([h(_[p])]);S=b}else S=h(_);return typeof arguments[0]=="string"?S:(arguments[0].text=S,arguments[0])};t.events.push(["preProcessText",k])}(Ge.API),Ge.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var n=void 0;Object.defineProperty(this,"pdf",{get:function(){return n},set:function(o){n=o}});var r=150;Object.defineProperty(this,"width",{get:function(){return r},set:function(o){r=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=r+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(n,r){var i;if((n=n||"2d")!=="2d")return null;for(i in r)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=r[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ge.API),function(t){var e={left:0,top:0,bottom:0,right:0},n=!1,r=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(S){l=S}});var c=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return c},set:function(S){c=S}});var m=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return m},set:function(S){m=S}});var f=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return f},set:function(S){f=S}});var y=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return y},set:function(S){y=S}});var h=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return h},set:function(S){h=S}});var k=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return k},set:function(S){k=S}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return r.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,c){r.call(this);var m=(c=c||{}).fontSize||this.getFontSize(),f=c.font||this.getFont(),y=c.scaleFactor||this.internal.scaleFactor,h=0,k=0,S=0,_=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var b=c.maxWidth;b>0?typeof l=="string"?l=this.splitTextToSize(l,b):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(w,N){return w.concat(_.splitTextToSize(N,b))},[])):l=Array.isArray(l)?l:[l];for(var p=0;p<l.length;p++)h<(S=this.getStringUnitWidth(l[p],{font:f})*m)&&(h=S);return h!==0&&(k=l.length),{w:h/=y,h:Math.max((k*m*this.getLineHeightFactor()-m*(this.getLineHeightFactor()-1))/y,0)}},t.cellAddPage=function(){r.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),r.call(this);var c=this.internal.__cell__.lastCell,m=this.internal.__cell__.padding,f=this.internal.__cell__.margins||e,y=this.internal.__cell__.tableHeaderRow,h=this.internal.__cell__.printHeaders;return c.lineNumber!==void 0&&(c.lineNumber===l.lineNumber?(l.x=(c.x||0)+(c.width||0),l.y=c.y||0):c.y+c.height+l.height+f.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=f.top,h&&y&&(this.printHeaderRow(l.lineNumber,!0),l.y+=y[0].height)):l.y=c.y+c.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,n===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-m,l.y+m,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+m,{align:"center",baseline:"top",maxWidth:l.width-m-m}):this.text(l.text,l.x+m,l.y+m,{align:"left",baseline:"top",maxWidth:l.width-m-m})),this.internal.__cell__.lastCell=l,this};t.table=function(l,c,m,f,y){if(r.call(this),!m)throw new Error("No data for PDF table.");var h,k,S,_,b=[],p=[],w=[],N={},F={},q=[],L=[],E=(y=y||{}).autoSize||!1,V=y.printHeaders!==!1,X=y.css&&y.css["font-size"]!==void 0?16*y.css["font-size"]:y.fontSize||12,T=y.margins||Object.assign({width:this.getPageWidth()},e),C=typeof y.padding=="number"?y.padding:3,Y=y.headerBackgroundColor||"#c8c8c8",G=y.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=V,this.internal.__cell__.margins=T,this.internal.__cell__.table_font_size=X,this.internal.__cell__.padding=C,this.internal.__cell__.headerBackgroundColor=Y,this.internal.__cell__.headerTextColor=G,this.setFontSize(X),f==null)p=b=Object.keys(m[0]),w=b.map(function(){return"left"});else if(Array.isArray(f)&&At(f[0])==="object")for(b=f.map(function(K){return K.name}),p=f.map(function(K){return K.prompt||K.name||""}),w=f.map(function(K){return K.align||"left"}),h=0;h<f.length;h+=1)F[f[h].name]=f[h].width*(19.049976/25.4);else Array.isArray(f)&&typeof f[0]=="string"&&(p=b=f,w=b.map(function(){return"left"}));if(E||Array.isArray(f)&&typeof f[0]=="string")for(h=0;h<b.length;h+=1){for(N[_=b[h]]=m.map(function(K){return K[_]}),this.setFont(void 0,"bold"),q.push(this.getTextDimensions(p[h],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),k=N[_],this.setFont(void 0,"normal"),S=0;S<k.length;S+=1)q.push(this.getTextDimensions(k[S],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);F[_]=Math.max.apply(null,q)+C+C,q=[]}if(V){var ce={};for(h=0;h<b.length;h+=1)ce[b[h]]={},ce[b[h]].text=p[h],ce[b[h]].align=w[h];var R=o.call(this,ce,F);L=b.map(function(K){return new s(l,c,F[K],R,ce[K].text,void 0,ce[K].align)}),this.setTableHeaderRow(L),this.printHeaderRow(1,!1)}var j=f.reduce(function(K,ie){return K[ie.name]=ie.align,K},{});for(h=0;h<m.length;h+=1){"rowStart"in y&&y.rowStart instanceof Function&&y.rowStart({row:h,data:m[h]},this);var I=o.call(this,m[h],F);for(S=0;S<b.length;S+=1){var M=m[h][b[S]];"cellStart"in y&&y.cellStart instanceof Function&&y.cellStart({row:h,col:S,data:M},this),a.call(this,new s(l,c,F[b[S]],I,M,h+2,j[b[S]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=c,this};var o=function(l,c){var m=this.internal.__cell__.padding,f=this.internal.__cell__.table_font_size,y=this.internal.scaleFactor;return Object.keys(l).map(function(h){var k=l[h];return this.splitTextToSize(k.hasOwnProperty("text")?k.text:k,c[h]-m-m)},this).map(function(h){return this.getLineHeightFactor()*h.length*f/y+m+m},this).reduce(function(h,k){return Math.max(h,k)},0)};t.setTableHeaderRow=function(l){r.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,c){if(r.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var m;if(n=!0,typeof this.internal.__cell__.headerFunction=="function"){var f=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(f[0],f[1],f[2],f[3],void 0,-1)}this.setFont(void 0,"bold");for(var y=[],h=0;h<this.internal.__cell__.tableHeaderRow.length;h+=1){m=this.internal.__cell__.tableHeaderRow[h].clone(),c&&(m.y=this.internal.__cell__.margins.top||0,y.push(m)),m.lineNumber=l;var k=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,m),this.setTextColor(k)}y.length>0&&this.setTableHeaderRow(y),this.setFont(void 0,"normal"),n=!1}}(Ge.API);var Sw={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},kw=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Gm=_w(kw),Nw=[100,200,300,400,500,600,700,800,900],dA=_w(Nw);function Km(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),n=function(s){return Sw[s=s||"normal"]?s:"normal"}(t.style),r=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof Gm[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:n,weight:r,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,n,r].join(" ")}}}function Uv(t,e,n,r){var i;for(i=n;i>=0&&i<e.length;i+=r)if(t[e[i]])return t[e[i]];for(i=n;i>=0&&i<e.length;i-=r)if(t[e[i]])return t[e[i]]}var hA={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},qv={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function $v(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function fA(t,e,n){for(var r=(n=n||{}).defaultFontFamily||"times",i=Object.assign({},hA,n.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=Km(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[r]))throw new Error("Could not find a font-family for the rule '"+$v(s)+"' and default family '"+r+"'.");if(a=function(l,c){if(c[l])return c[l];var m=Gm[l],f=m<=Gm.normal?-1:1,y=Uv(c,kw,m,f);if(!y)throw new Error("Could not find a matching font-stretch value for "+l);return y}(s.stretch,a),a=function(l,c){if(c[l])return c[l];for(var m=Sw[l],f=0;f<m.length;++f)if(c[m[f]])return c[m[f]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,c){if(c[l])return c[l];if(l===400&&c[500])return c[500];if(l===500&&c[400])return c[400];var m=dA[l],f=Uv(c,Nw,m,l<400?-1:1);if(!f)throw new Error("Could not find a matching font-weight for value "+l);return f}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+$v(s)+"'.");return a}function Wv(t){return t.trimLeft()}function pA(t,e){for(var n=0;n<t.length;){if(t.charAt(n)===e)return[t.substring(0,n),t.substring(n+1)];n+=1}return null}function mA(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var jd,Hv,Vv,jp=["times"];(function(t){var e,n,r,i,s,a,o,l,c,m=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new f(this),e=this.internal.f2,n=this.internal.getCoordinateString,r=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,c=new m}]);var f=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=P;Object.defineProperty(this,"pdf",{get:function(){return B}});var H=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return H},set:function(oe){H=!!oe}});var Z=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Z},set:function(oe){Z=!!oe}});var te=0;Object.defineProperty(this,"posX",{get:function(){return te},set:function(oe){isNaN(oe)||(te=oe)}});var le=0;Object.defineProperty(this,"posY",{get:function(){return le},set:function(oe){isNaN(oe)||(le=oe)}}),Object.defineProperty(this,"margin",{get:function(){return c.margin},set:function(oe){var J;typeof oe=="number"?J=[oe,oe,oe,oe]:((J=new Array(4))[0]=oe[0],J[1]=oe.length>=2?oe[1]:J[0],J[2]=oe.length>=3?oe[2]:J[0],J[3]=oe.length>=4?oe[3]:J[1]),c.margin=J}});var ne=!1;Object.defineProperty(this,"autoPaging",{get:function(){return ne},set:function(oe){ne=oe}});var fe=0;Object.defineProperty(this,"lastBreak",{get:function(){return fe},set:function(oe){fe=oe}});var Ae=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Ae},set:function(oe){Ae=oe}}),Object.defineProperty(this,"ctx",{get:function(){return c},set:function(oe){oe instanceof m&&(c=oe)}}),Object.defineProperty(this,"path",{get:function(){return c.path},set:function(oe){c.path=oe}});var Ne=[];Object.defineProperty(this,"ctxStack",{get:function(){return Ne},set:function(oe){Ne=oe}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(oe){var J;J=y(oe),this.ctx.fillStyle=J.style,this.ctx.isFillTransparent=J.a===0,this.ctx.fillOpacity=J.a,this.pdf.setFillColor(J.r,J.g,J.b,{a:J.a}),this.pdf.setTextColor(J.r,J.g,J.b,{a:J.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(oe){var J=y(oe);this.ctx.strokeStyle=J.style,this.ctx.isStrokeTransparent=J.a===0,this.ctx.strokeOpacity=J.a,J.a===0?this.pdf.setDrawColor(255,255,255):(J.a,this.pdf.setDrawColor(J.r,J.g,J.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(oe){["butt","round","square"].indexOf(oe)!==-1&&(this.ctx.lineCap=oe,this.pdf.setLineCap(oe))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(oe){isNaN(oe)||(this.ctx.lineWidth=oe,this.pdf.setLineWidth(oe))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(oe){["bevel","round","miter"].indexOf(oe)!==-1&&(this.ctx.lineJoin=oe,this.pdf.setLineJoin(oe))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(oe){isNaN(oe)||(this.ctx.miterLimit=oe,this.pdf.setMiterLimit(oe))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(oe){this.ctx.textBaseline=oe}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(oe){["right","end","center","left","start"].indexOf(oe)!==-1&&(this.ctx.textAlign=oe)}});var Ee=null;function Le(oe,J){if(Ee===null){var Te=function(Ce){var _e=[];return Object.keys(Ce).forEach(function(je){Ce[je].forEach(function(De){var Ie=null;switch(De){case"bold":Ie={family:je,weight:"bold"};break;case"italic":Ie={family:je,style:"italic"};break;case"bolditalic":Ie={family:je,weight:"bold",style:"italic"};break;case"":case"normal":Ie={family:je}}Ie!==null&&(Ie.ref={name:je,style:De},_e.push(Ie))})}),_e}(oe.getFontList());Ee=function(Ce){for(var _e={},je=0;je<Ce.length;++je){var De=Km(Ce[je]),Ie=De.family,$e=De.stretch,et=De.style,at=De.weight;_e[Ie]=_e[Ie]||{},_e[Ie][$e]=_e[Ie][$e]||{},_e[Ie][$e][et]=_e[Ie][$e][et]||{},_e[Ie][$e][et][at]=De}return _e}(Te.concat(J))}return Ee}var He=null;Object.defineProperty(this,"fontFaces",{get:function(){return He},set:function(oe){Ee=null,He=oe}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(oe){var J;if(this.ctx.font=oe,(J=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(oe))!==null){var Te=J[1],Ce=(J[2],J[3]),_e=J[4],je=(J[5],J[6]),De=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(_e)[2];_e=Math.floor(De==="px"?parseFloat(_e)*this.pdf.internal.scaleFactor:De==="em"?parseFloat(_e)*this.pdf.getFontSize():parseFloat(_e)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(_e);var Ie=function(Xe){var lt,Fe,Fn=[],yt=Xe.trim();if(yt==="")return jp;if(yt in qv)return[qv[yt]];for(;yt!=="";){switch(Fe=null,lt=(yt=Wv(yt)).charAt(0)){case'"':case"'":Fe=pA(yt.substring(1),lt);break;default:Fe=mA(yt)}if(Fe===null||(Fn.push(Fe[0]),(yt=Wv(Fe[1]))!==""&&yt.charAt(0)!==","))return jp;yt=yt.replace(/^,/,"")}return Fn}(je);if(this.fontFaces){var $e=fA(Le(this.pdf,this.fontFaces),Ie.map(function(Xe){return{family:Xe,stretch:"normal",weight:Ce,style:Te}}));this.pdf.setFont($e.ref.name,$e.ref.style)}else{var et="";(Ce==="bold"||parseInt(Ce,10)>=700||Te==="bold")&&(et="bold"),Te==="italic"&&(et+="italic"),et.length===0&&(et="normal");for(var at="",ot={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},pt=0;pt<Ie.length;pt++){if(this.pdf.internal.getFont(Ie[pt],et,{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[pt];break}if(et==="bolditalic"&&this.pdf.internal.getFont(Ie[pt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)at=Ie[pt],et="bold";else if(this.pdf.internal.getFont(Ie[pt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){at=Ie[pt],et="normal";break}}if(at===""){for(var jt=0;jt<Ie.length;jt++)if(ot[Ie[jt]]){at=ot[Ie[jt]];break}}at=at===""?"Times":at,this.pdf.setFont(at,et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(oe){this.ctx.globalCompositeOperation=oe}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(oe){this.ctx.globalAlpha=oe}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(oe){this.ctx.lineDashOffset=oe,ie.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(oe){this.ctx.lineDash=oe,ie.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(oe){this.ctx.ignoreClearRect=!!oe}})};f.prototype.setLineDash=function(P){this.lineDash=P},f.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},f.prototype.fill=function(){N.call(this,"fill",!1)},f.prototype.stroke=function(){N.call(this,"stroke",!1)},f.prototype.beginPath=function(){this.path=[{type:"begin"}]},f.prototype.moveTo=function(P,B){if(isNaN(P)||isNaN(B))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var H=this.ctx.transform.applyToPoint(new a(P,B));this.path.push({type:"mt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(P,B)},f.prototype.closePath=function(){var P=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&At(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){P=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},f.prototype.lineTo=function(P,B){if(isNaN(P)||isNaN(B))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var H=this.ctx.transform.applyToPoint(new a(P,B));this.path.push({type:"lt",x:H.x,y:H.y}),this.ctx.lastPoint=new a(H.x,H.y)},f.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),N.call(this,null,!0)},f.prototype.quadraticCurveTo=function(P,B,H,Z){if(isNaN(H)||isNaN(Z)||isNaN(P)||isNaN(B))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var te=this.ctx.transform.applyToPoint(new a(H,Z)),le=this.ctx.transform.applyToPoint(new a(P,B));this.path.push({type:"qct",x1:le.x,y1:le.y,x:te.x,y:te.y}),this.ctx.lastPoint=new a(te.x,te.y)},f.prototype.bezierCurveTo=function(P,B,H,Z,te,le){if(isNaN(te)||isNaN(le)||isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ne=this.ctx.transform.applyToPoint(new a(te,le)),fe=this.ctx.transform.applyToPoint(new a(P,B)),Ae=this.ctx.transform.applyToPoint(new a(H,Z));this.path.push({type:"bct",x1:fe.x,y1:fe.y,x2:Ae.x,y2:Ae.y,x:ne.x,y:ne.y}),this.ctx.lastPoint=new a(ne.x,ne.y)},f.prototype.arc=function(P,B,H,Z,te,le){if(isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z)||isNaN(te))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(le=!!le,!this.ctx.transform.isIdentity){var ne=this.ctx.transform.applyToPoint(new a(P,B));P=ne.x,B=ne.y;var fe=this.ctx.transform.applyToPoint(new a(0,H)),Ae=this.ctx.transform.applyToPoint(new a(0,0));H=Math.sqrt(Math.pow(fe.x-Ae.x,2)+Math.pow(fe.y-Ae.y,2))}Math.abs(te-Z)>=2*Math.PI&&(Z=0,te=2*Math.PI),this.path.push({type:"arc",x:P,y:B,radius:H,startAngle:Z,endAngle:te,counterclockwise:le})},f.prototype.arcTo=function(P,B,H,Z,te){throw new Error("arcTo not implemented.")},f.prototype.rect=function(P,B,H,Z){if(isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,B),this.lineTo(P+H,B),this.lineTo(P+H,B+Z),this.lineTo(P,B+Z),this.lineTo(P,B),this.lineTo(P+H,B),this.lineTo(P,B)},f.prototype.fillRect=function(P,B,H,Z){if(isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!h.call(this)){var te={};this.lineCap!=="butt"&&(te.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(te.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,B,H,Z),this.fill(),te.hasOwnProperty("lineCap")&&(this.lineCap=te.lineCap),te.hasOwnProperty("lineJoin")&&(this.lineJoin=te.lineJoin)}},f.prototype.strokeRect=function(P,B,H,Z){if(isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");k.call(this)||(this.beginPath(),this.rect(P,B,H,Z),this.stroke())},f.prototype.clearRect=function(P,B,H,Z){if(isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,B,H,Z))},f.prototype.save=function(P){P=typeof P!="boolean"||P;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var Z=new m(this.ctx);this.ctxStack.push(this.ctx),this.ctx=Z}},f.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,H=0;H<this.pdf.internal.getNumberOfPages();H++)this.pdf.setPage(H+1),this.pdf.internal.out("Q");this.pdf.setPage(B),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},f.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var y=function(P){var B,H,Z,te;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))B=0,H=0,Z=0,te=0;else{var le=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(le!==null)B=parseInt(le[1]),H=parseInt(le[2]),Z=parseInt(le[3]),te=1;else if((le=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)B=parseInt(le[1]),H=parseInt(le[2]),Z=parseInt(le[3]),te=parseFloat(le[4]);else{if(te=1,typeof P=="string"&&P.charAt(0)!=="#"){var ne=new gw(P);P=ne.ok?ne.toHex():"#000000"}P.length===4?(B=P.substring(1,2),B+=B,H=P.substring(2,3),H+=H,Z=P.substring(3,4),Z+=Z):(B=P.substring(1,3),H=P.substring(3,5),Z=P.substring(5,7)),B=parseInt(B,16),H=parseInt(H,16),Z=parseInt(Z,16)}}return{r:B,g:H,b:Z,a:te,style:P}},h=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},k=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};f.prototype.fillText=function(P,B,H,Z){if(isNaN(B)||isNaN(H)||typeof P!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(Z=isNaN(Z)?void 0:Z,!h.call(this)){var te=I(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:P,x:B,y:H,scale:le,angle:te,align:this.textAlign,maxWidth:Z})}},f.prototype.strokeText=function(P,B,H,Z){if(isNaN(B)||isNaN(H)||typeof P!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!k.call(this)){Z=isNaN(Z)?void 0:Z;var te=I(this.ctx.transform.rotation),le=this.ctx.transform.scaleX;C.call(this,{text:P,x:B,y:H,scale:le,renderingMode:"stroke",angle:te,align:this.textAlign,maxWidth:Z})}},f.prototype.measureText=function(P){if(typeof P!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,H=this.pdf.internal.scaleFactor,Z=B.internal.getFontSize(),te=B.getStringUnitWidth(P)*Z/B.internal.scaleFactor,le=function(ne){var fe=(ne=ne||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return fe}}),this};return new le({width:te*=Math.round(96*H/72*1e4)/1e4})},f.prototype.scale=function(P,B){if(isNaN(P)||isNaN(B))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var H=new l(P,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.rotate=function(P){if(isNaN(P))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},f.prototype.translate=function(P,B){if(isNaN(P)||isNaN(B))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var H=new l(1,0,0,1,P,B);this.ctx.transform=this.ctx.transform.multiply(H)},f.prototype.transform=function(P,B,H,Z,te,le){if(isNaN(P)||isNaN(B)||isNaN(H)||isNaN(Z)||isNaN(te)||isNaN(le))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ne=new l(P,B,H,Z,te,le);this.ctx.transform=this.ctx.transform.multiply(ne)},f.prototype.setTransform=function(P,B,H,Z,te,le){P=isNaN(P)?1:P,B=isNaN(B)?0:B,H=isNaN(H)?0:H,Z=isNaN(Z)?1:Z,te=isNaN(te)?0:te,le=isNaN(le)?0:le,this.ctx.transform=new l(P,B,H,Z,te,le)};var S=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};f.prototype.drawImage=function(P,B,H,Z,te,le,ne,fe,Ae){var Ne=this.pdf.getImageProperties(P),Ee=1,Le=1,He=1,oe=1;Z!==void 0&&fe!==void 0&&(He=fe/Z,oe=Ae/te,Ee=Ne.width/Z*fe/Z,Le=Ne.height/te*Ae/te),le===void 0&&(le=B,ne=H,B=0,H=0),Z!==void 0&&fe===void 0&&(fe=Z,Ae=te),Z===void 0&&fe===void 0&&(fe=Ne.width,Ae=Ne.height);for(var J,Te=this.ctx.transform.decompose(),Ce=I(Te.rotate.shx),_e=new l,je=(_e=(_e=(_e=_e.multiply(Te.translate)).multiply(Te.skew)).multiply(Te.scale)).applyToRectangle(new o(le-B*He,ne-H*oe,Z*Ee,te*Le)),De=_.call(this,je),Ie=[],$e=0;$e<De.length;$e+=1)Ie.indexOf(De[$e])===-1&&Ie.push(De[$e]);if(w(Ie),this.autoPaging)for(var et=Ie[0],at=Ie[Ie.length-1],ot=et;ot<at+1;ot++){this.pdf.setPage(ot);var pt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],jt=ot===1?this.posY+this.margin[0]:this.margin[0],Xe=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Fe=ot===1?0:Xe+(ot-2)*lt;if(this.ctx.clip_path.length!==0){var Fn=this.path;J=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(J,this.posX+this.margin[3],-Fe+jt+this.ctx.prevPageLastElemOffset),F.call(this,"fill",!0),this.path=Fn}var yt=JSON.parse(JSON.stringify(je));yt=p([yt],this.posX+this.margin[3],-Fe+jt+this.ctx.prevPageLastElemOffset)[0];var Gr=(ot>et||ot<at)&&S.call(this);Gr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],pt,lt,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",yt.x,yt.y,yt.w,yt.h,null,null,Ce),Gr&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",je.x,je.y,je.w,je.h,null,null,Ce)};var _=function(P,B,H){var Z=[];B=B||this.pdf.internal.pageSize.width,H=H||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var te=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":Z.push(Math.floor((P.y+te)/H)+1);break;case"arc":Z.push(Math.floor((P.y+te-P.radius)/H)+1),Z.push(Math.floor((P.y+te+P.radius)/H)+1);break;case"qct":var le=M(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);Z.push(Math.floor((le.y+te)/H)+1),Z.push(Math.floor((le.y+le.h+te)/H)+1);break;case"bct":var ne=K(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);Z.push(Math.floor((ne.y+te)/H)+1),Z.push(Math.floor((ne.y+ne.h+te)/H)+1);break;case"rect":Z.push(Math.floor((P.y+te)/H)+1),Z.push(Math.floor((P.y+P.h+te)/H)+1)}for(var fe=0;fe<Z.length;fe+=1)for(;this.pdf.internal.getNumberOfPages()<Z[fe];)b.call(this);return Z},b=function(){var P=this.fillStyle,B=this.strokeStyle,H=this.font,Z=this.lineCap,te=this.lineWidth,le=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=B,this.font=H,this.lineCap=Z,this.lineWidth=te,this.lineJoin=le},p=function(P,B,H){for(var Z=0;Z<P.length;Z++)switch(P[Z].type){case"bct":P[Z].x2+=B,P[Z].y2+=H;case"qct":P[Z].x1+=B,P[Z].y1+=H;case"mt":case"lt":case"arc":default:P[Z].x+=B,P[Z].y+=H}return P},w=function(P){return P.sort(function(B,H){return B-H})},N=function(P,B){for(var H,Z,te=this.fillStyle,le=this.strokeStyle,ne=this.lineCap,fe=this.lineWidth,Ae=Math.abs(fe*this.ctx.transform.scaleX),Ne=this.lineJoin,Ee=JSON.parse(JSON.stringify(this.path)),Le=JSON.parse(JSON.stringify(this.path)),He=[],oe=0;oe<Le.length;oe++)if(Le[oe].x!==void 0)for(var J=_.call(this,Le[oe]),Te=0;Te<J.length;Te+=1)He.indexOf(J[Te])===-1&&He.push(J[Te]);for(var Ce=0;Ce<He.length;Ce++)for(;this.pdf.internal.getNumberOfPages()<He[Ce];)b.call(this);if(w(He),this.autoPaging)for(var _e=He[0],je=He[He.length-1],De=_e;De<je+1;De++){this.pdf.setPage(De),this.fillStyle=te,this.strokeStyle=le,this.lineCap=ne,this.lineWidth=Ae,this.lineJoin=Ne;var Ie=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],$e=De===1?this.posY+this.margin[0]:this.margin[0],et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],at=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ot=De===1?0:et+(De-2)*at;if(this.ctx.clip_path.length!==0){var pt=this.path;H=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(H,this.posX+this.margin[3],-ot+$e+this.ctx.prevPageLastElemOffset),F.call(this,P,!0),this.path=pt}if(Z=JSON.parse(JSON.stringify(Ee)),this.path=p(Z,this.posX+this.margin[3],-ot+$e+this.ctx.prevPageLastElemOffset),B===!1||De===0){var jt=(De>_e||De<je)&&S.call(this);jt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Ie,at,null).clip().discardPath()),F.call(this,P,B),jt&&this.pdf.restoreGraphicsState()}this.lineWidth=fe}else this.lineWidth=Ae,F.call(this,P,B),this.lineWidth=fe;this.path=Ee},F=function(P,B){if((P!=="stroke"||B||!k.call(this))&&(P==="stroke"||B||!h.call(this))){for(var H,Z,te=[],le=this.path,ne=0;ne<le.length;ne++){var fe=le[ne];switch(fe.type){case"begin":te.push({begin:!0});break;case"close":te.push({close:!0});break;case"mt":te.push({start:fe,deltas:[],abs:[]});break;case"lt":var Ae=te.length;if(le[ne-1]&&!isNaN(le[ne-1].x)&&(H=[fe.x-le[ne-1].x,fe.y-le[ne-1].y],Ae>0)){for(;Ae>=0;Ae--)if(te[Ae-1].close!==!0&&te[Ae-1].begin!==!0){te[Ae-1].deltas.push(H),te[Ae-1].abs.push(fe);break}}break;case"bct":H=[fe.x1-le[ne-1].x,fe.y1-le[ne-1].y,fe.x2-le[ne-1].x,fe.y2-le[ne-1].y,fe.x-le[ne-1].x,fe.y-le[ne-1].y],te[te.length-1].deltas.push(H);break;case"qct":var Ne=le[ne-1].x+2/3*(fe.x1-le[ne-1].x),Ee=le[ne-1].y+2/3*(fe.y1-le[ne-1].y),Le=fe.x+2/3*(fe.x1-fe.x),He=fe.y+2/3*(fe.y1-fe.y),oe=fe.x,J=fe.y;H=[Ne-le[ne-1].x,Ee-le[ne-1].y,Le-le[ne-1].x,He-le[ne-1].y,oe-le[ne-1].x,J-le[ne-1].y],te[te.length-1].deltas.push(H);break;case"arc":te.push({deltas:[],abs:[],arc:!0}),Array.isArray(te[te.length-1].abs)&&te[te.length-1].abs.push(fe)}}Z=B?null:P==="stroke"?"stroke":"fill";for(var Te=!1,Ce=0;Ce<te.length;Ce++)if(te[Ce].arc)for(var _e=te[Ce].abs,je=0;je<_e.length;je++){var De=_e[je];De.type==="arc"?E.call(this,De.x,De.y,De.radius,De.startAngle,De.endAngle,De.counterclockwise,void 0,B,!Te):Y.call(this,De.x,De.y),Te=!0}else if(te[Ce].close===!0)this.pdf.internal.out("h"),Te=!1;else if(te[Ce].begin!==!0){var Ie=te[Ce].start.x,$e=te[Ce].start.y;G.call(this,te[Ce].deltas,Ie,$e),Te=!0}Z&&V.call(this,Z),B&&X.call(this)}},q=function(P){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,H=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-H;case"top":return P+B-H;case"hanging":return P+B-2*H;case"middle":return P+B/2-H;case"ideographic":return P;case"alphabetic":default:return P}},L=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};f.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(B,H){this.colorStops.push([B,H])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},f.prototype.createPattern=function(){return this.createLinearGradient()},f.prototype.createRadialGradient=function(){return this.createLinearGradient()};var E=function(P,B,H,Z,te,le,ne,fe,Ae){for(var Ne=R.call(this,H,Z,te,le),Ee=0;Ee<Ne.length;Ee++){var Le=Ne[Ee];Ee===0&&(Ae?T.call(this,Le.x1+P,Le.y1+B):Y.call(this,Le.x1+P,Le.y1+B)),ce.call(this,P,B,Le.x2,Le.y2,Le.x3,Le.y3,Le.x4,Le.y4)}fe?X.call(this):V.call(this,ne)},V=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},X=function(){this.pdf.clip(),this.pdf.discardPath()},T=function(P,B){this.pdf.internal.out(n(P)+" "+r(B)+" m")},C=function(P){var B;switch(P.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var H=this.pdf.getTextDimensions(P.text),Z=q.call(this,P.y),te=L.call(this,Z)-H.h,le=this.ctx.transform.applyToPoint(new a(P.x,Z)),ne=this.ctx.transform.decompose(),fe=new l;fe=(fe=(fe=fe.multiply(ne.translate)).multiply(ne.skew)).multiply(ne.scale);for(var Ae,Ne,Ee,Le=this.ctx.transform.applyToRectangle(new o(P.x,Z,H.w,H.h)),He=fe.applyToRectangle(new o(P.x,te,H.w,H.h)),oe=_.call(this,He),J=[],Te=0;Te<oe.length;Te+=1)J.indexOf(oe[Te])===-1&&J.push(oe[Te]);if(w(J),this.autoPaging)for(var Ce=J[0],_e=J[J.length-1],je=Ce;je<_e+1;je++){this.pdf.setPage(je);var De=je===1?this.posY+this.margin[0]:this.margin[0],Ie=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$e=this.pdf.internal.pageSize.height-this.margin[2],et=$e-this.margin[0],at=this.pdf.internal.pageSize.width-this.margin[1],ot=at-this.margin[3],pt=je===1?0:Ie+(je-2)*et;if(this.ctx.clip_path.length!==0){var jt=this.path;Ae=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=p(Ae,this.posX+this.margin[3],-1*pt+De),F.call(this,"fill",!0),this.path=jt}var Xe=p([JSON.parse(JSON.stringify(He))],this.posX+this.margin[3],-pt+De+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*P.scale),Ee=this.lineWidth,this.lineWidth=Ee*P.scale);var lt=this.autoPaging!=="text";if(lt||Xe.y+Xe.h<=$e){if(lt||Xe.y>=De&&Xe.x<=at){var Fe=lt?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||at-Xe.x)[0],Fn=p([JSON.parse(JSON.stringify(Le))],this.posX+this.margin[3],-pt+De+this.ctx.prevPageLastElemOffset)[0],yt=lt&&(je>Ce||je<_e)&&S.call(this);yt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],ot,et,null).clip().discardPath()),this.pdf.text(Fe,Fn.x,Fn.y,{angle:P.angle,align:B,renderingMode:P.renderingMode}),yt&&this.pdf.restoreGraphicsState()}}else Xe.y<$e&&(this.ctx.prevPageLastElemOffset+=$e-Xe.y);P.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Ee)}else P.scale>=.01&&(Ne=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Ne*P.scale),Ee=this.lineWidth,this.lineWidth=Ee*P.scale),this.pdf.text(P.text,le.x+this.posX,le.y+this.posY,{angle:P.angle,align:B,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Ne),this.lineWidth=Ee)},Y=function(P,B,H,Z){H=H||0,Z=Z||0,this.pdf.internal.out(n(P+H)+" "+r(B+Z)+" l")},G=function(P,B,H){return this.pdf.lines(P,B,H,null,null)},ce=function(P,B,H,Z,te,le,ne,fe){this.pdf.internal.out([e(i(H+P)),e(s(Z+B)),e(i(te+P)),e(s(le+B)),e(i(ne+P)),e(s(fe+B)),"c"].join(" "))},R=function(P,B,H,Z){for(var te=2*Math.PI,le=Math.PI/2;B>H;)B-=te;var ne=Math.abs(H-B);ne<te&&Z&&(ne=te-ne);for(var fe=[],Ae=Z?-1:1,Ne=B;ne>1e-5;){var Ee=Ne+Ae*Math.min(ne,le);fe.push(j.call(this,P,Ne,Ee)),ne-=Math.abs(Ee-Ne),Ne=Ee}return fe},j=function(P,B,H){var Z=(H-B)/2,te=P*Math.cos(Z),le=P*Math.sin(Z),ne=te,fe=-le,Ae=ne*ne+fe*fe,Ne=Ae+ne*te+fe*le,Ee=4/3*(Math.sqrt(2*Ae*Ne)-Ne)/(ne*le-fe*te),Le=ne-Ee*fe,He=fe+Ee*ne,oe=Le,J=-He,Te=Z+B,Ce=Math.cos(Te),_e=Math.sin(Te);return{x1:P*Math.cos(B),y1:P*Math.sin(B),x2:Le*Ce-He*_e,y2:Le*_e+He*Ce,x3:oe*Ce-J*_e,y3:oe*_e+J*Ce,x4:P*Math.cos(H),y4:P*Math.sin(H)}},I=function(P){return 180*P/Math.PI},M=function(P,B,H,Z,te,le){var ne=P+.5*(H-P),fe=B+.5*(Z-B),Ae=te+.5*(H-te),Ne=le+.5*(Z-le),Ee=Math.min(P,te,ne,Ae),Le=Math.max(P,te,ne,Ae),He=Math.min(B,le,fe,Ne),oe=Math.max(B,le,fe,Ne);return new o(Ee,He,Le-Ee,oe-He)},K=function(P,B,H,Z,te,le,ne,fe){var Ae,Ne,Ee,Le,He,oe,J,Te,Ce,_e,je,De,Ie,$e,et=H-P,at=Z-B,ot=te-H,pt=le-Z,jt=ne-te,Xe=fe-le;for(Ne=0;Ne<41;Ne++)Ce=(J=(Ee=P+(Ae=Ne/40)*et)+Ae*((He=H+Ae*ot)-Ee))+Ae*(He+Ae*(te+Ae*jt-He)-J),_e=(Te=(Le=B+Ae*at)+Ae*((oe=Z+Ae*pt)-Le))+Ae*(oe+Ae*(le+Ae*Xe-oe)-Te),Ne==0?(je=Ce,De=_e,Ie=Ce,$e=_e):(je=Math.min(je,Ce),De=Math.min(De,_e),Ie=Math.max(Ie,Ce),$e=Math.max($e,_e));return new o(Math.round(je),Math.round(De),Math.round(Ie-je),Math.round($e-De))},ie=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,B,H=(P=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:B}));this.prevLineDash!==H&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=H)}}})(Ge.API),function(t){var e=function(s){var a,o,l,c,m,f,y,h,k,S;for(o=[],l=0,c=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;c>l;l+=4)(m=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(f=(m=((m=((m=((m=(m-(S=m%85))/85)-(k=m%85))/85)-(h=m%85))/85)-(y=m%85))/85)%85,o.push(f+33,y+33,h+33,k+33,S+33)):o.push(122);return function(_,b){for(var p=b;p>0;p--)_.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},n=function(s){var a,o,l,c,m,f=String,y="length",h=255,k="charCodeAt",S="slice",_="replace";for(s[S](-2),s=s[S](0,-2)[_](/\s/g,"")[_]("z","!!!!!"),l=[],c=0,m=(s+=a="uuuuu"[S](s[y]%5||5))[y];m>c;c+=5)o=52200625*(s[k](c)-33)+614125*(s[k](c+1)-33)+7225*(s[k](c+2)-33)+85*(s[k](c+3)-33)+(s[k](c+4)-33),l.push(h&o>>24,h&o>>16,h&o>>8,h&o);return function(b,p){for(var w=p;w>0;w--)b.pop()}(l,a[y]),f.fromCharCode.apply(f,l)},r=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=qm(a)).reduce(function(l,c){return l+String.fromCharCode(c)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",c=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=n(l),c.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),c.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=r(l),c.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(m){return("0"+m.charCodeAt().toString(16)).slice(-2)}).join("")+">",c.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),c.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:c.reverse().join(" ")}}}(Ge.API),function(t){t.loadFile=function(e,n,r){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,c,m){var f=new XMLHttpRequest,y=0,h=function(k){var S=k.length,_=[],b=String.fromCharCode;for(y=0;y<S;y+=1)_.push(b(255&k.charCodeAt(y)));return _.join("")};if(f.open("GET",l,!c),f.overrideMimeType("text/plain; charset=x-user-defined"),c===!1&&(f.onload=function(){f.status===200?m(h(this.responseText)):m(void 0)}),f.send(null),c&&f.status===200)return h(f.responseText)}(i,s,a)}catch{}return o}(e,n,r)},t.loadImageFile=t.loadFile}(Ge.API),function(t){function e(){return(Qe.html2canvas?Promise.resolve(Qe.html2canvas):Fm(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function n(){return(Qe.DOMPurify?Promise.resolve(Qe.DOMPurify):Fm(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var r=function(a){var o=At(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var c in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[c]=o.style[c];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),c=a.convert(Promise.resolve(),l);return c=(c=c.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(r(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(n).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(c,m){for(var f=c.nodeType===3?document.createTextNode(c.nodeValue):c.cloneNode(!1),y=c.firstChild;y;y=y.nextSibling)m!==!0&&y.nodeType===1&&y.nodeName==="SCRIPT"||f.appendChild(l(y,m));return c.nodeType===1&&(c.nodeName==="CANVAS"?(f.width=c.width,f.height=c.height,f.getContext("2d").drawImage(c,0,0)):c.nodeName!=="TEXTAREA"&&c.nodeName!=="SELECT"||(f.value=c.value),f.addEventListener("load",function(){f.scrollTop=c.scrollTop,f.scrollLeft=c.scrollLeft},!0)),f}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,c=this.opt.fontFaces,m=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,f=Object.assign({async:!0,allowTaint:!0,scale:m,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete f.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=c,c)for(var y=0;y<c.length;++y){var h=c[y],k=h.src.find(function(S){return S.format==="truetype"});k&&l.addFont(k.url,h.ref.name,h.ref.style)}return f.windowHeight=f.windowHeight||0,f.windowHeight=f.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):f.windowHeight,l.context2d.save(!0),o(this.prop.container,f)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(r(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(r(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,c){return Math.floor(l*c/72*96)}return this.then(function(){(a=a||Ge.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,c){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),c!=null&&(this.progress.stack=c),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,c){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,c?this.progress.stack.concat(c):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(c,m){return l.updateProgress(null,null,1,[c]),Promise.prototype.then.call(this,function(f){return l.updateProgress(null,c),f}).then(c,m).then(function(f){return l.updateProgress(1),f})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var c=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),m=l.call(c,a,o);return s.convert(m,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ge.getPageSize=function(a,o,l){if(At(a)==="object"){var c=a;a=c.orientation,o=c.unit||o,l=c.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var m,f=(""+l).toLowerCase(),y={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":m=1;break;case"mm":m=72/25.4;break;case"cm":m=72/2.54;break;case"in":m=72;break;case"px":m=.75;break;case"pc":case"em":m=12;break;case"ex":m=6;break;default:throw"Invalid unit: "+o}var h,k=0,S=0;if(y.hasOwnProperty(f))k=y[f][1]/m,S=y[f][0]/m;else try{k=l[1],S=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",S>k&&(h=S,S=k,k=h);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",k>S&&(h=S,S=k,k=h)}return{width:S,height:k,unit:o,k:m,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(Km):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(Ge.API),Ge.API.addJS=function(t){return Vv=t,this.internal.events.subscribe("postPutResources",function(){jd=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(jd+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),Hv=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+Vv+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){jd!==void 0&&Hv!==void 0&&this.internal.out("/Names <</JavaScript "+jd+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var n=this,r=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=n.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=r.exec(a);if(o!=null){var l=o[1];n.internal.newObjectDeferredBegin(l,!1)}n.internal.write(a)}if(this.outline.createNamedDestinations){var c=this.internal.pages.length,m=[];for(s=0;s<c;s++){var f=n.internal.newObject();m.push(f);var y=n.internal.getPageInfo(s+1);n.internal.write("<< /D["+y.objId+" 0 R /XYZ null null null]>> endobj")}var h=n.internal.newObject();for(n.internal.write("<< /Names [ "),s=0;s<m.length;s++)n.internal.write("(page_"+(s+1)+")"+m[s]+" 0 R");n.internal.write(" ] >>","endobj"),e=n.internal.newObject(),n.internal.write("<< /Dests "+h+" 0 R"),n.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var n=this;n.outline={createNamedDestinations:!1,root:{children:[]}},n.outline.add=function(r,i,s){var a={title:i,options:s,children:[]};return r==null&&(r=this.root),r.children.push(a),a},n.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=n,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},n.outline.genIds_r=function(r){r.id=n.internal.newObjectDeferred();for(var i=0;i<r.children.length;i++)this.genIds_r(r.children[i])},n.outline.renderRoot=function(r){this.objStart(r),this.line("/Type /Outlines"),r.children.length>0&&(this.line("/First "+this.makeRef(r.children[0])),this.line("/Last "+this.makeRef(r.children[r.children.length-1]))),this.line("/Count "+this.count_r({count:0},r)),this.objEnd()},n.outline.renderItems=function(r){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<r.children.length;s++){var a=r.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(r)),s>0&&this.line("/Prev "+this.makeRef(r.children[s-1])),s<r.children.length-1&&this.line("/Next "+this.makeRef(r.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=n.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var c=0;c<r.children.length;c++)this.renderItems(r.children[c])},n.outline.line=function(r){this.ctx.val+=r+`\r
`},n.outline.makeRef=function(r){return r.id+" 0 R"},n.outline.makeString=function(r){return"("+n.internal.pdfEscape(r)+")"},n.outline.objStart=function(r){this.ctx.val+=`\r
`+r.id+` 0 obj\r
<<\r
`},n.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},n.outline.count_r=function(r,i){for(var s=0;s<i.children.length;s++)r.count++,this.count_r(r,i.children[s]);return r.count}}])}(Ge.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(n,r,i,s,a,o){var l,c=this.decode.DCT_DECODE,m=null;if(typeof n=="string"||this.__addimage__.isArrayBuffer(n)||this.__addimage__.isArrayBufferView(n)){switch(n=a||n,n=this.__addimage__.isArrayBuffer(n)?new Uint8Array(n):n,(l=function(f){for(var y,h=256*f.charCodeAt(4)+f.charCodeAt(5),k=f.length,S={width:0,height:0,numcomponents:1},_=4;_<k;_+=2){if(_+=h,e.indexOf(f.charCodeAt(_+1))!==-1){y=256*f.charCodeAt(_+5)+f.charCodeAt(_+6),S={width:256*f.charCodeAt(_+7)+f.charCodeAt(_+8),height:y,numcomponents:f.charCodeAt(_+9)};break}h=256*f.charCodeAt(_+2)+f.charCodeAt(_+3)}return S}(n=this.__addimage__.isArrayBufferView(n)?this.__addimage__.arrayBufferToBinaryString(n):n)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}m={data:n,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:c,index:r,alias:i}}return m}}(Ge.API);var Mo,Cd,Gv,Kv,Yv,gA=function(){var t,e,n;function r(s){var a,o,l,c,m,f,y,h,k,S,_,b,p,w;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},f=null;;){switch(a=this.readUInt32(),k=(function(){var N,F;for(F=[],N=0;N<4;++N)F.push(String.fromCharCode(this.data[this.pos++]));return F}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":f&&this.animation.frames.push(f),this.pos+=4,f={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},m=this.readUInt16(),c=this.readUInt16()||100,f.delay=1e3*m/c,f.disposeOp=this.data[this.pos++],f.blendOp=this.data[this.pos++],f.data=[];break;case"IDAT":case"fdAT":for(k==="fdAT"&&(this.pos+=4,a-=4),s=(f!=null?f.data:void 0)||this.imgData,b=0;0<=a?b<a:b>a;0<=a?++b:--b)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((S=l-this.transparency.indexed.length)>0)for(p=0;0<=S?p<S:p>S;0<=S?++p:--p)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":y=(_=this.read(a)).indexOf(0),h=String.fromCharCode.apply(String,_.slice(0,y)),this.text[h]=String.fromCharCode.apply(String,_.slice(y+1));break;case"IEND":return f&&this.animation.frames.push(f),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(w=this.colorType)===4||w===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}r.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},r.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},r.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,c=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function m(f,y,h,k){var S,_,b,p,w,N,F,q,L,E,V,X,T,C,Y,G,ce,R,j,I,M,K=Math.ceil((c.width-f)/h),ie=Math.ceil((c.height-y)/k),P=c.width==K&&c.height==ie;for(C=a*K,X=P?o:new Uint8Array(C*ie),N=s.length,T=0,_=0;T<ie&&l<N;){switch(s[l++]){case 0:for(p=ce=0;ce<C;p=ce+=1)X[_++]=s[l++];break;case 1:for(p=R=0;R<C;p=R+=1)S=s[l++],w=p<a?0:X[_-a],X[_++]=(S+w)%256;break;case 2:for(p=j=0;j<C;p=j+=1)S=s[l++],b=(p-p%a)/a,Y=T&&X[(T-1)*C+b*a+p%a],X[_++]=(Y+S)%256;break;case 3:for(p=I=0;I<C;p=I+=1)S=s[l++],b=(p-p%a)/a,w=p<a?0:X[_-a],Y=T&&X[(T-1)*C+b*a+p%a],X[_++]=(S+Math.floor((w+Y)/2))%256;break;case 4:for(p=M=0;M<C;p=M+=1)S=s[l++],b=(p-p%a)/a,w=p<a?0:X[_-a],T===0?Y=G=0:(Y=X[(T-1)*C+b*a+p%a],G=b&&X[(T-1)*C+(b-1)*a+p%a]),F=w+Y-G,q=Math.abs(F-w),E=Math.abs(F-Y),V=Math.abs(F-G),L=q<=E&&q<=V?w:E<=V?Y:G,X[_++]=(S+L)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!P){var B=((y+T*k)*c.width+f)*a,H=T*C;for(p=0;p<K;p+=1){for(var Z=0;Z<a;Z+=1)o[B++]=X[H++];B+=(h-1)*a}}T++}}return s=GN(s),c.interlaceMethod==1?(m(0,0,8,8),m(4,0,8,8),m(0,4,4,8),m(2,0,4,4),m(0,2,2,4),m(1,0,2,2),m(0,1,1,2)):m(0,0,1,1),o},r.prototype.decodePalette=function(){var s,a,o,l,c,m,f,y,h;for(o=this.palette,m=this.transparency.indexed||[],c=new Uint8Array((m.length||0)+o.length),l=0,s=0,a=f=0,y=o.length;f<y;a=f+=3)c[l++]=o[a],c[l++]=o[a+1],c[l++]=o[a+2],c[l++]=(h=m[s++])!=null?h:255;return c},r.prototype.copyToImageData=function(s,a){var o,l,c,m,f,y,h,k,S,_,b;if(l=this.colors,S=null,o=this.hasAlphaChannel,this.palette.length&&(S=(b=this._decodedPalette)!=null?b:this._decodedPalette=this.decodePalette(),l=4,o=!0),k=(c=s.data||s).length,f=S||a,m=y=0,l===1)for(;m<k;)h=S?4*a[m/4]:y,_=f[h++],c[m++]=_,c[m++]=_,c[m++]=_,c[m++]=o?f[h++]:255,y=h;else for(;m<k;)h=S?4*a[m/4]:y,c[m++]=f[h++],c[m++]=f[h++],c[m++]=f[h++],c[m++]=o?f[h++]:255,y=h},r.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Qe)==="[object Window]"){try{e=Qe.document.createElement("canvas"),n=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return n.width=s.width,n.height=s.height,n.clearRect(0,0,s.width,s.height),n.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},r.prototype.decodeFrames=function(s){var a,o,l,c,m,f,y,h;if(this.animation){for(h=[],o=m=0,f=(y=this.animation.frames).length;m<f;o=++m)a=y[o],l=s.createImageData(a.width,a.height),c=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,c),a.imageData=l,h.push(a.image=t(l));return h}},r.prototype.renderFrame=function(s,a){var o,l,c;return o=(l=this.animation.frames)[a],c=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(c!=null?c.disposeOp:void 0)===1?s.clearRect(c.xOffset,c.yOffset,c.width,c.height):(c!=null?c.disposeOp:void 0)===2&&s.putImageData(c.imageData,c.xOffset,c.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},r.prototype.animate=function(s){var a,o,l,c,m,f,y=this;return o=0,f=this.animation,c=f.numFrames,l=f.frames,m=f.numPlays,(a=function(){var h,k;if(h=o++%c,k=l[h],y.renderFrame(s,h),c>1&&o/c<m)return y.animation._timeout=setTimeout(a,k.delay)})()},r.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},r.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},r}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function vA(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var n=t[e++]|t[e++]<<8,r=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var c=!0,m=[],f=0,y=null,h=0,k=null;for(this.width=n,this.height=r;c&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,k=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var S=t[e++];f=t[e++]|t[e++]<<8,y=t[e++],!(1&S)&&(y=null),h=S>>2&7,e++;break;case 254:for(;;){if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var _=t[e++]|t[e++]<<8,b=t[e++]|t[e++]<<8,p=t[e++]|t[e++]<<8,w=t[e++]|t[e++]<<8,N=t[e++],F=N>>6&1,q=1<<(7&N)+1,L=o,E=l,V=!1;N>>7&&(V=!0,L=e,E=q,e+=3*q);var X=e;for(e++;;){var T;if(!((T=t[e++])>=0))throw Error("Invalid block size");if(T===0)break;e+=T}m.push({x:_,y:b,width:p,height:w,has_local_palette:V,palette_offset:L,palette_size:E,data_offset:X,data_length:e-X,transparent_index:y,interlaced:!!F,delay:f,disposal:h});break;case 59:c=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return m.length},this.loopCount=function(){return k},this.frameInfo=function(C){if(C<0||C>=m.length)throw new Error("Frame index out of range.");return m[C]},this.decodeAndBlitFrameBGRA=function(C,Y){var G=this.frameInfo(C),ce=G.width*G.height,R=new Uint8Array(ce);Jv(t,G.data_offset,R,ce);var j=G.palette_offset,I=G.transparent_index;I===null&&(I=256);var M=G.width,K=n-M,ie=M,P=4*(G.y*n+G.x),B=4*((G.y+G.height)*n+G.x),H=P,Z=4*K;G.interlaced===!0&&(Z+=4*n*7);for(var te=8,le=0,ne=R.length;le<ne;++le){var fe=R[le];if(ie===0&&(ie=M,(H+=Z)>=B&&(Z=4*K+4*n*(te-1),H=P+(M+K)*(te<<1),te>>=1)),fe===I)H+=4;else{var Ae=t[j+3*fe],Ne=t[j+3*fe+1],Ee=t[j+3*fe+2];Y[H++]=Ee,Y[H++]=Ne,Y[H++]=Ae,Y[H++]=255}--ie}},this.decodeAndBlitFrameRGBA=function(C,Y){var G=this.frameInfo(C),ce=G.width*G.height,R=new Uint8Array(ce);Jv(t,G.data_offset,R,ce);var j=G.palette_offset,I=G.transparent_index;I===null&&(I=256);var M=G.width,K=n-M,ie=M,P=4*(G.y*n+G.x),B=4*((G.y+G.height)*n+G.x),H=P,Z=4*K;G.interlaced===!0&&(Z+=4*n*7);for(var te=8,le=0,ne=R.length;le<ne;++le){var fe=R[le];if(ie===0&&(ie=M,(H+=Z)>=B&&(Z=4*K+4*n*(te-1),H=P+(M+K)*(te<<1),te>>=1)),fe===I)H+=4;else{var Ae=t[j+3*fe],Ne=t[j+3*fe+1],Ee=t[j+3*fe+2];Y[H++]=Ae,Y[H++]=Ne,Y[H++]=Ee,Y[H++]=255}--ie}}}function Jv(t,e,n,r){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,c=(1<<l)-1,m=0,f=0,y=0,h=t[e++],k=new Int32Array(4096),S=null;;){for(;m<16&&h!==0;)f|=t[e++]<<m,m+=8,h===1?h=t[e++]:--h;if(m<l)break;var _=f&c;if(f>>=l,m-=l,_!==s){if(_===a)break;for(var b=_<o?_:S,p=0,w=b;w>s;)w=k[w]>>8,++p;var N=w;if(y+p+(b!==_?1:0)>r)return void Tt.log("Warning, gif stream longer than expected.");n[y++]=N;var F=y+=p;for(b!==_&&(n[y++]=N),w=b;p--;)w=k[w],n[--F]=255&w,w>>=8;S!==null&&o<4096&&(k[o++]=S<<8|N,o>=c+1&&l<12&&(++l,c=c<<1|1)),S=_}else o=a+1,c=(1<<(l=i+1))-1,S=null}return y!==r&&Tt.log("Warning, gif stream shorter than expected."),n}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Cp(t){var e,n,r,i,s,a=Math.floor,o=new Array(64),l=new Array(64),c=new Array(64),m=new Array(64),f=new Array(65535),y=new Array(65535),h=new Array(64),k=new Array(64),S=[],_=0,b=7,p=new Array(64),w=new Array(64),N=new Array(64),F=new Array(256),q=new Array(2048),L=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],E=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],V=[0,1,2,3,4,5,6,7,8,9,10,11],X=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],T=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],C=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Y=[0,1,2,3,4,5,6,7,8,9,10,11],G=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],ce=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function R(P,B){for(var H=0,Z=0,te=new Array,le=1;le<=16;le++){for(var ne=1;ne<=P[le];ne++)te[B[Z]]=[],te[B[Z]][0]=H,te[B[Z]][1]=le,Z++,H++;H*=2}return te}function j(P){for(var B=P[0],H=P[1]-1;H>=0;)B&1<<H&&(_|=1<<b),H--,--b<0&&(_==255?(I(255),I(0)):I(_),b=7,_=0)}function I(P){S.push(P)}function M(P){I(P>>8&255),I(255&P)}function K(P,B,H,Z,te){for(var le,ne=te[0],fe=te[240],Ae=function(_e,je){var De,Ie,$e,et,at,ot,pt,jt,Xe,lt,Fe=0;for(Xe=0;Xe<8;++Xe){De=_e[Fe],Ie=_e[Fe+1],$e=_e[Fe+2],et=_e[Fe+3],at=_e[Fe+4],ot=_e[Fe+5],pt=_e[Fe+6];var Fn=De+(jt=_e[Fe+7]),yt=De-jt,Gr=Ie+pt,Et=Ie-pt,Bt=$e+ot,bi=$e-ot,xt=et+at,la=et-at,Gt=Fn+xt,Kr=Fn-xt,qi=Gr+Bt,Kt=Gr-Bt;_e[Fe]=Gt+qi,_e[Fe+4]=Gt-qi;var tt=.707106781*(Kt+Kr);_e[Fe+2]=Kr+tt,_e[Fe+6]=Kr-tt;var _t=.382683433*((Gt=la+bi)-(Kt=Et+yt)),ua=.5411961*Gt+_t,Pn=1.306562965*Kt+_t,xi=.707106781*(qi=bi+Et),_i=yt+xi,Ke=yt-xi;_e[Fe+5]=Ke+ua,_e[Fe+3]=Ke-ua,_e[Fe+1]=_i+Pn,_e[Fe+7]=_i-Pn,Fe+=8}for(Fe=0,Xe=0;Xe<8;++Xe){De=_e[Fe],Ie=_e[Fe+8],$e=_e[Fe+16],et=_e[Fe+24],at=_e[Fe+32],ot=_e[Fe+40],pt=_e[Fe+48];var Yr=De+(jt=_e[Fe+56]),Si=De-jt,rr=Ie+pt,mn=Ie-pt,un=$e+ot,mr=$e-ot,Xa=et+at,$i=et-at,Jr=Yr+Xa,Qr=Yr-Xa,Xr=rr+un,ki=rr-un;_e[Fe]=Jr+Xr,_e[Fe+32]=Jr-Xr;var Lr=.707106781*(ki+Qr);_e[Fe+16]=Qr+Lr,_e[Fe+48]=Qr-Lr;var Ni=.382683433*((Jr=$i+mr)-(ki=mn+Si)),ca=.5411961*Jr+Ni,Za=1.306562965*ki+Ni,eo=.707106781*(Xr=mr+mn),to=Si+eo,no=Si-eo;_e[Fe+40]=no+ca,_e[Fe+24]=no-ca,_e[Fe+8]=to+Za,_e[Fe+56]=to-Za,Fe++}for(Xe=0;Xe<64;++Xe)lt=_e[Xe]*je[Xe],h[Xe]=lt>0?lt+.5|0:lt-.5|0;return h}(P,B),Ne=0;Ne<64;++Ne)k[L[Ne]]=Ae[Ne];var Ee=k[0]-H;H=k[0],Ee==0?j(Z[0]):(j(Z[y[le=32767+Ee]]),j(f[le]));for(var Le=63;Le>0&&k[Le]==0;)Le--;if(Le==0)return j(ne),H;for(var He,oe=1;oe<=Le;){for(var J=oe;k[oe]==0&&oe<=Le;)++oe;var Te=oe-J;if(Te>=16){He=Te>>4;for(var Ce=1;Ce<=He;++Ce)j(fe);Te&=15}le=32767+k[oe],j(te[(Te<<4)+y[le]]),j(f[le]),oe++}return Le!=63&&j(ne),H}function ie(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(B){for(var H=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],Z=0;Z<64;Z++){var te=a((H[Z]*B+50)/100);te=Math.min(Math.max(te,1),255),o[L[Z]]=te}for(var le=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ne=0;ne<64;ne++){var fe=a((le[ne]*B+50)/100);fe=Math.min(Math.max(fe,1),255),l[L[ne]]=fe}for(var Ae=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Ne=0,Ee=0;Ee<8;Ee++)for(var Le=0;Le<8;Le++)c[Ne]=1/(o[L[Ne]]*Ae[Ee]*Ae[Le]*8),m[Ne]=1/(l[L[Ne]]*Ae[Ee]*Ae[Le]*8),Ne++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,B){B&&ie(B),S=new Array,_=0,b=7,M(65496),M(65504),M(16),I(74),I(70),I(73),I(70),I(0),I(1),I(1),I(0),M(1),M(1),I(0),I(0),function(){M(65499),M(132),I(0);for(var Ie=0;Ie<64;Ie++)I(o[Ie]);I(1);for(var $e=0;$e<64;$e++)I(l[$e])}(),function(Ie,$e){M(65472),M(17),I(8),M($e),M(Ie),I(3),I(1),I(17),I(0),I(2),I(17),I(1),I(3),I(17),I(1)}(P.width,P.height),function(){M(65476),M(418),I(0);for(var Ie=0;Ie<16;Ie++)I(E[Ie+1]);for(var $e=0;$e<=11;$e++)I(V[$e]);I(16);for(var et=0;et<16;et++)I(X[et+1]);for(var at=0;at<=161;at++)I(T[at]);I(1);for(var ot=0;ot<16;ot++)I(C[ot+1]);for(var pt=0;pt<=11;pt++)I(Y[pt]);I(17);for(var jt=0;jt<16;jt++)I(G[jt+1]);for(var Xe=0;Xe<=161;Xe++)I(ce[Xe])}(),M(65498),M(12),I(3),I(1),I(0),I(2),I(17),I(3),I(17),I(0),I(63),I(0);var H=0,Z=0,te=0;_=0,b=7,this.encode.displayName="_encode_";for(var le,ne,fe,Ae,Ne,Ee,Le,He,oe,J=P.data,Te=P.width,Ce=P.height,_e=4*Te,je=0;je<Ce;){for(le=0;le<_e;){for(Ne=_e*je+le,Le=-1,He=0,oe=0;oe<64;oe++)Ee=Ne+(He=oe>>3)*_e+(Le=4*(7&oe)),je+He>=Ce&&(Ee-=_e*(je+1+He-Ce)),le+Le>=_e&&(Ee-=le+Le-_e+4),ne=J[Ee++],fe=J[Ee++],Ae=J[Ee++],p[oe]=(q[ne]+q[fe+256>>0]+q[Ae+512>>0]>>16)-128,w[oe]=(q[ne+768>>0]+q[fe+1024>>0]+q[Ae+1280>>0]>>16)-128,N[oe]=(q[ne+1280>>0]+q[fe+1536>>0]+q[Ae+1792>>0]>>16)-128;H=K(p,c,H,e,r),Z=K(w,m,Z,n,i),te=K(N,m,te,n,i),le+=32}je+=8}if(b>=0){var De=[];De[1]=b+1,De[0]=(1<<b+1)-1,j(De)}return M(65497),new Uint8Array(S)},t=t||50,function(){for(var P=String.fromCharCode,B=0;B<256;B++)F[B]=P(B)}(),e=R(E,V),n=R(C,Y),r=R(X,T),i=R(G,ce),function(){for(var P=1,B=2,H=1;H<=15;H++){for(var Z=P;Z<B;Z++)y[32767+Z]=H,f[32767+Z]=[],f[32767+Z][1]=H,f[32767+Z][0]=Z;for(var te=-(B-1);te<=-P;te++)y[32767+te]=H,f[32767+te]=[],f[32767+te][1]=H,f[32767+te][0]=B-1+te;P<<=1,B<<=1}}(),function(){for(var P=0;P<256;P++)q[P]=19595*P,q[P+256>>0]=38470*P,q[P+512>>0]=7471*P+32768,q[P+768>>0]=-11059*P,q[P+1024>>0]=-21709*P,q[P+1280>>0]=32768*P+8421375,q[P+1536>>0]=-27439*P,q[P+1792>>0]=-5329*P}(),ie(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ai(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Qv(t){function e(E){if(!E)throw Error("assert :P")}function n(E,V,X){for(var T=0;4>T;T++)if(E[V+T]!=X.charCodeAt(T))return!0;return!1}function r(E,V,X,T,C){for(var Y=0;Y<C;Y++)E[V+Y]=X[T+Y]}function i(E,V,X,T){for(var C=0;C<T;C++)E[V+C]=X}function s(E){return new Int32Array(E)}function a(E,V){for(var X=[],T=0;T<E;T++)X.push(new V);return X}function o(E,V){var X=[];return function T(C,Y,G){for(var ce=G[Y],R=0;R<ce&&(C.push(G.length>Y+1?[]:new V),!(G.length<Y+1));R++)T(C[R],Y+1,G)}(X,0,E),X}var l=function(){var E=this;function V(u,d){for(var x=1<<d-1>>>0;u&x;)x>>>=1;return x?(u&x-1)+x:u}function X(u,d,x,A,O){e(!(A%x));do u[d+(A-=x)]=O;while(0<A)}function T(u,d,x,A,O){if(e(2328>=O),512>=O)var z=s(512);else if((z=s(O))==null)return 0;return function(U,$,W,Q,se,pe){var me,de,xe=$,ve=1<<W,ae=s(16),ue=s(16);for(e(se!=0),e(Q!=null),e(U!=null),e(0<W),de=0;de<se;++de){if(15<Q[de])return 0;++ae[Q[de]]}if(ae[0]==se)return 0;for(ue[1]=0,me=1;15>me;++me){if(ae[me]>1<<me)return 0;ue[me+1]=ue[me]+ae[me]}for(de=0;de<se;++de)me=Q[de],0<Q[de]&&(pe[ue[me]++]=de);if(ue[15]==1)return(Q=new C).g=0,Q.value=pe[0],X(U,xe,1,ve,Q),ve;var we,Se=-1,be=ve-1,ze=0,Re=1,Ve=1,Oe=1<<W;for(de=0,me=1,se=2;me<=W;++me,se<<=1){if(Re+=Ve<<=1,0>(Ve-=ae[me]))return 0;for(;0<ae[me];--ae[me])(Q=new C).g=me,Q.value=pe[de++],X(U,xe+ze,se,Oe,Q),ze=V(ze,me)}for(me=W+1,se=2;15>=me;++me,se<<=1){if(Re+=Ve<<=1,0>(Ve-=ae[me]))return 0;for(;0<ae[me];--ae[me]){if(Q=new C,(ze&be)!=Se){for(xe+=Oe,we=1<<(Se=me)-W;15>Se&&!(0>=(we-=ae[Se]));)++Se,we<<=1;ve+=Oe=1<<(we=Se-W),U[$+(Se=ze&be)].g=we+W,U[$+Se].value=xe-$-Se}Q.g=me-W,Q.value=pe[de++],X(U,xe+(ze>>W),se,Oe,Q),ze=V(ze,me)}}return Re!=2*ue[15]-1?0:ve}(u,d,x,A,O,z)}function C(){this.value=this.g=0}function Y(){this.value=this.g=0}function G(){this.G=a(5,C),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(jn,Y)}function ce(u,d,x,A){e(u!=null),e(d!=null),e(2147483648>A),u.Ca=254,u.I=0,u.b=-8,u.Ka=0,u.oa=d,u.pa=x,u.Jd=d,u.Yc=x+A,u.Zc=4<=A?x+A-4+1:x,le(u)}function R(u,d){for(var x=0;0<d--;)x|=fe(u,128)<<d;return x}function j(u,d){var x=R(u,d);return ne(u)?-x:x}function I(u,d,x,A){var O,z=0;for(e(u!=null),e(d!=null),e(4294967288>A),u.Sb=A,u.Ra=0,u.u=0,u.h=0,4<A&&(A=4),O=0;O<A;++O)z+=d[x+O]<<8*O;u.Ra=z,u.bb=A,u.oa=d,u.pa=x}function M(u){for(;8<=u.u&&u.bb<u.Sb;)u.Ra>>>=8,u.Ra+=u.oa[u.pa+u.bb]<<yo-8>>>0,++u.bb,u.u-=8;H(u)&&(u.h=1,u.u=0)}function K(u,d){if(e(0<=d),!u.h&&d<=vo){var x=B(u)&go[d];return u.u+=d,M(u),x}return u.h=1,u.u=0}function ie(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(u){return u.Ra>>>(u.u&yo-1)>>>0}function H(u){return e(u.bb<=u.Sb),u.h||u.bb==u.Sb&&u.u>yo}function Z(u,d){u.u=d,u.h=H(u)}function te(u){u.u>=$l&&(e(u.u>=$l),M(u))}function le(u){e(u!=null&&u.oa!=null),u.pa<u.Zc?(u.I=(u.oa[u.pa++]|u.I<<8)>>>0,u.b+=8):(e(u!=null&&u.oa!=null),u.pa<u.Yc?(u.b+=8,u.I=u.oa[u.pa++]|u.I<<8):u.Ka?u.b=0:(u.I<<=8,u.b+=8,u.Ka=1))}function ne(u){return R(u,1)}function fe(u,d){var x=u.Ca;0>u.b&&le(u);var A=u.b,O=x*d>>>8,z=(u.I>>>A>O)+0;for(z?(x-=O,u.I-=O+1<<A>>>0):x=O+1,A=x,O=0;256<=A;)O+=8,A>>=8;return A=7^O+sr[A],u.b-=A,u.Ca=(x<<A)-1,z}function Ae(u,d,x){u[d+0]=x>>24&255,u[d+1]=x>>16&255,u[d+2]=x>>8&255,u[d+3]=x>>0&255}function Ne(u,d){return u[d+0]<<0|u[d+1]<<8}function Ee(u,d){return Ne(u,d)|u[d+2]<<16}function Le(u,d){return Ne(u,d)|Ne(u,d+2)<<16}function He(u,d){var x=1<<d;return e(u!=null),e(0<d),u.X=s(x),u.X==null?0:(u.Mb=32-d,u.Xa=d,1)}function oe(u,d){e(u!=null),e(d!=null),e(u.Xa==d.Xa),r(d.X,0,u.X,0,1<<d.Xa)}function J(){this.X=[],this.Xa=this.Mb=0}function Te(u,d,x,A){e(x!=null),e(A!=null);var O=x[0],z=A[0];return O==0&&(O=(u*z+d/2)/d),z==0&&(z=(d*O+u/2)/u),0>=O||0>=z?0:(x[0]=O,A[0]=z,1)}function Ce(u,d){return u+(1<<d)-1>>>d}function _e(u,d){return((4278255360&u)+(4278255360&d)>>>0&4278255360)+((16711935&u)+(16711935&d)>>>0&16711935)>>>0}function je(u,d){E[d]=function(x,A,O,z,U,$,W){var Q;for(Q=0;Q<U;++Q){var se=E[u]($[W+Q-1],O,z+Q);$[W+Q]=_e(x[A+Q],se)}}}function De(){this.ud=this.hd=this.jd=0}function Ie(u,d){return((4278124286&(u^d))>>>1)+(u&d)>>>0}function $e(u){return 0<=u&&256>u?u:0>u?0:255<u?255:void 0}function et(u,d){return $e(u+(u-d+.5>>1))}function at(u,d,x){return Math.abs(d-x)-Math.abs(u-x)}function ot(u,d,x,A,O,z,U){for(A=z[U-1],x=0;x<O;++x)z[U+x]=A=_e(u[d+x],A)}function pt(u,d,x,A,O){var z;for(z=0;z<x;++z){var U=u[d+z],$=U>>8&255,W=16711935&(W=(W=16711935&U)+(($<<16)+$));A[O+z]=(4278255360&U)+W>>>0}}function jt(u,d){d.jd=u>>0&255,d.hd=u>>8&255,d.ud=u>>16&255}function Xe(u,d,x,A,O,z){var U;for(U=0;U<A;++U){var $=d[x+U],W=$>>>8,Q=$,se=255&(se=(se=$>>>16)+((u.jd<<24>>24)*(W<<24>>24)>>>5));Q=255&(Q=(Q=Q+((u.hd<<24>>24)*(W<<24>>24)>>>5))+((u.ud<<24>>24)*(se<<24>>24)>>>5)),O[z+U]=(4278255360&$)+(se<<16)+Q}}function lt(u,d,x,A,O){E[d]=function(z,U,$,W,Q,se,pe,me,de){for(W=pe;W<me;++W)for(pe=0;pe<de;++pe)Q[se++]=O($[A(z[U++])])},E[u]=function(z,U,$,W,Q,se,pe){var me=8>>z.b,de=z.Ea,xe=z.K[0],ve=z.w;if(8>me)for(z=(1<<z.b)-1,ve=(1<<me)-1;U<$;++U){var ae,ue=0;for(ae=0;ae<de;++ae)ae&z||(ue=A(W[Q++])),se[pe++]=O(xe[ue&ve]),ue>>=me}else E["VP8LMapColor"+x](W,Q,xe,ve,se,pe,U,$,de)}}function Fe(u,d,x,A,O){for(x=d+x;d<x;){var z=u[d++];A[O++]=z>>16&255,A[O++]=z>>8&255,A[O++]=z>>0&255}}function Fn(u,d,x,A,O){for(x=d+x;d<x;){var z=u[d++];A[O++]=z>>16&255,A[O++]=z>>8&255,A[O++]=z>>0&255,A[O++]=z>>24&255}}function yt(u,d,x,A,O){for(x=d+x;d<x;){var z=(U=u[d++])>>16&240|U>>12&15,U=U>>0&240|U>>28&15;A[O++]=z,A[O++]=U}}function Gr(u,d,x,A,O){for(x=d+x;d<x;){var z=(U=u[d++])>>16&248|U>>13&7,U=U>>5&224|U>>3&31;A[O++]=z,A[O++]=U}}function Et(u,d,x,A,O){for(x=d+x;d<x;){var z=u[d++];A[O++]=z>>0&255,A[O++]=z>>8&255,A[O++]=z>>16&255}}function Bt(u,d,x,A,O,z){if(z==0)for(x=d+x;d<x;)Ae(A,((z=u[d++])[0]>>24|z[1]>>8&65280|z[2]<<8&16711680|z[3]<<24)>>>0),O+=32;else r(A,O,u,d,x)}function bi(u,d){E[d][0]=E[u+"0"],E[d][1]=E[u+"1"],E[d][2]=E[u+"2"],E[d][3]=E[u+"3"],E[d][4]=E[u+"4"],E[d][5]=E[u+"5"],E[d][6]=E[u+"6"],E[d][7]=E[u+"7"],E[d][8]=E[u+"8"],E[d][9]=E[u+"9"],E[d][10]=E[u+"10"],E[d][11]=E[u+"11"],E[d][12]=E[u+"12"],E[d][13]=E[u+"13"],E[d][14]=E[u+"0"],E[d][15]=E[u+"0"]}function xt(u){return u==Sf||u==kf||u==Wc||u==Nf}function la(){this.eb=[],this.size=this.A=this.fb=0}function Gt(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Kr(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new la,this.f.kb=new Gt,this.sd=null}function qi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function Kt(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function tt(u){return alert("todo:WebPSamplerProcessPlane"),u.T}function _t(u,d){var x=u.T,A=d.ba.f.RGBA,O=A.eb,z=A.fb+u.ka*A.A,U=Fr[d.ba.S],$=u.y,W=u.O,Q=u.f,se=u.N,pe=u.ea,me=u.W,de=d.cc,xe=d.dc,ve=d.Mc,ae=d.Nc,ue=u.ka,we=u.ka+u.T,Se=u.U,be=Se+1>>1;for(ue==0?U($,W,null,null,Q,se,pe,me,Q,se,pe,me,O,z,null,null,Se):(U(d.ec,d.fc,$,W,de,xe,ve,ae,Q,se,pe,me,O,z-A.A,O,z,Se),++x);ue+2<we;ue+=2)de=Q,xe=se,ve=pe,ae=me,se+=u.Rc,me+=u.Rc,z+=2*A.A,U($,(W+=2*u.fa)-u.fa,$,W,de,xe,ve,ae,Q,se,pe,me,O,z-A.A,O,z,Se);return W+=u.fa,u.j+we<u.o?(r(d.ec,d.fc,$,W,Se),r(d.cc,d.dc,Q,se,be),r(d.Mc,d.Nc,pe,me,be),x--):1&we||U($,W,null,null,Q,se,pe,me,Q,se,pe,me,O,z+A.A,null,null,Se),x}function ua(u,d,x){var A=u.F,O=[u.J];if(A!=null){var z=u.U,U=d.ba.S,$=U==$c||U==Wc;d=d.ba.f.RGBA;var W=[0],Q=u.ka;W[0]=u.T,u.Kb&&(Q==0?--W[0]:(--Q,O[0]-=u.width),u.j+u.ka+u.T==u.o&&(W[0]=u.o-u.j-Q));var se=d.eb;Q=d.fb+Q*d.A,u=It(A,O[0],u.width,z,W,se,Q+($?0:3),d.A),e(x==W),u&&xt(U)&&Or(se,Q,$,z,W,d.A)}return 0}function Pn(u){var d=u.ma,x=d.ba.S,A=11>x,O=x==Uc||x==qc||x==$c||x==_f||x==12||xt(x);if(d.memory=null,d.Ib=null,d.Jb=null,d.Nd=null,!Ul(d.Oa,u,O?11:12))return 0;if(O&&xt(x)&&ke(),u.da)alert("todo:use_scaling");else{if(A){if(d.Ib=tt,u.Kb){if(x=u.U+1>>1,d.memory=s(u.U+2*x),d.memory==null)return 0;d.ec=d.memory,d.fc=0,d.cc=d.ec,d.dc=d.fc+u.U,d.Mc=d.cc,d.Nc=d.dc+x,d.Ib=_t,ke()}}else alert("todo:EmitYUV");O&&(d.Jb=ua,A&&he())}if(A&&!mg){for(u=0;256>u;++u)Vw[u]=89858*(u-128)+Vc>>Hc,Yw[u]=-22014*(u-128)+Vc,Kw[u]=-45773*(u-128),Gw[u]=113618*(u-128)+Vc>>Hc;for(u=Jl;u<jf;++u)d=76283*(u-16)+Vc>>Hc,Jw[u-Jl]=gr(d,255),Qw[u-Jl]=gr(d+8>>4,15);mg=1}return 1}function xi(u){var d=u.ma,x=u.U,A=u.T;return e(!(1&u.ka)),0>=x||0>=A?0:(x=d.Ib(u,d),d.Jb!=null&&d.Jb(u,d,x),d.Dc+=x,1)}function _i(u){u.ma.memory=null}function Ke(u,d,x,A){return K(u,8)!=47?0:(d[0]=K(u,14)+1,x[0]=K(u,14)+1,A[0]=K(u,1),K(u,3)!=0?0:!u.h)}function Yr(u,d){if(4>u)return u+1;var x=u-2>>1;return(2+(1&u)<<x)+K(d,x)+1}function Si(u,d){return 120<d?d-120:1<=(x=((x=Tw[d-1])>>4)*u+(8-(15&x)))?x:1;var x}function rr(u,d,x){var A=B(x),O=u[d+=255&A].g-8;return 0<O&&(Z(x,x.u+8),A=B(x),d+=u[d].value,d+=A&(1<<O)-1),Z(x,x.u+u[d].g),u[d].value}function mn(u,d,x){return x.g+=u.g,x.value+=u.value<<d>>>0,e(8>=x.g),u.g}function un(u,d,x){var A=u.xc;return e((d=A==0?0:u.vc[u.md*(x>>A)+(d>>A)])<u.Wb),u.Ya[d]}function mr(u,d,x,A){var O=u.ab,z=u.c*d,U=u.C;d=U+d;var $=x,W=A;for(A=u.Ta,x=u.Ua;0<O--;){var Q=u.gc[O],se=U,pe=d,me=$,de=W,xe=(W=A,$=x,Q.Ea);switch(e(se<pe),e(pe<=Q.nc),Q.hc){case 2:Ic(me,de,(pe-se)*xe,W,$);break;case 0:var ve=se,ae=pe,ue=W,we=$,Se=(Oe=Q).Ea;ve==0&&(bf(me,de,null,null,1,ue,we),ot(me,de+1,0,0,Se-1,ue,we+1),de+=Se,we+=Se,++ve);for(var be=1<<Oe.b,ze=be-1,Re=Ce(Se,Oe.b),Ve=Oe.K,Oe=Oe.w+(ve>>Oe.b)*Re;ve<ae;){var wt=Ve,St=Oe,mt=1;for(Wl(me,de,ue,we-Se,1,ue,we);mt<Se;){var ct=(mt&~ze)+be;ct>Se&&(ct=Se),(0,ys[wt[St++]>>8&15])(me,de+ +mt,ue,we+mt-Se,ct-mt,ue,we+mt),mt=ct}de+=Se,we+=Se,++ve&ze||(Oe+=Re)}pe!=Q.nc&&r(W,$-xe,W,$+(pe-se-1)*xe,xe);break;case 1:for(xe=me,ae=de,Se=(me=Q.Ea)-(we=me&~(ue=(de=1<<Q.b)-1)),ve=Ce(me,Q.b),be=Q.K,Q=Q.w+(se>>Q.b)*ve;se<pe;){for(ze=be,Re=Q,Ve=new De,Oe=ae+we,wt=ae+me;ae<Oe;)jt(ze[Re++],Ve),ma(Ve,xe,ae,de,W,$),ae+=de,$+=de;ae<wt&&(jt(ze[Re++],Ve),ma(Ve,xe,ae,Se,W,$),ae+=Se,$+=Se),++se&ue||(Q+=ve)}break;case 3:if(me==W&&de==$&&0<Q.b){for(ae=W,me=xe=$+(pe-se)*xe-(we=(pe-se)*Ce(Q.Ea,Q.b)),de=W,ue=$,ve=[],we=(Se=we)-1;0<=we;--we)ve[we]=de[ue+we];for(we=Se-1;0<=we;--we)ae[me+we]=ve[we];Tr(Q,se,pe,W,xe,W,$)}else Tr(Q,se,pe,me,de,W,$)}$=A,W=x}W!=x&&r(A,x,$,W,z)}function Xa(u,d){var x=u.V,A=u.Ba+u.c*u.C,O=d-u.C;if(e(d<=u.l.o),e(16>=O),0<O){var z=u.l,U=u.Ta,$=u.Ua,W=z.width;if(mr(u,O,x,A),O=$=[$],e((x=u.C)<(A=d)),e(z.v<z.va),A>z.o&&(A=z.o),x<z.j){var Q=z.j-x;x=z.j,O[0]+=Q*W}if(x>=A?x=0:(O[0]+=4*z.v,z.ka=x-z.j,z.U=z.va-z.v,z.T=A-x,x=1),x){if($=$[0],11>(x=u.ca).S){var se=x.f.RGBA,pe=(A=x.S,O=z.U,z=z.T,Q=se.eb,se.A),me=z;for(se=se.fb+u.Ma*se.A;0<me--;){var de=U,xe=$,ve=O,ae=Q,ue=se;switch(A){case Bc:ar(de,xe,ve,ae,ue);break;case Uc:Yn(de,xe,ve,ae,ue);break;case Sf:Yn(de,xe,ve,ae,ue),Or(ae,ue,0,ve,1,0);break;case sg:Gi(de,xe,ve,ae,ue);break;case qc:Bt(de,xe,ve,ae,ue,1);break;case kf:Bt(de,xe,ve,ae,ue,1),Or(ae,ue,0,ve,1,0);break;case $c:Bt(de,xe,ve,ae,ue,0);break;case Wc:Bt(de,xe,ve,ae,ue,0),Or(ae,ue,1,ve,1,0);break;case _f:ws(de,xe,ve,ae,ue);break;case Nf:ws(de,xe,ve,ae,ue),Rt(ae,ue,ve,1,0);break;case ag:Vi(de,xe,ve,ae,ue);break;default:e(0)}$+=W,se+=pe}u.Ma+=z}else alert("todo:EmitRescaledRowsYUVA");e(u.Ma<=x.height)}}u.C=d,e(u.C<=u.i)}function $i(u){var d;if(0<u.ua)return 0;for(d=0;d<u.Wb;++d){var x=u.Ya[d].G,A=u.Ya[d].H;if(0<x[1][A[1]+0].g||0<x[2][A[2]+0].g||0<x[3][A[3]+0].g)return 0}return 1}function Jr(u,d,x,A,O,z){if(u.Z!=0){var U=u.qd,$=u.rd;for(e(Ss[u.Z]!=null);d<x;++d)Ss[u.Z](U,$,A,O,A,O,z),U=A,$=O,O+=z;u.qd=U,u.rd=$}}function Qr(u,d){var x=u.l.ma,A=x.Z==0||x.Z==1?u.l.j:u.C;if(A=u.C<A?A:u.C,e(d<=u.l.o),d>A){var O=u.l.width,z=x.ca,U=x.tb+O*A,$=u.V,W=u.Ba+u.c*A,Q=u.gc;e(u.ab==1),e(Q[0].hc==3),Oc(Q[0],A,d,$,W,z,U),Jr(x,A,d,z,U,O)}u.C=u.Ma=d}function Xr(u,d,x,A,O,z,U){var $=u.$/A,W=u.$%A,Q=u.m,se=u.s,pe=x+u.$,me=pe;O=x+A*O;var de=x+A*z,xe=280+se.ua,ve=u.Pb?$:16777216,ae=0<se.ua?se.Wa:null,ue=se.wc,we=pe<de?un(se,W,$):null;e(u.C<z),e(de<=O);var Se=!1;e:for(;;){for(;Se||pe<de;){var be=0;if($>=ve){var ze=pe-x;e((ve=u).Pb),ve.wd=ve.m,ve.xd=ze,0<ve.s.ua&&oe(ve.s.Wa,ve.s.vb),ve=$+Iw}if(W&ue||(we=un(se,W,$)),e(we!=null),we.Qb&&(d[pe]=we.qb,Se=!0),!Se)if(te(Q),we.jc){be=Q,ze=d;var Re=pe,Ve=we.pd[B(be)&jn-1];e(we.jc),256>Ve.g?(Z(be,be.u+Ve.g),ze[Re]=Ve.value,be=0):(Z(be,be.u+Ve.g-256),e(256<=Ve.value),be=Ve.value),be==0&&(Se=!0)}else be=rr(we.G[0],we.H[0],Q);if(Q.h)break;if(Se||256>be){if(!Se)if(we.nd)d[pe]=(we.qb|be<<8)>>>0;else{if(te(Q),Se=rr(we.G[1],we.H[1],Q),te(Q),ze=rr(we.G[2],we.H[2],Q),Re=rr(we.G[3],we.H[3],Q),Q.h)break;d[pe]=(Re<<24|Se<<16|be<<8|ze)>>>0}if(Se=!1,++pe,++W>=A&&(W=0,++$,U!=null&&$<=z&&!($%16)&&U(u,$),ae!=null))for(;me<pe;)be=d[me++],ae.X[(506832829*be&4294967295)>>>ae.Mb]=be}else if(280>be){if(be=Yr(be-256,Q),ze=rr(we.G[4],we.H[4],Q),te(Q),ze=Si(A,ze=Yr(ze,Q)),Q.h)break;if(pe-x<ze||O-pe<be)break e;for(Re=0;Re<be;++Re)d[pe+Re]=d[pe+Re-ze];for(pe+=be,W+=be;W>=A;)W-=A,++$,U!=null&&$<=z&&!($%16)&&U(u,$);if(e(pe<=O),W&ue&&(we=un(se,W,$)),ae!=null)for(;me<pe;)be=d[me++],ae.X[(506832829*be&4294967295)>>>ae.Mb]=be}else{if(!(be<xe))break e;for(Se=be-280,e(ae!=null);me<pe;)be=d[me++],ae.X[(506832829*be&4294967295)>>>ae.Mb]=be;be=pe,e(!(Se>>>(ze=ae).Xa)),d[be]=ze.X[Se],Se=!0}Se||e(Q.h==H(Q))}if(u.Pb&&Q.h&&pe<O)e(u.m.h),u.a=5,u.m=u.wd,u.$=u.xd,0<u.s.ua&&oe(u.s.vb,u.s.Wa);else{if(Q.h)break e;U!=null&&U(u,$>z?z:$),u.a=0,u.$=pe-x}return 1}return u.a=3,0}function ki(u){e(u!=null),u.vc=null,u.yc=null,u.Ya=null;var d=u.Wa;d!=null&&(d.X=null),u.vb=null,e(u!=null)}function Lr(){var u=new wf;return u==null?null:(u.a=0,u.xb=ug,bi("Predictor","VP8LPredictors"),bi("Predictor","VP8LPredictors_C"),bi("PredictorAdd","VP8LPredictorsAdd"),bi("PredictorAdd","VP8LPredictorsAdd_C"),Ic=pt,ma=Xe,ar=Fe,Yn=Fn,ws=yt,Vi=Gr,Gi=Et,E.VP8LMapColor32b=wo,E.VP8LMapColor8b=Dc,u)}function Ni(u,d,x,A,O){var z=1,U=[u],$=[d],W=A.m,Q=A.s,se=null,pe=0;e:for(;;){if(x)for(;z&&K(W,1);){var me=U,de=$,xe=A,ve=1,ae=xe.m,ue=xe.gc[xe.ab],we=K(ae,2);if(xe.Oc&1<<we)z=0;else{switch(xe.Oc|=1<<we,ue.hc=we,ue.Ea=me[0],ue.nc=de[0],ue.K=[null],++xe.ab,e(4>=xe.ab),we){case 0:case 1:ue.b=K(ae,3)+2,ve=Ni(Ce(ue.Ea,ue.b),Ce(ue.nc,ue.b),0,xe,ue.K),ue.K=ue.K[0];break;case 3:var Se,be=K(ae,8)+1,ze=16<be?0:4<be?1:2<be?2:3;if(me[0]=Ce(ue.Ea,ze),ue.b=ze,Se=ve=Ni(be,1,0,xe,ue.K)){var Re,Ve=be,Oe=ue,wt=1<<(8>>Oe.b),St=s(wt);if(St==null)Se=0;else{var mt=Oe.K[0],ct=Oe.w;for(St[0]=Oe.K[0][0],Re=1;Re<1*Ve;++Re)St[Re]=_e(mt[ct+Re],St[Re-1]);for(;Re<4*wt;++Re)St[Re]=0;Oe.K[0]=null,Oe.K[0]=St,Se=1}}ve=Se;break;case 2:break;default:e(0)}z=ve}}if(U=U[0],$=$[0],z&&K(W,1)&&!(z=1<=(pe=K(W,4))&&11>=pe)){A.a=3;break e}var Lt;if(Lt=z)t:{var Ct,st,dn,or=A,hn=U,lr=$,kt=pe,yr=x,wr=or.m,Sn=or.s,Cn=[null],Qn=1,Mr=0,Ci=Rw[kt];n:for(;;){if(yr&&K(wr,1)){var kn=K(wr,3)+2,Qi=Ce(hn,kn),ba=Ce(lr,kn),ko=Qi*ba;if(!Ni(Qi,ba,0,or,Cn))break n;for(Cn=Cn[0],Sn.xc=kn,Ct=0;Ct<ko;++Ct){var ks=Cn[Ct]>>8&65535;Cn[Ct]=ks,ks>=Qn&&(Qn=ks+1)}}if(wr.h)break n;for(st=0;5>st;++st){var Jt=og[st];!st&&0<kt&&(Jt+=1<<kt),Mr<Jt&&(Mr=Jt)}var Cf=a(Qn*Ci,C),yg=Qn,wg=a(yg,G);if(wg==null)var Kc=null;else e(65536>=yg),Kc=wg;var Ql=s(Mr);if(Kc==null||Ql==null||Cf==null){or.a=1;break n}var Yc=Cf;for(Ct=dn=0;Ct<Qn;++Ct){var ri=Kc[Ct],No=ri.G,Ao=ri.H,bg=0,Jc=1,xg=0;for(st=0;5>st;++st){Jt=og[st],No[st]=Yc,Ao[st]=dn,!st&&0<kt&&(Jt+=1<<kt);i:{var Qc,Ef=Jt,Xc=or,Xl=Ql,eb=Yc,tb=dn,Lf=0,Ns=Xc.m,nb=K(Ns,1);if(i(Xl,0,0,Ef),nb){var rb=K(Ns,1)+1,ib=K(Ns,1),_g=K(Ns,ib==0?1:8);Xl[_g]=1,rb==2&&(Xl[_g=K(Ns,8)]=1);var Zc=1}else{var Sg=s(19),kg=K(Ns,4)+4;if(19<kg){Xc.a=3;var ed=0;break i}for(Qc=0;Qc<kg;++Qc)Sg[Lw[Qc]]=K(Ns,3);var Tf=void 0,Zl=void 0,Ng=Xc,sb=Sg,td=Ef,Ag=Xl,Rf=0,As=Ng.m,Pg=8,jg=a(128,C);r:for(;T(jg,0,7,sb,19);){if(K(As,1)){var ab=2+2*K(As,3);if((Tf=2+K(As,ab))>td)break r}else Tf=td;for(Zl=0;Zl<td&&Tf--;){te(As);var Cg=jg[0+(127&B(As))];Z(As,As.u+Cg.g);var Po=Cg.value;if(16>Po)Ag[Zl++]=Po,Po!=0&&(Pg=Po);else{var ob=Po==16,Eg=Po-16,lb=Cw[Eg],Lg=K(As,jw[Eg])+lb;if(Zl+Lg>td)break r;for(var ub=ob?Pg:0;0<Lg--;)Ag[Zl++]=ub}}Rf=1;break r}Rf||(Ng.a=3),Zc=Rf}(Zc=Zc&&!Ns.h)&&(Lf=T(eb,tb,8,Xl,Ef)),Zc&&Lf!=0?ed=Lf:(Xc.a=3,ed=0)}if(ed==0)break n;if(Jc&&Ew[st]==1&&(Jc=Yc[dn].g==0),bg+=Yc[dn].g,dn+=ed,3>=st){var eu,If=Ql[0];for(eu=1;eu<Jt;++eu)Ql[eu]>If&&(If=Ql[eu]);xg+=If}}if(ri.nd=Jc,ri.Qb=0,Jc&&(ri.qb=(No[3][Ao[3]+0].value<<24|No[1][Ao[1]+0].value<<16|No[2][Ao[2]+0].value)>>>0,bg==0&&256>No[0][Ao[0]+0].value&&(ri.Qb=1,ri.qb+=No[0][Ao[0]+0].value<<8)),ri.jc=!ri.Qb&&6>xg,ri.jc){var nd,Xi=ri;for(nd=0;nd<jn;++nd){var Ps=nd,js=Xi.pd[Ps],rd=Xi.G[0][Xi.H[0]+Ps];256<=rd.value?(js.g=rd.g+256,js.value=rd.value):(js.g=0,js.value=0,Ps>>=mn(rd,8,js),Ps>>=mn(Xi.G[1][Xi.H[1]+Ps],16,js),Ps>>=mn(Xi.G[2][Xi.H[2]+Ps],0,js),mn(Xi.G[3][Xi.H[3]+Ps],24,js))}}}Sn.vc=Cn,Sn.Wb=Qn,Sn.Ya=Kc,Sn.yc=Cf,Lt=1;break t}Lt=0}if(!(z=Lt)){A.a=3;break e}if(0<pe){if(Q.ua=1<<pe,!He(Q.Wa,pe)){A.a=1,z=0;break e}}else Q.ua=0;var Of=A,Tg=U,cb=$,Df=Of.s,Ff=Df.xc;if(Of.c=Tg,Of.i=cb,Df.md=Ce(Tg,Ff),Df.wc=Ff==0?-1:(1<<Ff)-1,x){A.xb=Uw;break e}if((se=s(U*$))==null){A.a=1,z=0;break e}z=(z=Xr(A,se,0,U,$,$,null))&&!W.h;break e}return z?(O!=null?O[0]=se:(e(se==null),e(x)),A.$=0,x||ki(Q)):ki(Q),z}function ca(u,d){var x=u.c*u.i,A=x+d+16*d;return e(u.c<=d),u.V=s(A),u.V==null?(u.Ta=null,u.Ua=0,u.a=1,0):(u.Ta=u.V,u.Ua=u.Ba+x+d,1)}function Za(u,d){var x=u.C,A=d-x,O=u.V,z=u.Ba+u.c*x;for(e(d<=u.l.o);0<A;){var U=16<A?16:A,$=u.l.ma,W=u.l.width,Q=W*U,se=$.ca,pe=$.tb+W*x,me=u.Ta,de=u.Ua;mr(u,U,O,z),nn(me,de,se,pe,Q),Jr($,x,x+U,se,pe,W),A-=U,O+=U*u.c,x+=U}e(x==d),u.C=u.Ma=d}function eo(){this.ub=this.yd=this.td=this.Rb=0}function to(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function no(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function pc(){this.Yb=function(){var u=[];return function d(x,A,O){for(var z=O[A],U=0;U<z&&(x.push(O.length>A+1?[]:0),!(O.length<A+1));U++)d(x[U],A+1,O)}(u,0,[3,11]),u}()}function Yh(){this.jb=s(3),this.Wc=o([4,8],pc),this.Xc=o([4,17],pc)}function Jh(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function ro(){this.ld=this.La=this.dd=this.tc=0}function mc(){this.Na=this.la=0}function Qh(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Nl(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Xh(){this.uc=this.M=this.Nb=0,this.wa=Array(new ro),this.Y=0,this.ya=Array(new Nl),this.aa=0,this.l=new io}function gc(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Zh(){this.cb=this.a=0,this.sc="",this.m=new ie,this.Od=new eo,this.Kc=new to,this.ed=new Jh,this.Qa=new no,this.Ic=this.$c=this.Aa=0,this.D=new Xh,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,ie),this.ia=0,this.pb=a(4,Qh),this.Pa=new Yh,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new gc),this.Hd=0,this.rb=Array(new mc),this.sb=0,this.wa=Array(new ro),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Nl),this.L=this.aa=0,this.gd=o([4,2],ro),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function ef(){var u=new Zh;return u!=null&&(u.a=0,u.sc="OK",u.cb=0,u.Xb=0,Yl||(Yl=wc)),u}function en(u,d,x){return u.a==0&&(u.a=d,u.sc=x,u.cb=0),0}function vc(u,d,x){return 3<=x&&u[d+0]==157&&u[d+1]==1&&u[d+2]==42}function yc(u,d){if(u==null)return 0;if(u.a=0,u.sc="OK",d==null)return en(u,2,"null VP8Io passed to VP8GetHeaders()");var x=d.data,A=d.w,O=d.ha;if(4>O)return en(u,7,"Truncated header.");var z=x[A+0]|x[A+1]<<8|x[A+2]<<16,U=u.Od;if(U.Rb=!(1&z),U.td=z>>1&7,U.yd=z>>4&1,U.ub=z>>5,3<U.td)return en(u,3,"Incorrect keyframe parameters.");if(!U.yd)return en(u,4,"Frame not displayable.");A+=3,O-=3;var $=u.Kc;if(U.Rb){if(7>O)return en(u,7,"cannot parse picture header");if(!vc(x,A,O))return en(u,3,"Bad code word");$.c=16383&(x[A+4]<<8|x[A+3]),$.Td=x[A+4]>>6,$.i=16383&(x[A+6]<<8|x[A+5]),$.Ud=x[A+6]>>6,A+=7,O-=7,u.za=$.c+15>>4,u.Ub=$.i+15>>4,d.width=$.c,d.height=$.i,d.Da=0,d.j=0,d.v=0,d.va=d.width,d.o=d.height,d.da=0,d.ib=d.width,d.hb=d.height,d.U=d.width,d.T=d.height,i((z=u.Pa).jb,0,255,z.jb.length),e((z=u.Qa)!=null),z.Cb=0,z.Bb=0,z.Fb=1,i(z.Zb,0,0,z.Zb.length),i(z.Lb,0,0,z.Lb)}if(U.ub>O)return en(u,7,"bad partition length");ce(z=u.m,x,A,U.ub),A+=U.ub,O-=U.ub,U.Rb&&($.Ld=ne(z),$.Kd=ne(z)),$=u.Qa;var W,Q=u.Pa;if(e(z!=null),e($!=null),$.Cb=ne(z),$.Cb){if($.Bb=ne(z),ne(z)){for($.Fb=ne(z),W=0;4>W;++W)$.Zb[W]=ne(z)?j(z,7):0;for(W=0;4>W;++W)$.Lb[W]=ne(z)?j(z,6):0}if($.Bb)for(W=0;3>W;++W)Q.jb[W]=ne(z)?R(z,8):255}else $.Bb=0;if(z.Ka)return en(u,3,"cannot parse segment header");if(($=u.ed).zd=ne(z),$.Tb=R(z,6),$.wb=R(z,3),$.Pc=ne(z),$.Pc&&ne(z)){for(Q=0;4>Q;++Q)ne(z)&&($.vd[Q]=j(z,6));for(Q=0;4>Q;++Q)ne(z)&&($.od[Q]=j(z,6))}if(u.L=$.Tb==0?0:$.zd?1:2,z.Ka)return en(u,3,"cannot parse filter header");var se=O;if(O=W=A,A=W+se,$=se,u.Xb=(1<<R(u.m,2))-1,se<3*(Q=u.Xb))x=7;else{for(W+=3*Q,$-=3*Q,se=0;se<Q;++se){var pe=x[O+0]|x[O+1]<<8|x[O+2]<<16;pe>$&&(pe=$),ce(u.Jc[+se],x,W,pe),W+=pe,$-=pe,O+=3}ce(u.Jc[+Q],x,W,$),x=W<A?0:5}if(x!=0)return en(u,x,"cannot parse partitions");for(x=R(W=u.m,7),O=ne(W)?j(W,4):0,A=ne(W)?j(W,4):0,$=ne(W)?j(W,4):0,Q=ne(W)?j(W,4):0,W=ne(W)?j(W,4):0,se=u.Qa,pe=0;4>pe;++pe){if(se.Cb){var me=se.Zb[pe];se.Fb||(me+=x)}else{if(0<pe){u.pb[pe]=u.pb[0];continue}me=x}var de=u.pb[pe];de.Sc[0]=Af[gr(me+O,127)],de.Sc[1]=Pf[gr(me+0,127)],de.Eb[0]=2*Af[gr(me+A,127)],de.Eb[1]=101581*Pf[gr(me+$,127)]>>16,8>de.Eb[1]&&(de.Eb[1]=8),de.Qc[0]=Af[gr(me+Q,117)],de.Qc[1]=Pf[gr(me+W,127)],de.lc=me+W}if(!U.Rb)return en(u,4,"Not a key frame.");for(ne(z),U=u.Pa,x=0;4>x;++x){for(O=0;8>O;++O)for(A=0;3>A;++A)for($=0;11>$;++$)Q=fe(z,zw[x][O][A][$])?R(z,8):Fw[x][O][A][$],U.Wc[x][O].Yb[A][$]=Q;for(O=0;17>O;++O)U.Xc[x][O]=U.Wc[x][Bw[O]]}return u.kc=ne(z),u.kc&&(u.Bd=R(z,8)),u.cb=1}function wc(u,d,x,A,O,z,U){var $=d[O].Yb[x];for(x=0;16>O;++O){if(!fe(u,$[x+0]))return O;for(;!fe(u,$[x+1]);)if($=d[++O].Yb[0],x=0,O==16)return 16;var W=d[O+1].Yb;if(fe(u,$[x+2])){var Q=u,se=0;if(fe(Q,(me=$)[(pe=x)+3]))if(fe(Q,me[pe+6])){for($=0,pe=2*(se=fe(Q,me[pe+8]))+(me=fe(Q,me[pe+9+se])),se=0,me=Ow[pe];me[$];++$)se+=se+fe(Q,me[$]);se+=3+(8<<pe)}else fe(Q,me[pe+7])?(se=7+2*fe(Q,165),se+=fe(Q,145)):se=5+fe(Q,159);else se=fe(Q,me[pe+4])?3+fe(Q,me[pe+5]):2;$=W[2]}else se=1,$=W[1];W=U+Dw[O],0>(Q=u).b&&le(Q);var pe,me=Q.b,de=(pe=Q.Ca>>1)-(Q.I>>me)>>31;--Q.b,Q.Ca+=de,Q.Ca|=1,Q.I-=(pe+1&de)<<me,z[W]=((se^de)-de)*A[(0<O)+0]}return 16}function Al(u){var d=u.rb[u.sb-1];d.la=0,d.Na=0,i(u.zc,0,0,u.zc.length),u.ja=0}function tf(u,d){if(u==null)return 0;if(d==null)return en(u,2,"NULL VP8Io parameter in VP8Decode().");if(!u.cb&&!yc(u,d))return 0;if(e(u.cb),d.ac==null||d.ac(d)){d.ob&&(u.L=0);var x=Gc[u.L];if(u.L==2?(u.yb=0,u.zb=0):(u.yb=d.v-x>>4,u.zb=d.j-x>>4,0>u.yb&&(u.yb=0),0>u.zb&&(u.zb=0)),u.Va=d.o+15+x>>4,u.Hb=d.va+15+x>>4,u.Hb>u.za&&(u.Hb=u.za),u.Va>u.Ub&&(u.Va=u.Ub),0<u.L){var A=u.ed;for(x=0;4>x;++x){var O;if(u.Qa.Cb){var z=u.Qa.Lb[x];u.Qa.Fb||(z+=A.Tb)}else z=A.Tb;for(O=0;1>=O;++O){var U=u.gd[x][O],$=z;if(A.Pc&&($+=A.vd[0],O&&($+=A.od[0])),0<($=0>$?0:63<$?63:$)){var W=$;0<A.wb&&(W=4<A.wb?W>>2:W>>1)>9-A.wb&&(W=9-A.wb),1>W&&(W=1),U.dd=W,U.tc=2*$+W,U.ld=40<=$?2:15<=$?1:0}else U.tc=0;U.La=O}}}x=0}else en(u,6,"Frame setup failed"),x=u.a;if(x=x==0){if(x){u.$c=0,0<u.Aa||(u.Ic=Zw);e:{x=u.Ic,A=4*(W=u.za);var Q=32*W,se=W+1,pe=0<u.L?W*(0<u.Aa?2:1):0,me=(u.Aa==2?2:1)*W;if((U=A+832+(O=3*(16*x+Gc[u.L])/2*Q)+(z=u.Fa!=null&&0<u.Fa.length?u.Kc.c*u.Kc.i:0))!=U)x=0;else{if(U>u.Vb){if(u.Vb=0,u.Ec=s(U),u.Fc=0,u.Ec==null){x=en(u,1,"no memory during frame initialization.");break e}u.Vb=U}U=u.Ec,$=u.Fc,u.Ac=U,u.Bc=$,$+=A,u.Gd=a(Q,gc),u.Hd=0,u.rb=a(se+1,mc),u.sb=1,u.wa=pe?a(pe,ro):null,u.Y=0,u.D.Nb=0,u.D.wa=u.wa,u.D.Y=u.Y,0<u.Aa&&(u.D.Y+=W),e(!0),u.oc=U,u.pc=$,$+=832,u.ya=a(me,Nl),u.aa=0,u.D.ya=u.ya,u.D.aa=u.aa,u.Aa==2&&(u.D.aa+=W),u.R=16*W,u.B=8*W,W=(Q=Gc[u.L])*u.R,Q=Q/2*u.B,u.sa=U,u.ta=$+W,u.qa=u.sa,u.ra=u.ta+16*x*u.R+Q,u.Ha=u.qa,u.Ia=u.ra+8*x*u.B+Q,u.$c=0,$+=O,u.mb=z?U:null,u.nb=z?$:null,e($+z<=u.Fc+u.Vb),Al(u),i(u.Ac,u.Bc,0,A),x=1}}if(x){if(d.ka=0,d.y=u.sa,d.O=u.ta,d.f=u.qa,d.N=u.ra,d.ea=u.Ha,d.Vd=u.Ia,d.fa=u.R,d.Rc=u.B,d.F=null,d.J=0,!Mc){for(x=-255;255>=x;++x)gn[255+x]=0>x?-x:x;for(x=-1020;1020>=x;++x)Yi[1020+x]=-128>x?-128:127<x?127:x;for(x=-112;112>=x;++x)Kl[112+x]=-16>x?-16:15<x?15:x;for(x=-255;510>=x;++x)So[255+x]=0>x?0:255<x?255:x;Mc=1}bo=sf,Ki=nf,Hl=xc,Jn=rf,Rr=_c,tn=bc,xo=Tl,Fc=fa,Vl=yf,ga=Rl,va=vf,bs=co,ya=Il,_o=Lc,wa=Ec,xs=Pi,Gl=Hi,Ir=gf,ni[0]=Ai,ni[1]=af,ni[2]=cf,ni[3]=df,ni[4]=Nc,ni[5]=lo,ni[6]=Ac,ni[7]=Cl,ni[8]=ff,ni[9]=hf,_s[0]=Sc,_s[1]=lf,_s[2]=Wi,_s[3]=ao,_s[4]=Mn,_s[5]=uf,_s[6]=kc,Ji[0]=ms,Ji[1]=of,Ji[2]=pf,Ji[3]=El,Ji[4]=ha,Ji[5]=mf,Ji[6]=Ll,x=1}else x=0}x&&(x=function(de,xe){for(de.M=0;de.M<de.Va;++de.M){var ve,ae=de.Jc[de.M&de.Xb],ue=de.m,we=de;for(ve=0;ve<we.za;++ve){var Se=ue,be=we,ze=be.Ac,Re=be.Bc+4*ve,Ve=be.zc,Oe=be.ya[be.aa+ve];if(be.Qa.Bb?Oe.$b=fe(Se,be.Pa.jb[0])?2+fe(Se,be.Pa.jb[2]):fe(Se,be.Pa.jb[1]):Oe.$b=0,be.kc&&(Oe.Ad=fe(Se,be.Bd)),Oe.Za=!fe(Se,145)+0,Oe.Za){var wt=Oe.Ob,St=0;for(be=0;4>be;++be){var mt,ct=Ve[0+be];for(mt=0;4>mt;++mt){ct=Mw[ze[Re+mt]][ct];for(var Lt=lg[fe(Se,ct[0])];0<Lt;)Lt=lg[2*Lt+fe(Se,ct[Lt])];ct=-Lt,ze[Re+mt]=ct}r(wt,St,ze,Re,4),St+=4,Ve[0+be]=ct}}else ct=fe(Se,156)?fe(Se,128)?1:3:fe(Se,163)?2:0,Oe.Ob[0]=ct,i(ze,Re,ct,4),i(Ve,0,ct,4);Oe.Dd=fe(Se,142)?fe(Se,114)?fe(Se,183)?1:3:2:0}if(we.m.Ka)return en(de,7,"Premature end-of-partition0 encountered.");for(;de.ja<de.za;++de.ja){if(we=ae,Se=(ue=de).rb[ue.sb-1],ze=ue.rb[ue.sb+ue.ja],ve=ue.ya[ue.aa+ue.ja],Re=ue.kc?ve.Ad:0)Se.la=ze.la=0,ve.Za||(Se.Na=ze.Na=0),ve.Hc=0,ve.Gc=0,ve.ia=0;else{var Ct,st;if(Se=ze,ze=we,Re=ue.Pa.Xc,Ve=ue.ya[ue.aa+ue.ja],Oe=ue.pb[Ve.$b],be=Ve.ad,wt=0,St=ue.rb[ue.sb-1],ct=mt=0,i(be,wt,0,384),Ve.Za)var dn=0,or=Re[3];else{Lt=s(16);var hn=Se.Na+St.Na;if(hn=Yl(ze,Re[1],hn,Oe.Eb,0,Lt,0),Se.Na=St.Na=(0<hn)+0,1<hn)bo(Lt,0,be,wt);else{var lr=Lt[0]+3>>3;for(Lt=0;256>Lt;Lt+=16)be[wt+Lt]=lr}dn=1,or=Re[0]}var kt=15&Se.la,yr=15&St.la;for(Lt=0;4>Lt;++Lt){var wr=1&yr;for(lr=st=0;4>lr;++lr)kt=kt>>1|(wr=(hn=Yl(ze,or,hn=wr+(1&kt),Oe.Sc,dn,be,wt))>dn)<<7,st=st<<2|(3<hn?3:1<hn?2:be[wt+0]!=0),wt+=16;kt>>=4,yr=yr>>1|wr<<7,mt=(mt<<8|st)>>>0}for(or=kt,dn=yr>>4,Ct=0;4>Ct;Ct+=2){for(st=0,kt=Se.la>>4+Ct,yr=St.la>>4+Ct,Lt=0;2>Lt;++Lt){for(wr=1&yr,lr=0;2>lr;++lr)hn=wr+(1&kt),kt=kt>>1|(wr=0<(hn=Yl(ze,Re[2],hn,Oe.Qc,0,be,wt)))<<3,st=st<<2|(3<hn?3:1<hn?2:be[wt+0]!=0),wt+=16;kt>>=2,yr=yr>>1|wr<<5}ct|=st<<4*Ct,or|=kt<<4<<Ct,dn|=(240&yr)<<Ct}Se.la=or,St.la=dn,Ve.Hc=mt,Ve.Gc=ct,Ve.ia=43690&ct?0:Oe.ia,Re=!(mt|ct)}if(0<ue.L&&(ue.wa[ue.Y+ue.ja]=ue.gd[ve.$b][ve.Za],ue.wa[ue.Y+ue.ja].La|=!Re),we.Ka)return en(de,7,"Premature end-of-file encountered.")}if(Al(de),ue=xe,we=1,ve=(ae=de).D,Se=0<ae.L&&ae.M>=ae.zb&&ae.M<=ae.Va,ae.Aa==0)e:{if(ve.M=ae.M,ve.uc=Se,Bl(ae,ve),we=1,ve=(st=ae.D).Nb,Se=(ct=Gc[ae.L])*ae.R,ze=ct/2*ae.B,Lt=16*ve*ae.R,lr=8*ve*ae.B,Re=ae.sa,Ve=ae.ta-Se+Lt,Oe=ae.qa,be=ae.ra-ze+lr,wt=ae.Ha,St=ae.Ia-ze+lr,yr=(kt=st.M)==0,mt=kt>=ae.Va-1,ae.Aa==2&&Bl(ae,st),st.uc)for(wr=(hn=ae).D.M,e(hn.D.uc),st=hn.yb;st<hn.Hb;++st){dn=st,or=wr;var Sn=(Cn=(Jt=hn).D).Nb;Ct=Jt.R;var Cn=Cn.wa[Cn.Y+dn],Qn=Jt.sa,Mr=Jt.ta+16*Sn*Ct+16*dn,Ci=Cn.dd,kn=Cn.tc;if(kn!=0)if(e(3<=kn),Jt.L==1)0<dn&&xs(Qn,Mr,Ct,kn+4),Cn.La&&Ir(Qn,Mr,Ct,kn),0<or&&wa(Qn,Mr,Ct,kn+4),Cn.La&&Gl(Qn,Mr,Ct,kn);else{var Qi=Jt.B,ba=Jt.qa,ko=Jt.ra+8*Sn*Qi+8*dn,ks=Jt.Ha,Jt=Jt.Ia+8*Sn*Qi+8*dn;Sn=Cn.ld,0<dn&&(Fc(Qn,Mr,Ct,kn+4,Ci,Sn),ga(ba,ko,ks,Jt,Qi,kn+4,Ci,Sn)),Cn.La&&(bs(Qn,Mr,Ct,kn,Ci,Sn),_o(ba,ko,ks,Jt,Qi,kn,Ci,Sn)),0<or&&(xo(Qn,Mr,Ct,kn+4,Ci,Sn),Vl(ba,ko,ks,Jt,Qi,kn+4,Ci,Sn)),Cn.La&&(va(Qn,Mr,Ct,kn,Ci,Sn),ya(ba,ko,ks,Jt,Qi,kn,Ci,Sn))}}if(ae.ia&&alert("todo:DitherRow"),ue.put!=null){if(st=16*kt,kt=16*(kt+1),yr?(ue.y=ae.sa,ue.O=ae.ta+Lt,ue.f=ae.qa,ue.N=ae.ra+lr,ue.ea=ae.Ha,ue.W=ae.Ia+lr):(st-=ct,ue.y=Re,ue.O=Ve,ue.f=Oe,ue.N=be,ue.ea=wt,ue.W=St),mt||(kt-=ct),kt>ue.o&&(kt=ue.o),ue.F=null,ue.J=null,ae.Fa!=null&&0<ae.Fa.length&&st<kt&&(ue.J=Ml(ae,ue,st,kt-st),ue.F=ae.mb,ue.F==null&&ue.F.length==0)){we=en(ae,3,"Could not decode alpha data.");break e}st<ue.j&&(ct=ue.j-st,st=ue.j,e(!(1&ct)),ue.O+=ae.R*ct,ue.N+=ae.B*(ct>>1),ue.W+=ae.B*(ct>>1),ue.F!=null&&(ue.J+=ue.width*ct)),st<kt&&(ue.O+=ue.v,ue.N+=ue.v>>1,ue.W+=ue.v>>1,ue.F!=null&&(ue.J+=ue.v),ue.ka=st-ue.j,ue.U=ue.va-ue.v,ue.T=kt-st,we=ue.put(ue))}ve+1!=ae.Ic||mt||(r(ae.sa,ae.ta-Se,Re,Ve+16*ae.R,Se),r(ae.qa,ae.ra-ze,Oe,be+8*ae.B,ze),r(ae.Ha,ae.Ia-ze,wt,St+8*ae.B,ze))}if(!we)return en(de,6,"Output aborted.")}return 1}(u,d)),d.bc!=null&&d.bc(d),x&=1}return x?(u.cb=0,x):0}function Zr(u,d,x,A,O){O=u[d+x+32*A]+(O>>3),u[d+x+32*A]=-256&O?0>O?0:255:O}function so(u,d,x,A,O,z){Zr(u,d,0,x,A+O),Zr(u,d,1,x,A+z),Zr(u,d,2,x,A-z),Zr(u,d,3,x,A-O)}function ir(u){return(20091*u>>16)+u}function Pl(u,d,x,A){var O,z=0,U=s(16);for(O=0;4>O;++O){var $=u[d+0]+u[d+8],W=u[d+0]-u[d+8],Q=(35468*u[d+4]>>16)-ir(u[d+12]),se=ir(u[d+4])+(35468*u[d+12]>>16);U[z+0]=$+se,U[z+1]=W+Q,U[z+2]=W-Q,U[z+3]=$-se,z+=4,d++}for(O=z=0;4>O;++O)$=(u=U[z+0]+4)+U[z+8],W=u-U[z+8],Q=(35468*U[z+4]>>16)-ir(U[z+12]),Zr(x,A,0,0,$+(se=ir(U[z+4])+(35468*U[z+12]>>16))),Zr(x,A,1,0,W+Q),Zr(x,A,2,0,W-Q),Zr(x,A,3,0,$-se),z++,A+=32}function bc(u,d,x,A){var O=u[d+0]+4,z=35468*u[d+4]>>16,U=ir(u[d+4]),$=35468*u[d+1]>>16;so(x,A,0,O+U,u=ir(u[d+1]),$),so(x,A,1,O+z,u,$),so(x,A,2,O-z,u,$),so(x,A,3,O-U,u,$)}function nf(u,d,x,A,O){Pl(u,d,x,A),O&&Pl(u,d+16,x,A+4)}function xc(u,d,x,A){Ki(u,d+0,x,A,1),Ki(u,d+32,x,A+128,1)}function rf(u,d,x,A){var O;for(u=u[d+0]+4,O=0;4>O;++O)for(d=0;4>d;++d)Zr(x,A,d,O,u)}function _c(u,d,x,A){u[d+0]&&Jn(u,d+0,x,A),u[d+16]&&Jn(u,d+16,x,A+4),u[d+32]&&Jn(u,d+32,x,A+128),u[d+48]&&Jn(u,d+48,x,A+128+4)}function sf(u,d,x,A){var O,z=s(16);for(O=0;4>O;++O){var U=u[d+0+O]+u[d+12+O],$=u[d+4+O]+u[d+8+O],W=u[d+4+O]-u[d+8+O],Q=u[d+0+O]-u[d+12+O];z[0+O]=U+$,z[8+O]=U-$,z[4+O]=Q+W,z[12+O]=Q-W}for(O=0;4>O;++O)U=(u=z[0+4*O]+3)+z[3+4*O],$=z[1+4*O]+z[2+4*O],W=z[1+4*O]-z[2+4*O],Q=u-z[3+4*O],x[A+0]=U+$>>3,x[A+16]=Q+W>>3,x[A+32]=U-$>>3,x[A+48]=Q-W>>3,A+=64}function jl(u,d,x){var A,O=d-32,z=vr,U=255-u[O-1];for(A=0;A<x;++A){var $,W=z,Q=U+u[d-1];for($=0;$<x;++$)u[d+$]=W[Q+u[O+$]];d+=32}}function af(u,d){jl(u,d,4)}function of(u,d){jl(u,d,8)}function lf(u,d){jl(u,d,16)}function Wi(u,d){var x;for(x=0;16>x;++x)r(u,d+32*x,u,d-32,16)}function ao(u,d){var x;for(x=16;0<x;--x)i(u,d,u[d-1],16),d+=32}function oo(u,d,x){var A;for(A=0;16>A;++A)i(d,x+32*A,u,16)}function Sc(u,d){var x,A=16;for(x=0;16>x;++x)A+=u[d-1+32*x]+u[d+x-32];oo(A>>5,u,d)}function Mn(u,d){var x,A=8;for(x=0;16>x;++x)A+=u[d-1+32*x];oo(A>>4,u,d)}function uf(u,d){var x,A=8;for(x=0;16>x;++x)A+=u[d+x-32];oo(A>>4,u,d)}function kc(u,d){oo(128,u,d)}function Ze(u,d,x){return u+2*d+x+2>>2}function cf(u,d){var x,A=d-32;for(A=new Uint8Array([Ze(u[A-1],u[A+0],u[A+1]),Ze(u[A+0],u[A+1],u[A+2]),Ze(u[A+1],u[A+2],u[A+3]),Ze(u[A+2],u[A+3],u[A+4])]),x=0;4>x;++x)r(u,d+32*x,A,0,A.length)}function df(u,d){var x=u[d-1],A=u[d-1+32],O=u[d-1+64],z=u[d-1+96];Ae(u,d+0,16843009*Ze(u[d-1-32],x,A)),Ae(u,d+32,16843009*Ze(x,A,O)),Ae(u,d+64,16843009*Ze(A,O,z)),Ae(u,d+96,16843009*Ze(O,z,z))}function Ai(u,d){var x,A=4;for(x=0;4>x;++x)A+=u[d+x-32]+u[d-1+32*x];for(A>>=3,x=0;4>x;++x)i(u,d+32*x,A,4)}function Nc(u,d){var x=u[d-1+0],A=u[d-1+32],O=u[d-1+64],z=u[d-1-32],U=u[d+0-32],$=u[d+1-32],W=u[d+2-32],Q=u[d+3-32];u[d+0+96]=Ze(A,O,u[d-1+96]),u[d+1+96]=u[d+0+64]=Ze(x,A,O),u[d+2+96]=u[d+1+64]=u[d+0+32]=Ze(z,x,A),u[d+3+96]=u[d+2+64]=u[d+1+32]=u[d+0+0]=Ze(U,z,x),u[d+3+64]=u[d+2+32]=u[d+1+0]=Ze($,U,z),u[d+3+32]=u[d+2+0]=Ze(W,$,U),u[d+3+0]=Ze(Q,W,$)}function Ac(u,d){var x=u[d+1-32],A=u[d+2-32],O=u[d+3-32],z=u[d+4-32],U=u[d+5-32],$=u[d+6-32],W=u[d+7-32];u[d+0+0]=Ze(u[d+0-32],x,A),u[d+1+0]=u[d+0+32]=Ze(x,A,O),u[d+2+0]=u[d+1+32]=u[d+0+64]=Ze(A,O,z),u[d+3+0]=u[d+2+32]=u[d+1+64]=u[d+0+96]=Ze(O,z,U),u[d+3+32]=u[d+2+64]=u[d+1+96]=Ze(z,U,$),u[d+3+64]=u[d+2+96]=Ze(U,$,W),u[d+3+96]=Ze($,W,W)}function lo(u,d){var x=u[d-1+0],A=u[d-1+32],O=u[d-1+64],z=u[d-1-32],U=u[d+0-32],$=u[d+1-32],W=u[d+2-32],Q=u[d+3-32];u[d+0+0]=u[d+1+64]=z+U+1>>1,u[d+1+0]=u[d+2+64]=U+$+1>>1,u[d+2+0]=u[d+3+64]=$+W+1>>1,u[d+3+0]=W+Q+1>>1,u[d+0+96]=Ze(O,A,x),u[d+0+64]=Ze(A,x,z),u[d+0+32]=u[d+1+96]=Ze(x,z,U),u[d+1+32]=u[d+2+96]=Ze(z,U,$),u[d+2+32]=u[d+3+96]=Ze(U,$,W),u[d+3+32]=Ze($,W,Q)}function Cl(u,d){var x=u[d+0-32],A=u[d+1-32],O=u[d+2-32],z=u[d+3-32],U=u[d+4-32],$=u[d+5-32],W=u[d+6-32],Q=u[d+7-32];u[d+0+0]=x+A+1>>1,u[d+1+0]=u[d+0+64]=A+O+1>>1,u[d+2+0]=u[d+1+64]=O+z+1>>1,u[d+3+0]=u[d+2+64]=z+U+1>>1,u[d+0+32]=Ze(x,A,O),u[d+1+32]=u[d+0+96]=Ze(A,O,z),u[d+2+32]=u[d+1+96]=Ze(O,z,U),u[d+3+32]=u[d+2+96]=Ze(z,U,$),u[d+3+64]=Ze(U,$,W),u[d+3+96]=Ze($,W,Q)}function hf(u,d){var x=u[d-1+0],A=u[d-1+32],O=u[d-1+64],z=u[d-1+96];u[d+0+0]=x+A+1>>1,u[d+2+0]=u[d+0+32]=A+O+1>>1,u[d+2+32]=u[d+0+64]=O+z+1>>1,u[d+1+0]=Ze(x,A,O),u[d+3+0]=u[d+1+32]=Ze(A,O,z),u[d+3+32]=u[d+1+64]=Ze(O,z,z),u[d+3+64]=u[d+2+64]=u[d+0+96]=u[d+1+96]=u[d+2+96]=u[d+3+96]=z}function ff(u,d){var x=u[d-1+0],A=u[d-1+32],O=u[d-1+64],z=u[d-1+96],U=u[d-1-32],$=u[d+0-32],W=u[d+1-32],Q=u[d+2-32];u[d+0+0]=u[d+2+32]=x+U+1>>1,u[d+0+32]=u[d+2+64]=A+x+1>>1,u[d+0+64]=u[d+2+96]=O+A+1>>1,u[d+0+96]=z+O+1>>1,u[d+3+0]=Ze($,W,Q),u[d+2+0]=Ze(U,$,W),u[d+1+0]=u[d+3+32]=Ze(x,U,$),u[d+1+32]=u[d+3+64]=Ze(A,x,U),u[d+1+64]=u[d+3+96]=Ze(O,A,x),u[d+1+96]=Ze(z,O,A)}function pf(u,d){var x;for(x=0;8>x;++x)r(u,d+32*x,u,d-32,8)}function El(u,d){var x;for(x=0;8>x;++x)i(u,d,u[d-1],8),d+=32}function da(u,d,x){var A;for(A=0;8>A;++A)i(d,x+32*A,u,8)}function ms(u,d){var x,A=8;for(x=0;8>x;++x)A+=u[d+x-32]+u[d-1+32*x];da(A>>4,u,d)}function mf(u,d){var x,A=4;for(x=0;8>x;++x)A+=u[d+x-32];da(A>>3,u,d)}function ha(u,d){var x,A=4;for(x=0;8>x;++x)A+=u[d-1+32*x];da(A>>3,u,d)}function Ll(u,d){da(128,u,d)}function uo(u,d,x){var A=u[d-x],O=u[d+0],z=3*(O-A)+xf[1020+u[d-2*x]-u[d+x]],U=zc[112+(z+4>>3)];u[d-x]=vr[255+A+zc[112+(z+3>>3)]],u[d+0]=vr[255+O-U]}function Pc(u,d,x,A){var O=u[d+0],z=u[d+x];return Dr[255+u[d-2*x]-u[d-x]]>A||Dr[255+z-O]>A}function jc(u,d,x,A){return 4*Dr[255+u[d-x]-u[d+0]]+Dr[255+u[d-2*x]-u[d+x]]<=A}function Cc(u,d,x,A,O){var z=u[d-3*x],U=u[d-2*x],$=u[d-x],W=u[d+0],Q=u[d+x],se=u[d+2*x],pe=u[d+3*x];return 4*Dr[255+$-W]+Dr[255+U-Q]>A?0:Dr[255+u[d-4*x]-z]<=O&&Dr[255+z-U]<=O&&Dr[255+U-$]<=O&&Dr[255+pe-se]<=O&&Dr[255+se-Q]<=O&&Dr[255+Q-W]<=O}function Ec(u,d,x,A){var O=2*A+1;for(A=0;16>A;++A)jc(u,d+A,x,O)&&uo(u,d+A,x)}function Pi(u,d,x,A){var O=2*A+1;for(A=0;16>A;++A)jc(u,d+A*x,1,O)&&uo(u,d+A*x,1)}function Hi(u,d,x,A){var O;for(O=3;0<O;--O)Ec(u,d+=4*x,x,A)}function gf(u,d,x,A){var O;for(O=3;0<O;--O)Pi(u,d+=4,x,A)}function gs(u,d,x,A,O,z,U,$){for(z=2*z+1;0<O--;){if(Cc(u,d,x,z,U))if(Pc(u,d,x,$))uo(u,d,x);else{var W=u,Q=d,se=x,pe=W[Q-2*se],me=W[Q-se],de=W[Q+0],xe=W[Q+se],ve=W[Q+2*se],ae=27*(we=xf[1020+3*(de-me)+xf[1020+pe-xe]])+63>>7,ue=18*we+63>>7,we=9*we+63>>7;W[Q-3*se]=vr[255+W[Q-3*se]+we],W[Q-2*se]=vr[255+pe+ue],W[Q-se]=vr[255+me+ae],W[Q+0]=vr[255+de-ae],W[Q+se]=vr[255+xe-ue],W[Q+2*se]=vr[255+ve-we]}d+=A}}function ei(u,d,x,A,O,z,U,$){for(z=2*z+1;0<O--;){if(Cc(u,d,x,z,U))if(Pc(u,d,x,$))uo(u,d,x);else{var W=u,Q=d,se=x,pe=W[Q-se],me=W[Q+0],de=W[Q+se],xe=zc[112+((ve=3*(me-pe))+4>>3)],ve=zc[112+(ve+3>>3)],ae=xe+1>>1;W[Q-2*se]=vr[255+W[Q-2*se]+ae],W[Q-se]=vr[255+pe+ve],W[Q+0]=vr[255+me-xe],W[Q+se]=vr[255+de-ae]}d+=A}}function Tl(u,d,x,A,O,z){gs(u,d,x,1,16,A,O,z)}function fa(u,d,x,A,O,z){gs(u,d,1,x,16,A,O,z)}function vf(u,d,x,A,O,z){var U;for(U=3;0<U;--U)ei(u,d+=4*x,x,1,16,A,O,z)}function co(u,d,x,A,O,z){var U;for(U=3;0<U;--U)ei(u,d+=4,1,x,16,A,O,z)}function yf(u,d,x,A,O,z,U,$){gs(u,d,O,1,8,z,U,$),gs(x,A,O,1,8,z,U,$)}function Rl(u,d,x,A,O,z,U,$){gs(u,d,1,O,8,z,U,$),gs(x,A,1,O,8,z,U,$)}function Il(u,d,x,A,O,z,U,$){ei(u,d+4*O,O,1,8,z,U,$),ei(x,A+4*O,O,1,8,z,U,$)}function Lc(u,d,x,A,O,z,U,$){ei(u,d+4,1,O,8,z,U,$),ei(x,A+4,1,O,8,z,U,$)}function ho(){this.ba=new Kr,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new Kt,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ol(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function Dl(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Tc(){this.ua=0,this.Wa=new J,this.vb=new J,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new G,this.yc=new C}function wf(){this.xb=this.a=0,this.l=new io,this.ca=new Kr,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Tc,this.ab=0,this.gc=a(4,Dl),this.Oc=0}function fo(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function pa(u,d,x,A,O,z,U){for(u=u==null?0:u[d+0],d=0;d<U;++d)O[z+d]=u+x[A+d]&255,u=O[z+d]}function Fl(u,d,x,A,O,z,U){var $;if(u==null)pa(null,null,x,A,O,z,U);else for($=0;$<U;++$)O[z+$]=u[d+$]+x[A+$]&255}function vs(u,d,x,A,O,z,U){if(u==null)pa(null,null,x,A,O,z,U);else{var $,W=u[d+0],Q=W,se=W;for($=0;$<U;++$)Q=se+(W=u[d+$])-Q,se=x[A+$]+(-256&Q?0>Q?0:255:Q)&255,Q=W,O[z+$]=se}}function Ml(u,d,x,A){var O=d.width,z=d.o;if(e(u!=null&&d!=null),0>x||0>=A||x+A>z)return null;if(!u.Cc){if(u.ga==null){var U;if(u.ga=new fo,(U=u.ga==null)||(U=d.width*d.o,e(u.Gb.length==0),u.Gb=s(U),u.Uc=0,u.Gb==null?U=0:(u.mb=u.Gb,u.nb=u.Uc,u.rc=null,U=1),U=!U),!U){U=u.ga;var $=u.Fa,W=u.P,Q=u.qc,se=u.mb,pe=u.nb,me=W+1,de=Q-1,xe=U.l;if(e($!=null&&se!=null&&d!=null),Ss[0]=null,Ss[1]=pa,Ss[2]=Fl,Ss[3]=vs,U.ca=se,U.tb=pe,U.c=d.width,U.i=d.height,e(0<U.c&&0<U.i),1>=Q)d=0;else if(U.$a=$[W+0]>>0&3,U.Z=$[W+0]>>2&3,U.Lc=$[W+0]>>4&3,W=$[W+0]>>6&3,0>U.$a||1<U.$a||4<=U.Z||1<U.Lc||W)d=0;else if(xe.put=xi,xe.ac=Pn,xe.bc=_i,xe.ma=U,xe.width=d.width,xe.height=d.height,xe.Da=d.Da,xe.v=d.v,xe.va=d.va,xe.j=d.j,xe.o=d.o,U.$a)e:{e(U.$a==1),d=Lr();t:for(;;){if(d==null){d=0;break e}if(e(U!=null),U.mc=d,d.c=U.c,d.i=U.i,d.l=U.l,d.l.ma=U,d.l.width=U.c,d.l.height=U.i,d.a=0,I(d.m,$,me,de),!Ni(U.c,U.i,1,d,null)||(d.ab==1&&d.gc[0].hc==3&&$i(d.s)?(U.ic=1,$=d.c*d.i,d.Ta=null,d.Ua=0,d.V=s($),d.Ba=0,d.V==null?(d.a=1,d=0):d=1):(U.ic=0,d=ca(d,U.c)),!d))break t;d=1;break e}U.mc=null,d=0}else d=de>=U.c*U.i;U=!d}if(U)return null;u.ga.Lc!=1?u.Ga=0:A=z-x}e(u.ga!=null),e(x+A<=z);e:{if(d=($=u.ga).c,z=$.l.o,$.$a==0){if(me=u.rc,de=u.Vc,xe=u.Fa,W=u.P+1+x*d,Q=u.mb,se=u.nb+x*d,e(W<=u.P+u.qc),$.Z!=0)for(e(Ss[$.Z]!=null),U=0;U<A;++U)Ss[$.Z](me,de,xe,W,Q,se,d),me=Q,de=se,se+=d,W+=d;else for(U=0;U<A;++U)r(Q,se,xe,W,d),me=Q,de=se,se+=d,W+=d;u.rc=me,u.Vc=de}else{if(e($.mc!=null),d=x+A,e((U=$.mc)!=null),e(d<=U.i),U.C>=d)d=1;else if($.ic||he(),$.ic){$=U.V,me=U.Ba,de=U.c;var ve=U.i,ae=(xe=1,W=U.$/de,Q=U.$%de,se=U.m,pe=U.s,U.$),ue=de*ve,we=de*d,Se=pe.wc,be=ae<we?un(pe,Q,W):null;e(ae<=ue),e(d<=ve),e($i(pe));t:for(;;){for(;!se.h&&ae<we;){if(Q&Se||(be=un(pe,Q,W)),e(be!=null),te(se),256>(ve=rr(be.G[0],be.H[0],se)))$[me+ae]=ve,++ae,++Q>=de&&(Q=0,++W<=d&&!(W%16)&&Qr(U,W));else{if(!(280>ve)){xe=0;break t}ve=Yr(ve-256,se);var ze,Re=rr(be.G[4],be.H[4],se);if(te(se),!(ae>=(Re=Si(de,Re=Yr(Re,se)))&&ue-ae>=ve)){xe=0;break t}for(ze=0;ze<ve;++ze)$[me+ae+ze]=$[me+ae+ze-Re];for(ae+=ve,Q+=ve;Q>=de;)Q-=de,++W<=d&&!(W%16)&&Qr(U,W);ae<we&&Q&Se&&(be=un(pe,Q,W))}e(se.h==H(se))}Qr(U,W>d?d:W);break t}!xe||se.h&&ae<ue?(xe=0,U.a=se.h?5:3):U.$=ae,d=xe}else d=Xr(U,U.V,U.Ba,U.c,U.i,d,Za);if(!d){A=0;break e}}x+A>=z&&(u.Cc=1),A=1}if(!A)return null;if(u.Cc&&((A=u.ga)!=null&&(A.mc=null),u.ga=null,0<u.Ga))return alert("todo:WebPDequantizeLevels"),null}return u.nb+x*O}function g(u,d,x,A,O,z){for(;0<O--;){var U,$=u,W=d+(x?1:0),Q=u,se=d+(x?0:3);for(U=0;U<A;++U){var pe=Q[se+4*U];pe!=255&&(pe*=32897,$[W+4*U+0]=$[W+4*U+0]*pe>>23,$[W+4*U+1]=$[W+4*U+1]*pe>>23,$[W+4*U+2]=$[W+4*U+2]*pe>>23)}d+=z}}function D(u,d,x,A,O){for(;0<A--;){var z;for(z=0;z<x;++z){var U=u[d+2*z+0],$=15&(Q=u[d+2*z+1]),W=4369*$,Q=(240&Q|Q>>4)*W>>16;u[d+2*z+0]=(240&U|U>>4)*W>>16&240|(15&U|U<<4)*W>>16>>4&15,u[d+2*z+1]=240&Q|$}d+=O}}function ee(u,d,x,A,O,z,U,$){var W,Q,se=255;for(Q=0;Q<O;++Q){for(W=0;W<A;++W){var pe=u[d+W];z[U+4*W]=pe,se&=pe}d+=x,U+=$}return se!=255}function re(u,d,x,A,O){var z;for(z=0;z<O;++z)x[A+z]=u[d+z]>>8}function he(){Or=g,Rt=D,It=ee,nn=re}function ye(u,d,x){E[u]=function(A,O,z,U,$,W,Q,se,pe,me,de,xe,ve,ae,ue,we,Se){var be,ze=Se-1>>1,Re=$[W+0]|Q[se+0]<<16,Ve=pe[me+0]|de[xe+0]<<16;e(A!=null);var Oe=3*Re+Ve+131074>>2;for(d(A[O+0],255&Oe,Oe>>16,ve,ae),z!=null&&(Oe=3*Ve+Re+131074>>2,d(z[U+0],255&Oe,Oe>>16,ue,we)),be=1;be<=ze;++be){var wt=$[W+be]|Q[se+be]<<16,St=pe[me+be]|de[xe+be]<<16,mt=Re+wt+Ve+St+524296,ct=mt+2*(wt+Ve)>>3;Oe=ct+Re>>1,Re=(mt=mt+2*(Re+St)>>3)+wt>>1,d(A[O+2*be-1],255&Oe,Oe>>16,ve,ae+(2*be-1)*x),d(A[O+2*be-0],255&Re,Re>>16,ve,ae+(2*be-0)*x),z!=null&&(Oe=mt+Ve>>1,Re=ct+St>>1,d(z[U+2*be-1],255&Oe,Oe>>16,ue,we+(2*be-1)*x),d(z[U+2*be+0],255&Re,Re>>16,ue,we+(2*be+0)*x)),Re=wt,Ve=St}1&Se||(Oe=3*Re+Ve+131074>>2,d(A[O+Se-1],255&Oe,Oe>>16,ve,ae+(Se-1)*x),z!=null&&(Oe=3*Ve+Re+131074>>2,d(z[U+Se-1],255&Oe,Oe>>16,ue,we+(Se-1)*x)))}}function ke(){Fr[Bc]=qw,Fr[Uc]=cg,Fr[sg]=$w,Fr[qc]=dg,Fr[$c]=hg,Fr[_f]=fg,Fr[ag]=Ww,Fr[Sf]=cg,Fr[kf]=dg,Fr[Wc]=hg,Fr[Nf]=fg}function Me(u){return u&~Hw?0>u?0:255:u>>pg}function We(u,d){return Me((19077*u>>8)+(26149*d>>8)-14234)}function it(u,d,x){return Me((19077*u>>8)-(6419*d>>8)-(13320*x>>8)+8708)}function nt(u,d){return Me((19077*u>>8)+(33050*d>>8)-17685)}function ht(u,d,x,A,O){A[O+0]=We(u,x),A[O+1]=it(u,d,x),A[O+2]=nt(u,d)}function qt(u,d,x,A,O){A[O+0]=nt(u,d),A[O+1]=it(u,d,x),A[O+2]=We(u,x)}function Yt(u,d,x,A,O){var z=it(u,d,x);d=z<<3&224|nt(u,d)>>3,A[O+0]=248&We(u,x)|z>>5,A[O+1]=d}function cn(u,d,x,A,O){var z=240&nt(u,d)|15;A[O+0]=240&We(u,x)|it(u,d,x)>>4,A[O+1]=z}function zn(u,d,x,A,O){A[O+0]=255,ht(u,d,x,A,O+1)}function _n(u,d,x,A,O){qt(u,d,x,A,O),A[O+3]=255}function ti(u,d,x,A,O){ht(u,d,x,A,O),A[O+3]=255}function gr(u,d){return 0>u?0:u>d?d:u}function ji(u,d,x){E[u]=function(A,O,z,U,$,W,Q,se,pe){for(var me=se+(-2&pe)*x;se!=me;)d(A[O+0],z[U+0],$[W+0],Q,se),d(A[O+1],z[U+0],$[W+0],Q,se+x),O+=2,++U,++W,se+=2*x;1&pe&&d(A[O+0],z[U+0],$[W+0],Q,se)}}function Rc(u,d,x){return x==0?u==0?d==0?6:5:d==0?4:0:x}function zl(u,d,x,A,O){switch(u>>>30){case 3:Ki(d,x,A,O,0);break;case 2:tn(d,x,A,O);break;case 1:Jn(d,x,A,O)}}function Bl(u,d){var x,A,O=d.M,z=d.Nb,U=u.oc,$=u.pc+40,W=u.oc,Q=u.pc+584,se=u.oc,pe=u.pc+600;for(x=0;16>x;++x)U[$+32*x-1]=129;for(x=0;8>x;++x)W[Q+32*x-1]=129,se[pe+32*x-1]=129;for(0<O?U[$-1-32]=W[Q-1-32]=se[pe-1-32]=129:(i(U,$-32-1,127,21),i(W,Q-32-1,127,9),i(se,pe-32-1,127,9)),A=0;A<u.za;++A){var me=d.ya[d.aa+A];if(0<A){for(x=-1;16>x;++x)r(U,$+32*x-4,U,$+32*x+12,4);for(x=-1;8>x;++x)r(W,Q+32*x-4,W,Q+32*x+4,4),r(se,pe+32*x-4,se,pe+32*x+4,4)}var de=u.Gd,xe=u.Hd+A,ve=me.ad,ae=me.Hc;if(0<O&&(r(U,$-32,de[xe].y,0,16),r(W,Q-32,de[xe].f,0,8),r(se,pe-32,de[xe].ea,0,8)),me.Za){var ue=U,we=$-32+16;for(0<O&&(A>=u.za-1?i(ue,we,de[xe].y[15],4):r(ue,we,de[xe+1].y,0,4)),x=0;4>x;x++)ue[we+128+x]=ue[we+256+x]=ue[we+384+x]=ue[we+0+x];for(x=0;16>x;++x,ae<<=2)ue=U,we=$+gg[x],ni[me.Ob[x]](ue,we),zl(ae,ve,16*+x,ue,we)}else if(ue=Rc(A,O,me.Ob[0]),_s[ue](U,$),ae!=0)for(x=0;16>x;++x,ae<<=2)zl(ae,ve,16*+x,U,$+gg[x]);for(x=me.Gc,ue=Rc(A,O,me.Dd),Ji[ue](W,Q),Ji[ue](se,pe),ae=ve,ue=W,we=Q,255&(me=x>>0)&&(170&me?Hl(ae,256,ue,we):Rr(ae,256,ue,we)),me=se,ae=pe,255&(x>>=8)&&(170&x?Hl(ve,320,me,ae):Rr(ve,320,me,ae)),O<u.Ub-1&&(r(de[xe].y,0,U,$+480,16),r(de[xe].f,0,W,Q+224,8),r(de[xe].ea,0,se,pe+224,8)),x=8*z*u.B,de=u.sa,xe=u.ta+16*A+16*z*u.R,ve=u.qa,me=u.ra+8*A+x,ae=u.Ha,ue=u.Ia+8*A+x,x=0;16>x;++x)r(de,xe+x*u.R,U,$+32*x,16);for(x=0;8>x;++x)r(ve,me+x*u.B,W,Q+32*x,8),r(ae,ue+x*u.B,se,pe+32*x,8)}}function po(u,d,x,A,O,z,U,$,W){var Q=[0],se=[0],pe=0,me=W!=null?W.kd:0,de=W??new Ol;if(u==null||12>x)return 7;de.data=u,de.w=d,de.ha=x,d=[d],x=[x],de.gb=[de.gb];e:{var xe=d,ve=x,ae=de.gb;if(e(u!=null),e(ve!=null),e(ae!=null),ae[0]=0,12<=ve[0]&&!n(u,xe[0],"RIFF")){if(n(u,xe[0]+8,"WEBP")){ae=3;break e}var ue=Le(u,xe[0]+4);if(12>ue||4294967286<ue){ae=3;break e}if(me&&ue>ve[0]-8){ae=7;break e}ae[0]=ue,xe[0]+=12,ve[0]-=12}ae=0}if(ae!=0)return ae;for(ue=0<de.gb[0],x=x[0];;){e:{var we=u;ve=d,ae=x;var Se=Q,be=se,ze=xe=[0];if((Oe=pe=[pe])[0]=0,8>ae[0])ae=7;else{if(!n(we,ve[0],"VP8X")){if(Le(we,ve[0]+4)!=10){ae=3;break e}if(18>ae[0]){ae=7;break e}var Re=Le(we,ve[0]+8),Ve=1+Ee(we,ve[0]+12);if(2147483648<=Ve*(we=1+Ee(we,ve[0]+15))){ae=3;break e}ze!=null&&(ze[0]=Re),Se!=null&&(Se[0]=Ve),be!=null&&(be[0]=we),ve[0]+=18,ae[0]-=18,Oe[0]=1}ae=0}}if(pe=pe[0],xe=xe[0],ae!=0)return ae;if(ve=!!(2&xe),!ue&&pe)return 3;if(z!=null&&(z[0]=!!(16&xe)),U!=null&&(U[0]=ve),$!=null&&($[0]=0),U=Q[0],xe=se[0],pe&&ve&&W==null){ae=0;break}if(4>x){ae=7;break}if(ue&&pe||!ue&&!pe&&!n(u,d[0],"ALPH")){x=[x],de.na=[de.na],de.P=[de.P],de.Sa=[de.Sa];e:{Re=u,ae=d,ue=x;var Oe=de.gb;Se=de.na,be=de.P,ze=de.Sa,Ve=22,e(Re!=null),e(ue!=null),we=ae[0];var wt=ue[0];for(e(Se!=null),e(ze!=null),Se[0]=null,be[0]=null,ze[0]=0;;){if(ae[0]=we,ue[0]=wt,8>wt){ae=7;break e}var St=Le(Re,we+4);if(4294967286<St){ae=3;break e}var mt=8+St+1&-2;if(Ve+=mt,0<Oe&&Ve>Oe){ae=3;break e}if(!n(Re,we,"VP8 ")||!n(Re,we,"VP8L")){ae=0;break e}if(wt[0]<mt){ae=7;break e}n(Re,we,"ALPH")||(Se[0]=Re,be[0]=we+8,ze[0]=St),we+=mt,wt-=mt}}if(x=x[0],de.na=de.na[0],de.P=de.P[0],de.Sa=de.Sa[0],ae!=0)break}x=[x],de.Ja=[de.Ja],de.xa=[de.xa];e:if(Oe=u,ae=d,ue=x,Se=de.gb[0],be=de.Ja,ze=de.xa,Re=ae[0],we=!n(Oe,Re,"VP8 "),Ve=!n(Oe,Re,"VP8L"),e(Oe!=null),e(ue!=null),e(be!=null),e(ze!=null),8>ue[0])ae=7;else{if(we||Ve){if(Oe=Le(Oe,Re+4),12<=Se&&Oe>Se-12){ae=3;break e}if(me&&Oe>ue[0]-8){ae=7;break e}be[0]=Oe,ae[0]+=8,ue[0]-=8,ze[0]=Ve}else ze[0]=5<=ue[0]&&Oe[Re+0]==47&&!(Oe[Re+4]>>5),be[0]=ue[0];ae=0}if(x=x[0],de.Ja=de.Ja[0],de.xa=de.xa[0],d=d[0],ae!=0)break;if(4294967286<de.Ja)return 3;if($==null||ve||($[0]=de.xa?2:1),U=[U],xe=[xe],de.xa){if(5>x){ae=7;break}$=U,me=xe,ve=z,u==null||5>x?u=0:5<=x&&u[d+0]==47&&!(u[d+4]>>5)?(ue=[0],Oe=[0],Se=[0],I(be=new P,u,d,x),Ke(be,ue,Oe,Se)?($!=null&&($[0]=ue[0]),me!=null&&(me[0]=Oe[0]),ve!=null&&(ve[0]=Se[0]),u=1):u=0):u=0}else{if(10>x){ae=7;break}$=xe,u==null||10>x||!vc(u,d+3,x-3)?u=0:(me=u[d+0]|u[d+1]<<8|u[d+2]<<16,ve=16383&(u[d+7]<<8|u[d+6]),u=16383&(u[d+9]<<8|u[d+8]),1&me||3<(me>>1&7)||!(me>>4&1)||me>>5>=de.Ja||!ve||!u?u=0:(U&&(U[0]=ve),$&&($[0]=u),u=1))}if(!u||(U=U[0],xe=xe[0],pe&&(Q[0]!=U||se[0]!=xe)))return 3;W!=null&&(W[0]=de,W.offset=d-W.w,e(4294967286>d-W.w),e(W.offset==W.ha-x));break}return ae==0||ae==7&&pe&&W==null?(z!=null&&(z[0]|=de.na!=null&&0<de.na.length),A!=null&&(A[0]=U),O!=null&&(O[0]=xe),0):ae}function Ul(u,d,x){var A=d.width,O=d.height,z=0,U=0,$=A,W=O;if(d.Da=u!=null&&0<u.Da,d.Da&&($=u.cd,W=u.bd,z=u.v,U=u.j,11>x||(z&=-2,U&=-2),0>z||0>U||0>=$||0>=W||z+$>A||U+W>O))return 0;if(d.v=z,d.j=U,d.va=z+$,d.o=U+W,d.U=$,d.T=W,d.da=u!=null&&0<u.da,d.da){if(!Te($,W,x=[u.ib],z=[u.hb]))return 0;d.ib=x[0],d.hb=z[0]}return d.ob=u!=null&&u.ob,d.Kb=u==null||!u.Sd,d.da&&(d.ob=d.ib<3*A/4&&d.hb<3*O/4,d.Kb=0),1}function ql(u){if(u==null)return 2;if(11>u.S){var d=u.f.RGBA;d.fb+=(u.height-1)*d.A,d.A=-d.A}else d=u.f.kb,u=u.height,d.O+=(u-1)*d.fa,d.fa=-d.fa,d.N+=(u-1>>1)*d.Ab,d.Ab=-d.Ab,d.W+=(u-1>>1)*d.Db,d.Db=-d.Db,d.F!=null&&(d.J+=(u-1)*d.lb,d.lb=-d.lb);return 0}function mo(u,d,x,A){if(A==null||0>=u||0>=d)return 2;if(x!=null){if(x.Da){var O=x.cd,z=x.bd,U=-2&x.v,$=-2&x.j;if(0>U||0>$||0>=O||0>=z||U+O>u||$+z>d)return 2;u=O,d=z}if(x.da){if(!Te(u,d,O=[x.ib],z=[x.hb]))return 2;u=O[0],d=z[0]}}A.width=u,A.height=d;e:{var W=A.width,Q=A.height;if(u=A.S,0>=W||0>=Q||!(u>=Bc&&13>u))u=2;else{if(0>=A.Rd&&A.sd==null){U=z=O=d=0;var se=($=W*vg[u])*Q;if(11>u||(z=(Q+1)/2*(d=(W+1)/2),u==12&&(U=(O=W)*Q)),(Q=s(se+2*z+U))==null){u=1;break e}A.sd=Q,11>u?((W=A.f.RGBA).eb=Q,W.fb=0,W.A=$,W.size=se):((W=A.f.kb).y=Q,W.O=0,W.fa=$,W.Fd=se,W.f=Q,W.N=0+se,W.Ab=d,W.Cd=z,W.ea=Q,W.W=0+se+z,W.Db=d,W.Ed=z,u==12&&(W.F=Q,W.J=0+se+2*z),W.Tc=U,W.lb=O)}if(d=1,O=A.S,z=A.width,U=A.height,O>=Bc&&13>O)if(11>O)u=A.f.RGBA,d&=($=Math.abs(u.A))*(U-1)+z<=u.size,d&=$>=z*vg[O],d&=u.eb!=null;else{u=A.f.kb,$=(z+1)/2,se=(U+1)/2,W=Math.abs(u.fa),Q=Math.abs(u.Ab);var pe=Math.abs(u.Db),me=Math.abs(u.lb),de=me*(U-1)+z;d&=W*(U-1)+z<=u.Fd,d&=Q*(se-1)+$<=u.Cd,d=(d&=pe*(se-1)+$<=u.Ed)&W>=z&Q>=$&pe>=$,d&=u.y!=null,d&=u.f!=null,d&=u.ea!=null,O==12&&(d&=me>=z,d&=de<=u.Tc,d&=u.F!=null)}else d=0;u=d?0:2}}return u!=0||x!=null&&x.fd&&(u=ql(A)),u}var jn=64,go=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],vo=24,yo=32,$l=8,sr=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];je("Predictor0","PredictorAdd0"),E.Predictor0=function(){return 4278190080},E.Predictor1=function(u){return u},E.Predictor2=function(u,d,x){return d[x+0]},E.Predictor3=function(u,d,x){return d[x+1]},E.Predictor4=function(u,d,x){return d[x-1]},E.Predictor5=function(u,d,x){return Ie(Ie(u,d[x+1]),d[x+0])},E.Predictor6=function(u,d,x){return Ie(u,d[x-1])},E.Predictor7=function(u,d,x){return Ie(u,d[x+0])},E.Predictor8=function(u,d,x){return Ie(d[x-1],d[x+0])},E.Predictor9=function(u,d,x){return Ie(d[x+0],d[x+1])},E.Predictor10=function(u,d,x){return Ie(Ie(u,d[x-1]),Ie(d[x+0],d[x+1]))},E.Predictor11=function(u,d,x){var A=d[x+0];return 0>=at(A>>24&255,u>>24&255,(d=d[x-1])>>24&255)+at(A>>16&255,u>>16&255,d>>16&255)+at(A>>8&255,u>>8&255,d>>8&255)+at(255&A,255&u,255&d)?A:u},E.Predictor12=function(u,d,x){var A=d[x+0];return($e((u>>24&255)+(A>>24&255)-((d=d[x-1])>>24&255))<<24|$e((u>>16&255)+(A>>16&255)-(d>>16&255))<<16|$e((u>>8&255)+(A>>8&255)-(d>>8&255))<<8|$e((255&u)+(255&A)-(255&d)))>>>0},E.Predictor13=function(u,d,x){var A=d[x-1];return(et((u=Ie(u,d[x+0]))>>24&255,A>>24&255)<<24|et(u>>16&255,A>>16&255)<<16|et(u>>8&255,A>>8&255)<<8|et(u>>0&255,A>>0&255))>>>0};var bf=E.PredictorAdd0;E.PredictorAdd1=ot,je("Predictor2","PredictorAdd2"),je("Predictor3","PredictorAdd3"),je("Predictor4","PredictorAdd4"),je("Predictor5","PredictorAdd5"),je("Predictor6","PredictorAdd6"),je("Predictor7","PredictorAdd7"),je("Predictor8","PredictorAdd8"),je("Predictor9","PredictorAdd9"),je("Predictor10","PredictorAdd10"),je("Predictor11","PredictorAdd11"),je("Predictor12","PredictorAdd12"),je("Predictor13","PredictorAdd13");var Wl=E.PredictorAdd2;lt("ColorIndexInverseTransform","MapARGB","32b",function(u){return u>>8&255},function(u){return u}),lt("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(u){return u},function(u){return u>>8&255});var Ic,Tr=E.ColorIndexInverseTransform,wo=E.MapARGB,Oc=E.VP8LColorIndexInverseTransformAlpha,Dc=E.MapAlpha,ys=E.VP8LPredictorsAdd=[];ys.length=16,(E.VP8LPredictors=[]).length=16,(E.VP8LPredictorsAdd_C=[]).length=16,(E.VP8LPredictors_C=[]).length=16;var ma,ar,Yn,ws,Vi,Gi,bo,Ki,tn,Hl,Jn,Rr,xo,Fc,Vl,ga,va,bs,ya,_o,wa,xs,Gl,Ir,Or,Rt,It,nn,gn=s(511),Yi=s(2041),Kl=s(225),So=s(767),Mc=0,xf=Yi,zc=Kl,vr=So,Dr=gn,Bc=0,Uc=1,sg=2,qc=3,$c=4,_f=5,ag=6,Sf=7,kf=8,Wc=9,Nf=10,jw=[2,3,7],Cw=[3,3,11],og=[280,256,256,256,40],Ew=[0,1,1,1,0],Lw=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Tw=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],Rw=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Iw=8,Af=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Pf=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Yl=null,Ow=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Dw=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],lg=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Fw=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],Mw=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],zw=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Bw=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],_s=[],ni=[],Ji=[],Uw=1,ug=2,Ss=[],Fr=[];ye("UpsampleRgbLinePair",ht,3),ye("UpsampleBgrLinePair",qt,3),ye("UpsampleRgbaLinePair",ti,4),ye("UpsampleBgraLinePair",_n,4),ye("UpsampleArgbLinePair",zn,4),ye("UpsampleRgba4444LinePair",cn,2),ye("UpsampleRgb565LinePair",Yt,2);var qw=E.UpsampleRgbLinePair,$w=E.UpsampleBgrLinePair,cg=E.UpsampleRgbaLinePair,dg=E.UpsampleBgraLinePair,hg=E.UpsampleArgbLinePair,fg=E.UpsampleRgba4444LinePair,Ww=E.UpsampleRgb565LinePair,Hc=16,Vc=1<<Hc-1,Jl=-227,jf=482,pg=6,Hw=(256<<pg)-1,mg=0,Vw=s(256),Gw=s(256),Kw=s(256),Yw=s(256),Jw=s(jf-Jl),Qw=s(jf-Jl);ji("YuvToRgbRow",ht,3),ji("YuvToBgrRow",qt,3),ji("YuvToRgbaRow",ti,4),ji("YuvToBgraRow",_n,4),ji("YuvToArgbRow",zn,4),ji("YuvToRgba4444Row",cn,2),ji("YuvToRgb565Row",Yt,2);var gg=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Gc=[0,2,8],Xw=[8,7,6,4,4,2,2,2,1,1,1,1],Zw=1;this.WebPDecodeRGBA=function(u,d,x,A,O){var z=Uc,U=new ho,$=new Kr;U.ba=$,$.S=z,$.width=[$.width],$.height=[$.height];var W=$.width,Q=$.height,se=new qi;if(se==null||u==null)var pe=2;else e(se!=null),pe=po(u,d,x,se.width,se.height,se.Pd,se.Qd,se.format,null);if(pe!=0?W=0:(W!=null&&(W[0]=se.width[0]),Q!=null&&(Q[0]=se.height[0]),W=1),W){$.width=$.width[0],$.height=$.height[0],A!=null&&(A[0]=$.width),O!=null&&(O[0]=$.height);e:{if(A=new io,(O=new Ol).data=u,O.w=d,O.ha=x,O.kd=1,d=[0],e(O!=null),((u=po(O.data,O.w,O.ha,null,null,null,d,null,O))==0||u==7)&&d[0]&&(u=4),(d=u)==0){if(e(U!=null),A.data=O.data,A.w=O.w+O.offset,A.ha=O.ha-O.offset,A.put=xi,A.ac=Pn,A.bc=_i,A.ma=U,O.xa){if((u=Lr())==null){U=1;break e}if(function(me,de){var xe=[0],ve=[0],ae=[0];t:for(;;){if(me==null)return 0;if(de==null)return me.a=2,0;if(me.l=de,me.a=0,I(me.m,de.data,de.w,de.ha),!Ke(me.m,xe,ve,ae)){me.a=3;break t}if(me.xb=ug,de.width=xe[0],de.height=ve[0],!Ni(xe[0],ve[0],1,me,null))break t;return 1}return e(me.a!=0),0}(u,A)){if(A=(d=mo(A.width,A.height,U.Oa,U.ba))==0){t:{A=u;n:for(;;){if(A==null){A=0;break t}if(e(A.s.yc!=null),e(A.s.Ya!=null),e(0<A.s.Wb),e((x=A.l)!=null),e((O=x.ma)!=null),A.xb!=0){if(A.ca=O.ba,A.tb=O.tb,e(A.ca!=null),!Ul(O.Oa,x,qc)){A.a=2;break n}if(!ca(A,x.width)||x.da)break n;if((x.da||xt(A.ca.S))&&he(),11>A.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),A.ca.f.kb.F!=null&&he()),A.Pb&&0<A.s.ua&&A.s.vb.X==null&&!He(A.s.vb,A.s.Wa.Xa)){A.a=1;break n}A.xb=0}if(!Xr(A,A.V,A.Ba,A.c,A.i,x.o,Xa))break n;O.Dc=A.Ma,A=1;break t}e(A.a!=0),A=0}A=!A}A&&(d=u.a)}else d=u.a}else{if((u=new ef)==null){U=1;break e}if(u.Fa=O.na,u.P=O.P,u.qc=O.Sa,yc(u,A)){if((d=mo(A.width,A.height,U.Oa,U.ba))==0){if(u.Aa=0,x=U.Oa,e((O=u)!=null),x!=null){if(0<(W=0>(W=x.Md)?0:100<W?255:255*W/100)){for(Q=se=0;4>Q;++Q)12>(pe=O.pb[Q]).lc&&(pe.ia=W*Xw[0>pe.lc?0:pe.lc]>>3),se|=pe.ia;se&&(alert("todo:VP8InitRandom"),O.ia=1)}O.Ga=x.Id,100<O.Ga?O.Ga=100:0>O.Ga&&(O.Ga=0)}tf(u,A)||(d=u.a)}}else d=u.a}d==0&&U.Oa!=null&&U.Oa.fd&&(d=ql(U.ba))}U=d}z=U!=0?null:11>z?$.f.RGBA.eb:$.f.kb.y}else z=null;return z};var vg=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function c(E,V){for(var X="",T=0;T<4;T++)X+=String.fromCharCode(E[V++]);return X}function m(E,V){return(E[V+0]<<0|E[V+1]<<8|E[V+2]<<16)>>>0}function f(E,V){return(E[V+0]<<0|E[V+1]<<8|E[V+2]<<16|E[V+3]<<24)>>>0}new l;var y=[0],h=[0],k=[],S=new l,_=t,b=function(E,V){var X={},T=0,C=!1,Y=0,G=0;if(X.frames=[],!function(B,H,Z,te){for(var le=0;le<te;le++)if(B[H+le]!=Z.charCodeAt(le))return!0;return!1}(E,V,"RIFF",4)){var ce,R;for(f(E,V+=4),V+=8;V<E.length;){var j=c(E,V),I=f(E,V+=4);V+=4;var M=I+(1&I);switch(j){case"VP8 ":case"VP8L":X.frames[T]===void 0&&(X.frames[T]={}),(P=X.frames[T]).src_off=C?G:V-8,P.src_size=Y+I+8,T++,C&&(C=!1,Y=0,G=0);break;case"VP8X":(P=X.header={}).feature_flags=E[V];var K=V+4;P.canvas_width=1+m(E,K),K+=3,P.canvas_height=1+m(E,K),K+=3;break;case"ALPH":C=!0,Y=M+8,G=V-8;break;case"ANIM":(P=X.header).bgcolor=f(E,V),K=V+4,P.loop_count=(ce=E)[(R=K)+0]<<0|ce[R+1]<<8,K+=2;break;case"ANMF":var ie,P;(P=X.frames[T]={}).offset_x=2*m(E,V),V+=3,P.offset_y=2*m(E,V),V+=3,P.width=1+m(E,V),V+=3,P.height=1+m(E,V),V+=3,P.duration=m(E,V),V+=3,ie=E[V++],P.dispose=1&ie,P.blend=ie>>1&1}j!="ANMF"&&(V+=M)}return X}}(_,0);b.response=_,b.rgbaoutput=!0,b.dataurl=!1;var p=b.header?b.header:null,w=b.frames?b.frames:null;if(p){p.loop_counter=p.loop_count,y=[p.canvas_height],h=[p.canvas_width];for(var N=0;N<w.length&&w[N].blend!=0;N++);}var F=w[0],q=S.WebPDecodeRGBA(_,F.src_off,F.src_size,h,y);F.rgba=q,F.imgwidth=h[0],F.imgheight=y[0];for(var L=0;L<h[0]*y[0]*4;L++)k[L]=q[L];return this.width=h,this.height=y,this.data=k,this}(function(t){var e=function(){return typeof qm=="function"},n=function(y,h,k,S){var _=4,b=a;switch(S){case t.image_compression.FAST:_=1,b=s;break;case t.image_compression.MEDIUM:_=6,b=o;break;case t.image_compression.SLOW:_=9,b=l}y=r(y,h,k,b);var p=qm(y,{level:_});return t.__addimage__.arrayBufferToBinaryString(p)},r=function(y,h,k,S){for(var _,b,p,w=y.length/h,N=new Uint8Array(y.length+w),F=m(),q=0;q<w;q+=1){if(p=q*h,_=y.subarray(p,p+h),S)N.set(S(_,k,b),p+q);else{for(var L,E=F.length,V=[];L<E;L+=1)V[L]=F[L](_,k,b);var X=f(V.concat());N.set(V[X],p+q)}b=_}return N},i=function(y){var h=Array.apply([],y);return h.unshift(0),h},s=function(y,h){var k,S=[],_=y.length;S[0]=1;for(var b=0;b<_;b+=1)k=y[b-h]||0,S[b+1]=y[b]-k+256&255;return S},a=function(y,h,k){var S,_=[],b=y.length;_[0]=2;for(var p=0;p<b;p+=1)S=k&&k[p]||0,_[p+1]=y[p]-S+256&255;return _},o=function(y,h,k){var S,_,b=[],p=y.length;b[0]=3;for(var w=0;w<p;w+=1)S=y[w-h]||0,_=k&&k[w]||0,b[w+1]=y[w]+256-(S+_>>>1)&255;return b},l=function(y,h,k){var S,_,b,p,w=[],N=y.length;w[0]=4;for(var F=0;F<N;F+=1)S=y[F-h]||0,_=k&&k[F]||0,b=k&&k[F-h]||0,p=c(S,_,b),w[F+1]=y[F]-p+256&255;return w},c=function(y,h,k){if(y===h&&h===k)return y;var S=Math.abs(h-k),_=Math.abs(y-k),b=Math.abs(y+h-k-k);return S<=_&&S<=b?y:_<=b?h:k},m=function(){return[i,s,a,o,l]},f=function(y){var h=y.map(function(k){return k.reduce(function(S,_){return S+Math.abs(_)},0)});return h.indexOf(Math.min.apply(null,h))};t.processPNG=function(y,h,k,S){var _,b,p,w,N,F,q,L,E,V,X,T,C,Y,G,ce=this.decode.FLATE_DECODE,R="";if(this.__addimage__.isArrayBuffer(y)&&(y=new Uint8Array(y)),this.__addimage__.isArrayBufferView(y)){if(y=(p=new gA(y)).imgData,b=p.bits,_=p.colorSpace,N=p.colors,[4,6].indexOf(p.colorType)!==-1){if(p.bits===8){E=(L=p.pixelBitlength==32?new Uint32Array(p.decodePixels().buffer):p.pixelBitlength==16?new Uint16Array(p.decodePixels().buffer):new Uint8Array(p.decodePixels().buffer)).length,X=new Uint8Array(E*p.colors),V=new Uint8Array(E);var j,I=p.pixelBitlength-p.bits;for(Y=0,G=0;Y<E;Y++){for(C=L[Y],j=0;j<I;)X[G++]=C>>>j&255,j+=p.bits;V[Y]=C>>>j&255}}if(p.bits===16){E=(L=new Uint32Array(p.decodePixels().buffer)).length,X=new Uint8Array(E*(32/p.pixelBitlength)*p.colors),V=new Uint8Array(E*(32/p.pixelBitlength)),T=p.colors>1,Y=0,G=0;for(var M=0;Y<E;)C=L[Y++],X[G++]=C>>>0&255,T&&(X[G++]=C>>>16&255,C=L[Y++],X[G++]=C>>>0&255),V[M++]=C>>>16&255;b=8}S!==t.image_compression.NONE&&e()?(y=n(X,p.width*p.colors,p.colors,S),q=n(V,p.width,1,S)):(y=X,q=V,ce=void 0)}if(p.colorType===3&&(_=this.color_spaces.INDEXED,F=p.palette,p.transparency.indexed)){var K=p.transparency.indexed,ie=0;for(Y=0,E=K.length;Y<E;++Y)ie+=K[Y];if((ie/=255)===E-1&&K.indexOf(0)!==-1)w=[K.indexOf(0)];else if(ie!==E){for(L=p.decodePixels(),V=new Uint8Array(L.length),Y=0,E=L.length;Y<E;Y++)V[Y]=K[L[Y]];q=n(V,p.width,1)}}var P=function(B){var H;switch(B){case t.image_compression.FAST:H=11;break;case t.image_compression.MEDIUM:H=13;break;case t.image_compression.SLOW:H=14;break;default:H=12}return H}(S);return ce===this.decode.FLATE_DECODE&&(R="/Predictor "+P+" "),R+="/Colors "+N+" /BitsPerComponent "+b+" /Columns "+p.width,(this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y))&&(y=this.__addimage__.arrayBufferToBinaryString(y)),(q&&this.__addimage__.isArrayBuffer(q)||this.__addimage__.isArrayBufferView(q))&&(q=this.__addimage__.arrayBufferToBinaryString(q)),{alias:k,data:y,index:h,filter:ce,decodeParameters:R,transparency:w,palette:F,sMask:q,predictor:P,width:p.width,height:p.height,bitsPerComponent:b,colorSpace:_}}}})(Ge.API),function(t){t.processGIF89A=function(e,n,r,i){var s=new vA(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var c={data:l,width:a,height:o},m=new Cp(100).encode(c,100);return t.processJPEG.call(this,m,n,r,i)},t.processGIF87A=t.processGIF89A}(Ge.API),ai.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var n=this.datav.getUint8(this.pos++,!0),r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:r,blue:n,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ai.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(n){Tt.log("bit decode error:"+n)}},ai.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),n=e%4;for(t=this.height-1;t>=0;t--){for(var r=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}n!==0&&(this.pos+=4-n)}},ai.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=r*this.width*4+2*i*4,o=s>>4,l=15&s,c=this.palette[o];if(this.data[a]=c.blue,this.data[a+1]=c.green,this.data[a+2]=c.red,this.data[a+3]=255,2*i+1>=this.width)break;c=this.palette[l],this.data[a+4]=c.blue,this.data[a+4+1]=c.green,this.data[a+4+2]=c.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},ai.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var n=this.bottom_up?e:this.height-1-e,r=0;r<this.width;r++){var i=this.datav.getUint8(this.pos++,!0),s=n*this.width*4+4*r;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},ai.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),n=this.height-1;n>=0;n--){for(var r=this.bottom_up?n:this.height-1-n,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,c=s>>15?255:0,m=r*this.width*4+4*i;this.data[m]=l,this.data[m+1]=o,this.data[m+2]=a,this.data[m+3]=c}this.pos+=t}},ai.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),n=parseInt("111111",2),r=this.height-1;r>=0;r--){for(var i=this.bottom_up?r:this.height-1-r,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&n)/n*255|0,c=(a>>11)/e*255|0,m=i*this.width*4+4*s;this.data[m]=c,this.data[m+1]=l,this.data[m+2]=o,this.data[m+3]=255}this.pos+=t}},ai.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*n;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=r,this.data[a+3]=255}this.pos+=this.width%4}},ai.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,n=0;n<this.width;n++){var r=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*n;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=r,this.data[o+3]=a}},ai.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,n,r,i){var s=new ai(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Cp(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ge.API),Qv.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,n,r,i){var s=new Qv(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},c=new Cp(100).encode(l,100);return t.processJPEG.call(this,c,n,r,i)}}(Ge.API),Ge.API.processRGBA=function(t,e,n){for(var r=t.data,i=r.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,c=0;c<i;c+=4){var m=r[c],f=r[c+1],y=r[c+2],h=r[c+3];s[o++]=m,s[o++]=f,s[o++]=y,a[l++]=h}var k=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:k,index:e,alias:n,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ge.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},Mo=Ge.API,Cd=Mo.getCharWidthsArray=function(t,e){var n,r,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,c=e.kerning?e.kerning:i.metadata.Unicode.kerning,m=c.fof?c.fof:1,f=e.doKerning!==!1,y=0,h=t.length,k=0,S=o[0]||l,_=[];for(n=0;n<h;n++)r=t.charCodeAt(n),typeof i.metadata.widthOfString=="function"?_.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(r))+a*(1e3/s)||0)/1e3):(y=f&&At(c[r])==="object"&&!isNaN(parseInt(c[r][k],10))?c[r][k]/m:0,_.push((o[r]||S)/l+y)),k=r;return _},Gv=Mo.getStringUnitWidth=function(t,e){var n=(e=e||{}).fontSize||this.internal.getFontSize(),r=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return Mo.processArabic&&(t=Mo.processArabic(t)),typeof r.metadata.widthOfString=="function"?r.metadata.widthOfString(t,n,i)/n:Cd.apply(this,arguments).reduce(function(s,a){return s+a},0)},Kv=function(t,e,n,r){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<n;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>r&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},Yv=function(t,e,n){n||(n={});var r,i,s,a,o,l,c,m=[],f=[m],y=n.textIndent||0,h=0,k=0,S=t.split(" "),_=Cd.apply(this,[" ",n])[0];if(l=n.lineIndent===-1?S[0].length+2:n.lineIndent||0){var b=Array(l).join(" "),p=[];S.map(function(N){(N=N.split(/\s*\n/)).length>1?p=p.concat(N.map(function(F,q){return(q&&F.length?`
`:"")+F})):p.push(N[0])}),S=p,l=Gv.apply(this,[b,n])}for(s=0,a=S.length;s<a;s++){var w=0;if(r=S[s],l&&r[0]==`
`&&(r=r.substr(1),w=1),y+h+(k=(i=Cd.apply(this,[r,n])).reduce(function(N,F){return N+F},0))>e||w){if(k>e){for(o=Kv.apply(this,[r,i,e-(y+h),e]),m.push(o.shift()),m=[o.pop()];o.length;)f.push([o.shift()]);k=i.slice(r.length-(m[0]?m[0].length:0)).reduce(function(N,F){return N+F},0)}else m=[r];f.push(m),y=k+l,h=_}else m.push(r),y+=h+k,h=_}return c=l?function(N,F){return(F?b:"")+N.join(" ")}:function(N){return N.join(" ")},f.map(c)},Mo.splitTextToSize=function(t,e,n){var r,i=(n=n||{}).fontSize||this.internal.getFontSize(),s=(function(m){if(m.widths&&m.kerning)return{widths:m.widths,kerning:m.kerning};var f=this.internal.getFont(m.fontName,m.fontStyle);return f.metadata.Unicode?{widths:f.metadata.Unicode.widths||{0:1},kerning:f.metadata.Unicode.kerning||{}}:{font:f.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,n);r=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=n.textIndent?1*n.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=n.lineIndent;var o,l,c=[];for(o=0,l=r.length;o<l;o++)c=c.concat(Yv.apply(this,[r[o],a,s]));return c},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",n={},r={},i=0;i<e.length;i++)n[e[i]]="0123456789abcdef"[i],r["0123456789abcdef"[i]]=e[i];var s=function(f){return"0x"+parseInt(f,10).toString(16)},a=t.__fontmetrics__.compress=function(f){var y,h,k,S,_=["{"];for(var b in f){if(y=f[b],isNaN(parseInt(b,10))?h="'"+b+"'":(b=parseInt(b,10),h=(h=s(b).slice(2)).slice(0,-1)+r[h.slice(-1)]),typeof y=="number")y<0?(k=s(y).slice(3),S="-"):(k=s(y).slice(2),S=""),k=S+k.slice(0,-1)+r[k.slice(-1)];else{if(At(y)!=="object")throw new Error("Don't know what to do with value type "+At(y)+".");k=a(y)}_.push(h+k)}return _.push("}"),_.join("")},o=t.__fontmetrics__.uncompress=function(f){if(typeof f!="string")throw new Error("Invalid argument passed to uncompress.");for(var y,h,k,S,_={},b=1,p=_,w=[],N="",F="",q=f.length-1,L=1;L<q;L+=1)(S=f[L])=="'"?y?(k=y.join(""),y=void 0):y=[]:y?y.push(S):S=="{"?(w.push([p,k]),p={},k=void 0):S=="}"?((h=w.pop())[0][h[1]]=p,k=void 0,p=h[0]):S=="-"?b=-1:k===void 0?n.hasOwnProperty(S)?(N+=n[S],k=parseInt(N,16)*b,b=1,N=""):N+=S:n.hasOwnProperty(S)?(F+=n[S],p[k]=parseInt(F,16)*b,b=1,k=void 0,F=""):F+=S;return _},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},c={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},m={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(f){var y=f.font,h=m.Unicode[y.postScriptName];h&&(y.metadata.Unicode={},y.metadata.Unicode.widths=h.widths,y.metadata.Unicode.kerning=h.kerning);var k=c.Unicode[y.postScriptName];k&&(y.metadata.Unicode.encoding=k,y.encoding=k.codePages[0])}])}(Ge.API),function(t){var e=function(n){for(var r=n.length,i=new Uint8Array(r),s=0;s<r;s++)i[s]=n.charCodeAt(s);return i};t.API.events.push(["addFont",function(n){var r=void 0,i=n.font,s=n.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(r=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(ju(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,r)}}])}(Ge),function(t){function e(){return(Qe.canvg?Promise.resolve(Qe.canvg):Fm(()=>import("./index.es-CEjM8RK0.js"),[])).catch(function(n){return Promise.reject(new Error("Could not load canvg: "+n))}).then(function(n){return n.default?n.default:n})}Ge.API.addSvgAsImage=function(n,r,i,s,a,o,l,c){if(isNaN(r)||isNaN(i))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var m=document.createElement("canvas");m.width=s,m.height=a;var f=m.getContext("2d");f.fillStyle="#fff",f.fillRect(0,0,m.width,m.height);var y={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},h=this;return e().then(function(k){return k.fromString(f,n,y)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(k){return k.render(y)}).then(function(){h.addImage(m.toDataURL("image/jpeg",1),r,i,s,a,l,c)})}}(),Ge.API.putTotalPages=function(t){var e,n=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),n=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),n=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var r=1;r<=this.internal.getNumberOfPages();r++)for(var i=0;i<this.internal.pages[r].length;i++)this.internal.pages[r][i]=this.internal.pages[r][i].replace(e,n);return this},Ge.API.viewerPreferences=function(t,e){var n;t=t||{},e=e||!1;var r,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],c=0,m=0,f=0;function y(k,S){var _,b=!1;for(_=0;_<k.length;_+=1)k[_]===S&&(b=!0);return b}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),n=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var h=o.length;for(f=0;f<h;f+=1)n[o[f]].value=n[o[f]].defaultValue,n[o[f]].explicitSet=!1}if(At(t)==="object"){for(i in t)if(s=t[i],y(o,i)&&s!==void 0){if(n[i].type==="boolean"&&typeof s=="boolean")n[i].value=s;else if(n[i].type==="name"&&y(n[i].valueSet,s))n[i].value=s;else if(n[i].type==="integer"&&Number.isInteger(s))n[i].value=s;else if(n[i].type==="array"){for(c=0;c<s.length;c+=1)if(r=!0,s[c].length===1&&typeof s[c][0]=="number")l.push(String(s[c]-1));else if(s[c].length>1){for(m=0;m<s[c].length;m+=1)typeof s[c][m]!="number"&&(r=!1);r===!0&&l.push([s[c][0]-1,s[c][1]-1].join(" "))}n[i].value="["+l.join(" ")+"]"}else n[i].value=n[i].defaultValue;n[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var k,S=[];for(k in n)n[k].explicitSet===!0&&(n[k].type==="name"?S.push("/"+k+" /"+n[k].value):S.push("/"+k+" "+n[k].value));S.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+S.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=n,this},function(t){var e=function(){var r='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(r)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),c=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+c+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},n=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(r,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:r,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",n),this.internal.events.subscribe("postPutResources",e)),this}}(Ge.API),function(t){var e=t.API,n=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,c=["","0","00","000","0000"],m=[""],f=0,y=s.length;f<y;++f){if(o=a.metadata.characterToGlyph(s.charCodeAt(f)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(f),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return m.join("");o=o.toString(16),m.push(c[4-o.length],o)}return m.join("")},r=function(s){var a,o,l,c,m,f,y;for(m=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],f=0,y=(o=Object.keys(s).sort(function(h,k){return h-k})).length;f<y;f++)a=o[f],l.length>=100&&(m+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(c=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+c+">"));return l.length&&(m+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),m+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,m=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var f=o.metadata.Unicode.widths,y=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),h="",k=0;k<y.length;k++)h+=String.fromCharCode(y[k]);var S=c();m({data:h,addLength1:!0,objectId:S}),l("endobj");var _=c();m({data:r(o.metadata.toUnicode),addLength1:!0,objectId:_}),l("endobj");var b=c();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+$o(o.fontName)),l("/FontFile2 "+S+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var p=c();l("<<"),l("/Type /Font"),l("/BaseFont /"+$o(o.fontName)),l("/FontDescriptor "+b+" 0 R"),l("/W "+t.API.PDFObject.convert(f)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=c(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+_+" 0 R"),l("/BaseFont /"+$o(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+p+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,c=a.newObject,m=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var f=o.metadata.rawData,y="",h=0;h<f.length;h++)y+=String.fromCharCode(f[h]);var k=c();m({data:y,addLength1:!0,objectId:k}),l("endobj");var S=c();m({data:r(o.metadata.toUnicode),addLength1:!0,objectId:S}),l("endobj");var _=c();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+k+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+$o(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=c();for(var b=0;b<o.metadata.hmtx.widths.length;b++)o.metadata.hmtx.widths[b]=parseInt(o.metadata.hmtx.widths[b]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+S+" 0 R/BaseFont/"+$o(o.fontName)+"/FontDescriptor "+_+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,c=s.y,m=s.options||{},f=s.mutex||{},y=f.pdfEscape,h=f.activeFontKey,k=f.fonts,S=h,_="",b=0,p="",w=k[S].encoding;if(k[S].encoding!=="Identity-H")return{text:o,x:l,y:c,options:m,mutex:f};for(p=o,S=h,Array.isArray(o)&&(p=o[0]),b=0;b<p.length;b+=1)k[S].metadata.hasOwnProperty("cmap")&&(a=k[S].metadata.cmap.unicode.codeMap[p[b].charCodeAt(0)]),a||p[b].charCodeAt(0)<256&&k[S].metadata.hasOwnProperty("Unicode")?_+=p[b]:_+="";var N="";return parseInt(S.slice(1))<14||w==="WinAnsiEncoding"?N=y(_,S).split("").map(function(F){return F.charCodeAt(0).toString(16)}).join(""):w==="Identity-H"&&(N=n(_,k[S])),f.isHex=!0,{text:N,x:l,y:c,options:m,mutex:f}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var c=0;for(c=0;c<a.length;c+=1)Array.isArray(a[c])&&a[c].length===3?o.push([i(Object.assign({},l,{text:a[c][0]})).text,a[c][1],a[c][2]]):o.push(i(Object.assign({},l,{text:a[c]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ge),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0},t.addFileToVFS=function(n,r){return e.call(this),this.internal.vFS[n]=r,this},t.getFileFromVFS=function(n){return e.call(this),this.internal.vFS[n]!==void 0?this.internal.vFS[n]:null}}(Ge.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(r){var i,s,a,o,l,c,m,f=e,y=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],h=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],k={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},S={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},_=["(",")","(","<",">","<","[","]","[","{","}","{","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","",""],b=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),p=!1,w=0;this.__bidiEngine__={};var N=function(T){var C=T.charCodeAt(),Y=C>>8,G=S[Y];return G!==void 0?f[256*G+(255&C)]:Y===252||Y===253?"AL":b.test(Y)?"L":Y===8?"R":"N"},F=function(T){for(var C,Y=0;Y<T.length;Y++){if((C=N(T.charAt(Y)))==="L")return!1;if(C==="R")return!0}return!1},q=function(T,C,Y,G){var ce,R,j,I,M=C[G];switch(M){case"L":case"R":p=!1;break;case"N":case"AN":break;case"EN":p&&(M="AN");break;case"AL":p=!0,M="R";break;case"WS":M="N";break;case"CS":G<1||G+1>=C.length||(ce=Y[G-1])!=="EN"&&ce!=="AN"||(R=C[G+1])!=="EN"&&R!=="AN"?M="N":p&&(R="AN"),M=R===ce?R:"N";break;case"ES":M=(ce=G>0?Y[G-1]:"B")==="EN"&&G+1<C.length&&C[G+1]==="EN"?"EN":"N";break;case"ET":if(G>0&&Y[G-1]==="EN"){M="EN";break}if(p){M="N";break}for(j=G+1,I=C.length;j<I&&C[j]==="ET";)j++;M=j<I&&C[j]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(I=C.length,j=G+1;j<I&&C[j]==="NSM";)j++;if(j<I){var K=T[G],ie=K>=1425&&K<=2303||K===64286;if(ce=C[j],ie&&(ce==="R"||ce==="AL")){M="R";break}}}M=G<1||(ce=C[G-1])==="B"?"N":Y[G-1];break;case"B":p=!1,i=!0,M=w;break;case"S":s=!0,M="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":p=!1;break;case"BN":M="N"}return M},L=function(T,C,Y){var G=T.split("");return Y&&E(G,Y,{hiLevel:w}),G.reverse(),C&&C.reverse(),G.join("")},E=function(T,C,Y){var G,ce,R,j,I,M=-1,K=T.length,ie=0,P=[],B=w?h:y,H=[];for(p=!1,i=!1,s=!1,ce=0;ce<K;ce++)H[ce]=N(T[ce]);for(R=0;R<K;R++){if(I=ie,P[R]=q(T,H,P,R),G=240&(ie=B[I][k[P[R]]]),ie&=15,C[R]=j=B[ie][5],G>0)if(G===16){for(ce=M;ce<R;ce++)C[ce]=1;M=-1}else M=-1;if(B[ie][6])M===-1&&(M=R);else if(M>-1){for(ce=M;ce<R;ce++)C[ce]=j;M=-1}H[R]==="B"&&(C[R]=0),Y.hiLevel|=j}s&&function(Z,te,le){for(var ne=0;ne<le;ne++)if(Z[ne]==="S"){te[ne]=w;for(var fe=ne-1;fe>=0&&Z[fe]==="WS";fe--)te[fe]=w}}(H,C,K)},V=function(T,C,Y,G,ce){if(!(ce.hiLevel<T)){if(T===1&&w===1&&!i)return C.reverse(),void(Y&&Y.reverse());for(var R,j,I,M,K=C.length,ie=0;ie<K;){if(G[ie]>=T){for(I=ie+1;I<K&&G[I]>=T;)I++;for(M=ie,j=I-1;M<j;M++,j--)R=C[M],C[M]=C[j],C[j]=R,Y&&(R=Y[M],Y[M]=Y[j],Y[j]=R);ie=I}ie++}}},X=function(T,C,Y){var G=T.split(""),ce={hiLevel:w};return Y||(Y=[]),E(G,Y,ce),function(R,j,I){if(I.hiLevel!==0&&m)for(var M,K=0;K<R.length;K++)j[K]===1&&(M=_.indexOf(R[K]))>=0&&(R[K]=_[M+1])}(G,Y,ce),V(2,G,C,Y,ce),V(1,G,C,Y,ce),G.join("")};return this.__bidiEngine__.doBidiReorder=function(T,C,Y){if(function(ce,R){if(R)for(var j=0;j<ce.length;j++)R[j]=j;o===void 0&&(o=F(ce)),c===void 0&&(c=F(ce))}(T,C),a||!l||c)if(a&&l&&o^c)w=o?1:0,T=L(T,C,Y);else if(!a&&l&&c)w=o?1:0,T=X(T,C,Y),T=L(T,C);else if(!a||o||l||c){if(a&&!l&&o^c)T=L(T,C),o?(w=0,T=X(T,C,Y)):(w=1,T=X(T,C,Y),T=L(T,C));else if(a&&o&&!l&&c)w=1,T=X(T,C,Y),T=L(T,C);else if(!a&&!l&&o^c){var G=m;o?(w=1,T=X(T,C,Y),w=0,m=!1,T=X(T,C,Y),m=G):(w=0,T=X(T,C,Y),T=L(T,C),w=1,m=!1,T=X(T,C,Y),m=G,T=L(T,C))}}else w=0,T=X(T,C,Y);else w=o?1:0,T=X(T,C,Y);return T},this.__bidiEngine__.setOptions=function(T){T&&(a=T.isInputVisual,l=T.isOutputVisual,o=T.isInputRtl,c=T.isOutputRtl,m=T.isSymmetricSwapping)},this.__bidiEngine__.setOptions(r),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],n=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(r){var i=r.text,s=(r.x,r.y,r.options||{}),a=(r.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,n.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([n.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([n.doBidiReorder(i[o])]);r.text=a}else r.text=n.doBidiReorder(i);n.setOptions({isInputVisual:!0})}])}(Ge),Ge.API.TTFFont=function(){function t(e){var n;if(this.rawData=e,n=this.contents=new ra(e),this.contents.pos=4,n.readString(4)==="ttcf")throw new Error("TTCF not supported.");n.pos=0,this.parse(),this.subset=new TA(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new yA(this.contents),this.head=new bA(this),this.name=new NA(this),this.cmap=new Aw(this),this.toUnicode={},this.hhea=new xA(this),this.maxp=new AA(this),this.hmtx=new PA(this),this.post=new SA(this),this.os2=new _A(this),this.loca=new LA(this),this.glyf=new jA(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,n,r,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,c;for(c=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],c.push(Math.round(e*this.scaleFactor));return c}).call(this),this.stemV=0,this.post.exists?(r=255&(i=this.post.italic_angle),32768&(n=i>>16)&&(n=-(1+(65535^n))),this.italicAngle=+(n+"."+r)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var n;return((n=this.cmap.unicode)!=null?n.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var n;return n=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*n},t.prototype.widthOfString=function(e,n,r){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+r*(1e3/n)||0;return a*(n/1e3)},t.prototype.lineHeight=function(e,n){var r;return n==null&&(n=!1),r=n?this.lineGap:0,(this.ascender+r-this.decender)/1e3*e},t}();var wi,ra=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var n,r;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r[n]=String.fromCharCode(this.readByte());return r.join("")},t.prototype.writeString=function(e){var n,r,i;for(i=[],n=0,r=e.length;0<=r?n<r:n>r;n=0<=r?++n:--n)i.push(this.writeByte(e.charCodeAt(n)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,n,r,i,s,a,o,l;return e=this.readByte(),n=this.readByte(),r=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^n)+1099511627776*(255^r)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*n+1099511627776*r+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var n,r;return n=Math.floor(e/4294967296),r=4294967295&e,this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n),this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var n,r;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n.push(this.readByte());return n},t.prototype.write=function(e){var n,r,i,s;for(s=[],r=0,i=e.length;r<i;r++)n=e[r],s.push(this.writeByte(n));return s},t}(),yA=function(){var t;function e(n){var r,i,s;for(this.scalarType=n.readInt(),this.tableCount=n.readShort(),this.searchRange=n.readShort(),this.entrySelector=n.readShort(),this.rangeShift=n.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)r={tag:n.readString(4),checksum:n.readInt(),offset:n.readInt(),length:n.readInt()},this.tables[r.tag]=r}return e.prototype.encode=function(n){var r,i,s,a,o,l,c,m,f,y,h,k,S;for(S in h=Object.keys(n).length,l=Math.log(2),f=16*Math.floor(Math.log(h)/l),a=Math.floor(f/l),m=16*h-f,(i=new ra).writeInt(this.scalarType),i.writeShort(h),i.writeShort(f),i.writeShort(a),i.writeShort(m),s=16*h,c=i.pos+s,o=null,k=[],n)for(y=n[S],i.writeString(S),i.writeInt(t(y)),i.writeInt(c),i.writeInt(y.length),k=k.concat(y),S==="head"&&(o=c),c+=y.length;c%4;)k.push(0),c++;return i.write(k),r=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(r),i.data},t=function(n){var r,i,s,a;for(n=Pw.call(n);n.length%4;)n.push(0);for(s=new ra(n),i=0,r=0,a=n.length;r<a;r=r+=4)i+=s.readUInt32();return 4294967295&i},e}(),wA={}.hasOwnProperty,Ui=function(t,e){for(var n in e)wA.call(e,n)&&(t[n]=e[n]);function r(){this.constructor=t}return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t};wi=function(){function t(e){var n;this.file=e,n=this.file.directory.tables[this.tag],this.exists=!!n,n&&(this.offset=n.offset,this.length=n.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var bA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="head",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.revision=n.readInt(),this.checkSumAdjustment=n.readInt(),this.magicNumber=n.readInt(),this.flags=n.readShort(),this.unitsPerEm=n.readShort(),this.created=n.readLongLong(),this.modified=n.readLongLong(),this.xMin=n.readShort(),this.yMin=n.readShort(),this.xMax=n.readShort(),this.yMax=n.readShort(),this.macStyle=n.readShort(),this.lowestRecPPEM=n.readShort(),this.fontDirectionHint=n.readShort(),this.indexToLocFormat=n.readShort(),this.glyphDataFormat=n.readShort()},e.prototype.encode=function(n){var r;return(r=new ra).writeInt(this.version),r.writeInt(this.revision),r.writeInt(this.checkSumAdjustment),r.writeInt(this.magicNumber),r.writeShort(this.flags),r.writeShort(this.unitsPerEm),r.writeLongLong(this.created),r.writeLongLong(this.modified),r.writeShort(this.xMin),r.writeShort(this.yMin),r.writeShort(this.xMax),r.writeShort(this.yMax),r.writeShort(this.macStyle),r.writeShort(this.lowestRecPPEM),r.writeShort(this.fontDirectionHint),r.writeShort(n),r.writeShort(this.glyphDataFormat),r.data},e}(),Xv=function(){function t(e,n){var r,i,s,a,o,l,c,m,f,y,h,k,S,_,b,p,w;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=n+e.readInt(),f=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(h=e.readUInt16(),y=h/2,e.pos+=6,s=function(){var N,F;for(F=[],l=N=0;0<=y?N<y:N>y;l=0<=y?++N:--N)F.push(e.readUInt16());return F}(),e.pos+=2,S=function(){var N,F;for(F=[],l=N=0;0<=y?N<y:N>y;l=0<=y?++N:--N)F.push(e.readUInt16());return F}(),c=function(){var N,F;for(F=[],l=N=0;0<=y?N<y:N>y;l=0<=y?++N:--N)F.push(e.readUInt16());return F}(),m=function(){var N,F;for(F=[],l=N=0;0<=y?N<y:N>y;l=0<=y?++N:--N)F.push(e.readUInt16());return F}(),i=(this.length-e.pos+this.offset)/2,o=function(){var N,F;for(F=[],l=N=0;0<=i?N<i:N>i;l=0<=i?++N:--N)F.push(e.readUInt16());return F}(),l=b=0,w=s.length;b<w;l=++b)for(_=s[l],r=p=k=S[l];k<=_?p<=_:p>=_;r=k<=_?++p:--p)m[l]===0?a=r+c[l]:(a=o[m[l]/2+(r-k)-(y-l)]||0)!==0&&(a+=c[l]),this.codeMap[r]=65535&a}e.pos=f}return t.encode=function(e,n){var r,i,s,a,o,l,c,m,f,y,h,k,S,_,b,p,w,N,F,q,L,E,V,X,T,C,Y,G,ce,R,j,I,M,K,ie,P,B,H,Z,te,le,ne,fe,Ae,Ne,Ee;switch(G=new ra,a=Object.keys(e).sort(function(Le,He){return Le-He}),n){case"macroman":for(S=0,_=function(){var Le=[];for(k=0;k<256;++k)Le.push(0);return Le}(),p={0:0},s={},ce=0,M=a.length;ce<M;ce++)p[fe=e[i=a[ce]]]==null&&(p[fe]=++S),s[i]={old:e[i],new:p[e[i]]},_[i]=p[e[i]];return G.writeUInt16(1),G.writeUInt16(0),G.writeUInt32(12),G.writeUInt16(0),G.writeUInt16(262),G.writeUInt16(0),G.write(_),{charMap:s,subtable:G.data,maxGlyphID:S+1};case"unicode":for(C=[],f=[],w=0,p={},r={},b=c=null,R=0,K=a.length;R<K;R++)p[F=e[i=a[R]]]==null&&(p[F]=++w),r[i]={old:F,new:p[F]},o=p[F]-i,b!=null&&o===c||(b&&f.push(b),C.push(i),c=o),b=i;for(b&&f.push(b),f.push(65535),C.push(65535),X=2*(V=C.length),E=2*Math.pow(Math.log(V)/Math.LN2,2),y=Math.log(E/2)/Math.LN2,L=2*V-E,l=[],q=[],h=[],k=j=0,ie=C.length;j<ie;k=++j){if(T=C[k],m=f[k],T===65535){l.push(0),q.push(0);break}if(T-(Y=r[T].new)>=32768)for(l.push(0),q.push(2*(h.length+V-k)),i=I=T;T<=m?I<=m:I>=m;i=T<=m?++I:--I)h.push(r[i].new);else l.push(Y-T),q.push(0)}for(G.writeUInt16(3),G.writeUInt16(1),G.writeUInt32(12),G.writeUInt16(4),G.writeUInt16(16+8*V+2*h.length),G.writeUInt16(0),G.writeUInt16(X),G.writeUInt16(E),G.writeUInt16(y),G.writeUInt16(L),le=0,P=f.length;le<P;le++)i=f[le],G.writeUInt16(i);for(G.writeUInt16(0),ne=0,B=C.length;ne<B;ne++)i=C[ne],G.writeUInt16(i);for(Ae=0,H=l.length;Ae<H;Ae++)o=l[Ae],G.writeUInt16(o);for(Ne=0,Z=q.length;Ne<Z;Ne++)N=q[Ne],G.writeUInt16(N);for(Ee=0,te=h.length;Ee<te;Ee++)S=h[Ee],G.writeUInt16(S);return{charMap:r,subtable:G.data,maxGlyphID:w+1}}},t}(),Aw=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="cmap",e.prototype.parse=function(n){var r,i,s;for(n.pos=this.offset,this.version=n.readUInt16(),s=n.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)r=new Xv(n,this.offset),this.tables.push(r),r.isUnicode&&this.unicode==null&&(this.unicode=r);return!0},e.encode=function(n,r){var i,s;return r==null&&(r="macroman"),i=Xv.encode(n,r),(s=new ra).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),xA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="hhea",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.ascender=n.readShort(),this.decender=n.readShort(),this.lineGap=n.readShort(),this.advanceWidthMax=n.readShort(),this.minLeftSideBearing=n.readShort(),this.minRightSideBearing=n.readShort(),this.xMaxExtent=n.readShort(),this.caretSlopeRise=n.readShort(),this.caretSlopeRun=n.readShort(),this.caretOffset=n.readShort(),n.pos+=8,this.metricDataFormat=n.readShort(),this.numberOfMetrics=n.readUInt16()},e}(),_A=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="OS/2",e.prototype.parse=function(n){if(n.pos=this.offset,this.version=n.readUInt16(),this.averageCharWidth=n.readShort(),this.weightClass=n.readUInt16(),this.widthClass=n.readUInt16(),this.type=n.readShort(),this.ySubscriptXSize=n.readShort(),this.ySubscriptYSize=n.readShort(),this.ySubscriptXOffset=n.readShort(),this.ySubscriptYOffset=n.readShort(),this.ySuperscriptXSize=n.readShort(),this.ySuperscriptYSize=n.readShort(),this.ySuperscriptXOffset=n.readShort(),this.ySuperscriptYOffset=n.readShort(),this.yStrikeoutSize=n.readShort(),this.yStrikeoutPosition=n.readShort(),this.familyClass=n.readShort(),this.panose=function(){var r,i;for(i=[],r=0;r<10;++r)i.push(n.readByte());return i}(),this.charRange=function(){var r,i;for(i=[],r=0;r<4;++r)i.push(n.readInt());return i}(),this.vendorID=n.readString(4),this.selection=n.readShort(),this.firstCharIndex=n.readShort(),this.lastCharIndex=n.readShort(),this.version>0&&(this.ascent=n.readShort(),this.descent=n.readShort(),this.lineGap=n.readShort(),this.winAscent=n.readShort(),this.winDescent=n.readShort(),this.codePageRange=function(){var r,i;for(i=[],r=0;r<2;r=++r)i.push(n.readInt());return i}(),this.version>1))return this.xHeight=n.readShort(),this.capHeight=n.readShort(),this.defaultChar=n.readShort(),this.breakChar=n.readShort(),this.maxContext=n.readShort()},e}(),SA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="post",e.prototype.parse=function(n){var r,i,s;switch(n.pos=this.offset,this.format=n.readInt(),this.italicAngle=n.readInt(),this.underlinePosition=n.readShort(),this.underlineThickness=n.readShort(),this.isFixedPitch=n.readInt(),this.minMemType42=n.readInt(),this.maxMemType42=n.readInt(),this.minMemType1=n.readInt(),this.maxMemType1=n.readInt(),this.format){case 65536:break;case 131072:var a;for(i=n.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(n.readUInt16());for(this.names=[],s=[];n.pos<this.offset+this.length;)r=n.readByte(),s.push(this.names.push(n.readString(r)));return s;case 151552:return i=n.readUInt16(),this.offsets=n.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,c;for(c=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)c.push(n.readUInt32());return c}).call(this)}},e}(),kA=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},NA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="name",e.prototype.parse=function(n){var r,i,s,a,o,l,c,m,f,y,h;for(n.pos=this.offset,n.readShort(),r=n.readShort(),l=n.readShort(),i=[],a=0;0<=r?a<r:a>r;a=0<=r?++a:--a)i.push({platformID:n.readShort(),encodingID:n.readShort(),languageID:n.readShort(),nameID:n.readShort(),length:n.readShort(),offset:this.offset+l+n.readShort()});for(c={},a=f=0,y=i.length;f<y;a=++f)s=i[a],n.pos=s.offset,m=n.readString(s.length),o=new kA(m,s),c[h=s.nameID]==null&&(c[h]=[]),c[s.nameID].push(o);this.strings=c,this.copyright=c[0],this.fontFamily=c[1],this.fontSubfamily=c[2],this.uniqueSubfamily=c[3],this.fontName=c[4],this.version=c[5];try{this.postscriptName=c[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=c[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=c[7],this.manufacturer=c[8],this.designer=c[9],this.description=c[10],this.vendorUrl=c[11],this.designerUrl=c[12],this.license=c[13],this.licenseUrl=c[14],this.preferredFamily=c[15],this.preferredSubfamily=c[17],this.compatibleFull=c[18],this.sampleText=c[19]},e}(),AA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="maxp",e.prototype.parse=function(n){return n.pos=this.offset,this.version=n.readInt(),this.numGlyphs=n.readUInt16(),this.maxPoints=n.readUInt16(),this.maxContours=n.readUInt16(),this.maxCompositePoints=n.readUInt16(),this.maxComponentContours=n.readUInt16(),this.maxZones=n.readUInt16(),this.maxTwilightPoints=n.readUInt16(),this.maxStorage=n.readUInt16(),this.maxFunctionDefs=n.readUInt16(),this.maxInstructionDefs=n.readUInt16(),this.maxStackElements=n.readUInt16(),this.maxSizeOfInstructions=n.readUInt16(),this.maxComponentElements=n.readUInt16(),this.maxComponentDepth=n.readUInt16()},e}(),PA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="hmtx",e.prototype.parse=function(n){var r,i,s,a,o,l,c;for(n.pos=this.offset,this.metrics=[],r=0,l=this.file.hhea.numberOfMetrics;0<=l?r<l:r>l;r=0<=l?++r:--r)this.metrics.push({advance:n.readUInt16(),lsb:n.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var m,f;for(f=[],r=m=0;0<=s?m<s:m>s;r=0<=s?++m:--m)f.push(n.readInt16());return f}(),this.widths=(function(){var m,f,y,h;for(h=[],m=0,f=(y=this.metrics).length;m<f;m++)a=y[m],h.push(a.advance);return h}).call(this),i=this.widths[this.widths.length-1],c=[],r=o=0;0<=s?o<s:o>s;r=0<=s?++o:--o)c.push(this.widths.push(i));return c},e.prototype.forGlyph=function(n){return n in this.metrics?this.metrics[n]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[n-this.metrics.length]}},e}(),Pw=[].slice,jA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(n){var r,i,s,a,o,l,c,m,f,y;return n in this.cache?this.cache[n]:(a=this.file.loca,r=this.file.contents,i=a.indexOf(n),(s=a.lengthOf(n))===0?this.cache[n]=null:(r.pos=this.offset+i,o=(l=new ra(r.read(s))).readShort(),m=l.readShort(),y=l.readShort(),c=l.readShort(),f=l.readShort(),this.cache[n]=o===-1?new EA(l,m,y,c,f):new CA(l,o,m,y,c,f),this.cache[n]))},e.prototype.encode=function(n,r,i){var s,a,o,l,c;for(o=[],a=[],l=0,c=r.length;l<c;l++)s=n[r[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),CA=function(){function t(e,n,r,i,s,a){this.raw=e,this.numberOfContours=n,this.xMin=r,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),EA=function(){function t(e,n,r,i,s){var a,o;for(this.raw=e,this.xMin=n,this.yMin=r,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,n,r;for(n=new ra(Pw.call(this.raw.data)),e=0,r=this.glyphIDs.length;e<r;++e)n.pos=this.glyphOffsets[e];return n.data},t}(),LA=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return Ui(e,wi),e.prototype.tag="loca",e.prototype.parse=function(n){var r,i;return n.pos=this.offset,r=this.file.head.indexToLocFormat,this.offsets=r===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*n.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(n.readUInt32());return a}).call(this)},e.prototype.indexOf=function(n){return this.offsets[n]},e.prototype.lengthOf=function(n){return this.offsets[n+1]-this.offsets[n]},e.prototype.encode=function(n,r){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<r.length&&r[a]==o){++a,i[o]=s;var l=this.offsets[o],c=this.offsets[o+1]-l;c>0&&(s+=c)}for(var m=new Array(4*i.length),f=0;f<i.length;++f)m[4*f+3]=255&i[f],m[4*f+2]=(65280&i[f])>>8,m[4*f+1]=(16711680&i[f])>>16,m[4*f]=(4278190080&i[f])>>24;return m},e}(),TA=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,n,r,i,s;for(n in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)r=s[n],e[n]=i[r];return e},t.prototype.glyphsFor=function(e){var n,r,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in n=[],i)(r=i[s])!=null&&r.compound&&n.push.apply(n,r.glyphIDs);if(n.length>0)for(s in l=this.glyphsFor(n))r=l[s],i[s]=r;return i},t.prototype.encode=function(e,n){var r,i,s,a,o,l,c,m,f,y,h,k,S,_,b;for(i in r=Aw.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),h={0:0},b=r.charMap)h[(l=b[i]).old]=l.new;for(k in y=r.maxGlyphID,a)k in h||(h[k]=y++);return m=function(p){var w,N;for(w in N={},p)N[p[w]]=w;return N}(h),f=Object.keys(m).sort(function(p,w){return p-w}),S=function(){var p,w,N;for(N=[],p=0,w=f.length;p<w;p++)o=f[p],N.push(m[o]);return N}(),s=this.font.glyf.encode(a,S,h),c=this.font.loca.encode(s.offsets,S),_={cmap:this.font.cmap.raw(),glyf:s.table,loca:c,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(n)},this.font.os2.exists&&(_["OS/2"]=this.font.os2.raw()),this.font.directory.encode(_)},t}();Ge.API.PDFObject=function(){var t;function e(){}return t=function(n,r){return(Array(r+1).join("0")+n).slice(-r)},e.convert=function(n){var r,i,s,a;if(Array.isArray(n))return"["+function(){var o,l,c;for(c=[],o=0,l=n.length;o<l;o++)r=n[o],c.push(e.convert(r));return c}().join(" ")+"]";if(typeof n=="string")return"/"+n;if(n!=null&&n.isString)return"("+n+")";if(n instanceof Date)return"(D:"+t(n.getUTCFullYear(),4)+t(n.getUTCMonth(),2)+t(n.getUTCDate(),2)+t(n.getUTCHours(),2)+t(n.getUTCMinutes(),2)+t(n.getUTCSeconds(),2)+"Z)";if({}.toString.call(n)==="[object Object]"){for(i in s=["<<"],n)a=n[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+n},e}();const RA=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:cA,AcroFormAppearance:Ue,AcroFormButton:wn,AcroFormCheckBox:Lu,AcroFormChoiceField:Ma,AcroFormComboBox:Ba,AcroFormEditBox:Cu,AcroFormListBox:za,AcroFormPasswordField:Tu,AcroFormPushButton:Eu,AcroFormRadioButton:Ua,AcroFormTextField:Zs,GState:ac,ShadingPattern:zs,TilingPattern:Ia,default:Ge,jsPDF:Ge},Symbol.toStringTag,{value:"Module"}));var IA={exports:{}};const OA=hb(RA);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(r,i){t.exports=i(function(){try{return OA}catch{}}())})(typeof globalThis<"u"?globalThis:typeof Mf<"u"?Mf:typeof window<"u"?window:typeof self<"u"?self:Mf,function(n){return function(){var r={172:function(o,l){var c=this&&this.__extends||function(){var y=function(h,k){return y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(S,_){S.__proto__=_}||function(S,_){for(var b in _)Object.prototype.hasOwnProperty.call(_,b)&&(S[b]=_[b])},y(h,k)};return function(h,k){if(typeof k!="function"&&k!==null)throw new TypeError("Class extends value "+String(k)+" is not a constructor or null");y(h,k);function S(){this.constructor=h}h.prototype=k===null?Object.create(k):(S.prototype=k.prototype,new S)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var m=function(){function y(h,k,S){this.table=k,this.pageNumber=k.pageNumber,this.pageCount=this.pageNumber,this.settings=k.settings,this.cursor=S,this.doc=h.getDocument()}return y}();l.HookData=m;var f=function(y){c(h,y);function h(k,S,_,b,p,w){var N=y.call(this,k,S,w)||this;return N.cell=_,N.row=b,N.column=p,N.section=b.section,N}return h}(m);l.CellHookData=f},340:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0});var m=c(4),f=c(136),y=c(744),h=c(776),k=c(664),S=c(972);function _(b){b.API.autoTable=function(){for(var p=[],w=0;w<arguments.length;w++)p[w]=arguments[w];var N;p.length===1?N=p[0]:(console.error("Use of deprecated autoTable initiation"),N=p[2]||{},N.columns=p[0],N.body=p[1]);var F=(0,h.parseInput)(this,N),q=(0,S.createTable)(this,F);return(0,k.drawTable)(this,q),this},b.API.lastAutoTable=!1,b.API.previousAutoTable=!1,b.API.autoTable.previous=!1,b.API.autoTableText=function(p,w,N,F){(0,f.default)(p,w,N,F,this)},b.API.autoTableSetDefaults=function(p){return y.DocHandler.setDefaults(p,this),this},b.autoTableSetDefaults=function(p,w){y.DocHandler.setDefaults(p,w)},b.API.autoTableHtmlToJson=function(p,w){var N;if(w===void 0&&(w=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var F=new y.DocHandler(this),q=(0,m.parseHtml)(F,p,window,w,!1),L=q.head,E=q.body,V=((N=L[0])===null||N===void 0?void 0:N.map(function(X){return X.content}))||[];return{columns:V,rows:E,data:E}},b.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var p=this.lastAutoTable;return p&&p.finalY?p.finalY:0},b.API.autoTableAddPageContent=function(p){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),b.API.autoTable.globalDefaults||(b.API.autoTable.globalDefaults={}),b.API.autoTable.globalDefaults.addPageContent=p,this},b.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=_},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function c(m,f,y,h,k){h=h||{};var S=1.15,_=k.internal.scaleFactor,b=k.internal.getFontSize()/_,p=k.getLineHeightFactor?k.getLineHeightFactor():S,w=b*p,N=/\r\n|\r|\n/g,F="",q=1;if((h.valign==="middle"||h.valign==="bottom"||h.halign==="center"||h.halign==="right")&&(F=typeof m=="string"?m.split(N):m,q=F.length||1),y+=b*(2-S),h.valign==="middle"?y-=q/2*w:h.valign==="bottom"&&(y-=q*w),h.halign==="center"||h.halign==="right"){var L=b;if(h.halign==="center"&&(L*=.5),F&&q>=1){for(var E=0;E<F.length;E++)k.text(F[E],f-k.getStringUnitWidth(F[E])*L,y),y+=w;return k}f-=k.getStringUnitWidth(m)*L}return h.halign==="justify"?k.text(m,f,y,{maxWidth:h.maxWidth||100,align:"justify"}):k.text(m,f,y),k}l.default=c},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function c(k,S,_){_.applyStyles(S,!0);var b=Array.isArray(k)?k:[k],p=b.map(function(w){return _.getTextWidth(w)}).reduce(function(w,N){return Math.max(w,N)},0);return p}l.getStringWidth=c;function m(k,S,_,b){var p=S.settings.tableLineWidth,w=S.settings.tableLineColor;k.applyStyles({lineWidth:p,lineColor:w});var N=f(p,!1);N&&k.rect(_.x,_.y,S.getWidth(k.pageSize().width),b.y-_.y,N)}l.addTableBorder=m;function f(k,S){var _=k>0,b=S||S===0;return _&&b?"DF":_?"S":b?"F":null}l.getFillStyle=f;function y(k,S){var _,b,p,w;if(k=k||S,Array.isArray(k)){if(k.length>=4)return{top:k[0],right:k[1],bottom:k[2],left:k[3]};if(k.length===3)return{top:k[0],right:k[1],bottom:k[2],left:k[1]};if(k.length===2)return{top:k[0],right:k[1],bottom:k[0],left:k[1]};k.length===1?k=k[0]:k=S}return typeof k=="object"?(typeof k.vertical=="number"&&(k.top=k.vertical,k.bottom=k.vertical),typeof k.horizontal=="number"&&(k.right=k.horizontal,k.left=k.horizontal),{left:(_=k.left)!==null&&_!==void 0?_:S,top:(b=k.top)!==null&&b!==void 0?b:S,right:(p=k.right)!==null&&p!==void 0?p:S,bottom:(w=k.bottom)!==null&&w!==void 0?w:S}):(typeof k!="number"&&(k=S),{top:k,right:k,bottom:k,left:k})}l.parseSpacing=y;function h(k,S){var _=y(S.settings.margin,0);return k.pageSize().width-(_.left+_.right)}l.getPageAvailableWidth=h},796:function(o,l){var c=this&&this.__extends||function(){var h=function(k,S){return h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(_,b){_.__proto__=b}||function(_,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(_[p]=b[p])},h(k,S)};return function(k,S){if(typeof S!="function"&&S!==null)throw new TypeError("Class extends value "+String(S)+" is not a constructor or null");h(k,S);function _(){this.constructor=k}k.prototype=S===null?Object.create(S):(_.prototype=S.prototype,new _)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var m=function(h){c(k,h);function k(S){var _=h.call(this)||this;return _._element=S,_}return k}(Array);l.HtmlRowInput=m;function f(h){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/h,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=f;function y(h){var k={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return k[h]}l.getTheme=y},903:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var m=c(420);function f(_,b,p,w,N){var F={},q=1.3333333333333333,L=h(b,function(M){return N.getComputedStyle(M).backgroundColor});L!=null&&(F.fillColor=L);var E=h(b,function(M){return N.getComputedStyle(M).color});E!=null&&(F.textColor=E);var V=S(w,p);V&&(F.cellPadding=V);var X="borderTopColor",T=q*p,C=w.borderTopWidth;if(w.borderBottomWidth===C&&w.borderRightWidth===C&&w.borderLeftWidth===C){var Y=(parseFloat(C)||0)/T;Y&&(F.lineWidth=Y)}else F.lineWidth={top:(parseFloat(w.borderTopWidth)||0)/T,right:(parseFloat(w.borderRightWidth)||0)/T,bottom:(parseFloat(w.borderBottomWidth)||0)/T,left:(parseFloat(w.borderLeftWidth)||0)/T},F.lineWidth.top||(F.lineWidth.right?X="borderRightColor":F.lineWidth.bottom?X="borderBottomColor":F.lineWidth.left&&(X="borderLeftColor"));var G=h(b,function(M){return N.getComputedStyle(M)[X]});G!=null&&(F.lineColor=G);var ce=["left","right","center","justify"];ce.indexOf(w.textAlign)!==-1&&(F.halign=w.textAlign),ce=["middle","bottom","top"],ce.indexOf(w.verticalAlign)!==-1&&(F.valign=w.verticalAlign);var R=parseInt(w.fontSize||"");isNaN(R)||(F.fontSize=R/q);var j=y(w);j&&(F.fontStyle=j);var I=(w.fontFamily||"").toLowerCase();return _.indexOf(I)!==-1&&(F.font=I),F}l.parseCss=f;function y(_){var b="";return(_.fontWeight==="bold"||_.fontWeight==="bolder"||parseInt(_.fontWeight)>=700)&&(b="bold"),(_.fontStyle==="italic"||_.fontStyle==="oblique")&&(b+="italic"),b}function h(_,b){var p=k(_,b);if(!p)return null;var w=p.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!w||!Array.isArray(w))return null;var N=[parseInt(w[1]),parseInt(w[2]),parseInt(w[3])],F=parseInt(w[4]);return F===0||isNaN(N[0])||isNaN(N[1])||isNaN(N[2])?null:N}function k(_,b){var p=b(_);return p==="rgba(0, 0, 0, 0)"||p==="transparent"||p==="initial"||p==="inherit"?_.parentElement==null?null:k(_.parentElement,b):p}function S(_,b){var p=[_.paddingTop,_.paddingRight,_.paddingBottom,_.paddingLeft],w=96/(72/b),N=(parseInt(_.lineHeight)-parseInt(_.fontSize))/b/2,F=p.map(function(L){return parseInt(L||"0")/w}),q=(0,m.parseSpacing)(F,0);return N>q.top&&(q.top=N),N>q.bottom&&(q.bottom=N),q}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var c={},m=function(){function f(y){this.jsPDFDocument=y,this.userStyles={textColor:y.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:y.internal.getFontSize(),fontStyle:y.internal.getFont().fontStyle,font:y.internal.getFont().fontName,lineWidth:y.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:y.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return f.setDefaults=function(y,h){h===void 0&&(h=null),h?h.__autoTableDocumentDefaults=y:c=y},f.unifyColor=function(y){return Array.isArray(y)?y:typeof y=="number"?[y,y,y]:typeof y=="string"?[y]:null},f.prototype.applyStyles=function(y,h){var k,S,_;h===void 0&&(h=!1),y.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(y.fontStyle);var b=this.jsPDFDocument.internal.getFont(),p=b.fontStyle,w=b.fontName;if(y.font&&(w=y.font),y.fontStyle){p=y.fontStyle;var N=this.getFontList()[w];N&&N.indexOf(p)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(N[0]),p=N[0])}if(this.jsPDFDocument.setFont(w,p),y.fontSize&&this.jsPDFDocument.setFontSize(y.fontSize),!h){var F=f.unifyColor(y.fillColor);F&&(k=this.jsPDFDocument).setFillColor.apply(k,F),F=f.unifyColor(y.textColor),F&&(S=this.jsPDFDocument).setTextColor.apply(S,F),F=f.unifyColor(y.lineColor),F&&(_=this.jsPDFDocument).setDrawColor.apply(_,F),typeof y.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(y.lineWidth)}},f.prototype.splitTextToSize=function(y,h,k){return this.jsPDFDocument.splitTextToSize(y,h,k)},f.prototype.rect=function(y,h,k,S,_){return this.jsPDFDocument.rect(y,h,k,S,_)},f.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},f.prototype.getTextWidth=function(y){return this.jsPDFDocument.getTextWidth(y)},f.prototype.getDocument=function(){return this.jsPDFDocument},f.prototype.setPage=function(y){this.jsPDFDocument.setPage(y)},f.prototype.addPage=function(){return this.jsPDFDocument.addPage()},f.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},f.prototype.getGlobalOptions=function(){return c||{}},f.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},f.prototype.pageSize=function(){var y=this.jsPDFDocument.internal.pageSize;return y.width==null&&(y={width:y.getWidth(),height:y.getHeight()}),y},f.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},f.prototype.getLineHeightFactor=function(){var y=this.jsPDFDocument;return y.getLineHeightFactor?y.getLineHeightFactor():1.15},f.prototype.getLineHeight=function(y){return y/this.scaleFactor()*this.getLineHeightFactor()},f.prototype.pageNumber=function(){var y=this.jsPDFDocument.internal.getCurrentPageInfo();return y?y.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},f}();l.DocHandler=m},4:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var m=c(903),f=c(796);function y(S,_,b,p,w){var N,F;p===void 0&&(p=!1),w===void 0&&(w=!1);var q;typeof _=="string"?q=b.document.querySelector(_):q=_;var L=Object.keys(S.getFontList()),E=S.scaleFactor(),V=[],X=[],T=[];if(!q)return console.error("Html table could not be found with input: ",_),{head:V,body:X,foot:T};for(var C=0;C<q.rows.length;C++){var Y=q.rows[C],G=(F=(N=Y==null?void 0:Y.parentElement)===null||N===void 0?void 0:N.tagName)===null||F===void 0?void 0:F.toLowerCase(),ce=h(L,E,b,Y,p,w);ce&&(G==="thead"?V.push(ce):G==="tfoot"?T.push(ce):X.push(ce))}return{head:V,body:X,foot:T}}l.parseHtml=y;function h(S,_,b,p,w,N){for(var F=new f.HtmlRowInput(p),q=0;q<p.cells.length;q++){var L=p.cells[q],E=b.getComputedStyle(L);if(w||E.display!=="none"){var V=void 0;N&&(V=(0,m.parseCss)(S,L,_,E,b)),F.push({rowSpan:L.rowSpan,colSpan:L.colSpan,styles:V,_element:L,content:k(L)})}}var X=b.getComputedStyle(p);if(F.length>0&&(w||X.display!=="none"))return F}function k(S){var _=S.cloneNode(!0);return _.innerHTML=_.innerHTML.replace(/\n/g,"").replace(/ +/g," "),_.innerHTML=_.innerHTML.split(/<br.*?>/).map(function(b){return b.trim()}).join(`
`),_.innerText||_.textContent||""}},776:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var m=c(4),f=c(356),y=c(420),h=c(744),k=c(792);function S(q,L){var E=new h.DocHandler(q),V=E.getDocumentOptions(),X=E.getGlobalOptions();(0,k.default)(E,X,V,L);var T=(0,f.assign)({},X,V,L),C;typeof window<"u"&&(C=window);var Y=_(X,V,L),G=b(X,V,L),ce=p(E,T),R=N(E,T,C);return{id:L.tableId,content:R,hooks:G,styles:Y,settings:ce}}l.parseInput=S;function _(q,L,E){for(var V={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},X=function(G){if(G==="columnStyles"){var ce=q[G],R=L[G],j=E[G];V.columnStyles=(0,f.assign)({},ce,R,j)}else{var I=[q,L,E],M=I.map(function(K){return K[G]||{}});V[G]=(0,f.assign)({},M[0],M[1],M[2])}},T=0,C=Object.keys(V);T<C.length;T++){var Y=C[T];X(Y)}return V}function b(q,L,E){for(var V=[q,L,E],X={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},T=0,C=V;T<C.length;T++){var Y=C[T];Y.didParseCell&&X.didParseCell.push(Y.didParseCell),Y.willDrawCell&&X.willDrawCell.push(Y.willDrawCell),Y.didDrawCell&&X.didDrawCell.push(Y.didDrawCell),Y.willDrawPage&&X.willDrawPage.push(Y.willDrawPage),Y.didDrawPage&&X.didDrawPage.push(Y.didDrawPage)}return X}function p(q,L){var E,V,X,T,C,Y,G,ce,R,j,I,M,K=(0,y.parseSpacing)(L.margin,40/q.scaleFactor()),ie=(E=w(q,L.startY))!==null&&E!==void 0?E:K.top,P;L.showFoot===!0?P="everyPage":L.showFoot===!1?P="never":P=(V=L.showFoot)!==null&&V!==void 0?V:"everyPage";var B;L.showHead===!0?B="everyPage":L.showHead===!1?B="never":B=(X=L.showHead)!==null&&X!==void 0?X:"everyPage";var H=(T=L.useCss)!==null&&T!==void 0?T:!1,Z=L.theme||(H?"plain":"striped"),te=!!L.horizontalPageBreak,le=(C=L.horizontalPageBreakRepeat)!==null&&C!==void 0?C:null;return{includeHiddenHtml:(Y=L.includeHiddenHtml)!==null&&Y!==void 0?Y:!1,useCss:H,theme:Z,startY:ie,margin:K,pageBreak:(G=L.pageBreak)!==null&&G!==void 0?G:"auto",rowPageBreak:(ce=L.rowPageBreak)!==null&&ce!==void 0?ce:"auto",tableWidth:(R=L.tableWidth)!==null&&R!==void 0?R:"auto",showHead:B,showFoot:P,tableLineWidth:(j=L.tableLineWidth)!==null&&j!==void 0?j:0,tableLineColor:(I=L.tableLineColor)!==null&&I!==void 0?I:200,horizontalPageBreak:te,horizontalPageBreakRepeat:le,horizontalPageBreakBehaviour:(M=L.horizontalPageBreakBehaviour)!==null&&M!==void 0?M:"afterAllRows"}}function w(q,L){var E=q.getLastAutoTable(),V=q.scaleFactor(),X=q.pageNumber(),T=!1;if(E&&E.startPageNumber){var C=E.startPageNumber+E.pageNumber-1;T=C===X}return typeof L=="number"?L:(L==null||L===!1)&&T&&(E==null?void 0:E.finalY)!=null?E.finalY+20/V:null}function N(q,L,E){var V=L.head||[],X=L.body||[],T=L.foot||[];if(L.html){var C=L.includeHiddenHtml;if(E){var Y=(0,m.parseHtml)(q,L.html,E,C,L.useCss)||{};V=Y.head||V,X=Y.body||V,T=Y.foot||V}else console.error("Cannot parse html in non browser environment")}var G=L.columns||F(V,X,T);return{columns:G,head:V,body:X,foot:T}}function F(q,L,E){var V=q[0]||L[0]||E[0]||[],X=[];return Object.keys(V).filter(function(T){return T!=="_element"}).forEach(function(T){var C=1,Y;Array.isArray(V)?Y=V[parseInt(T)]:Y=V[T],typeof Y=="object"&&!Array.isArray(Y)&&(C=(Y==null?void 0:Y.colSpan)||1);for(var G=0;G<C;G++){var ce=void 0;Array.isArray(V)?ce=X.length:ce=T+(G>0?"_".concat(G):"");var R={dataKey:ce};X.push(R)}}),X}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function c(f,y,h,k){for(var S=function(w){w&&typeof w!="object"&&console.error("The options parameter should be of type object, is: "+typeof w),typeof w.extendWidth<"u"&&(w.tableWidth=w.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof w.margins<"u"&&(typeof w.margin>"u"&&(w.margin=w.margins),console.error("Use of deprecated option: margins, use margin instead.")),w.startY&&typeof w.startY!="number"&&(console.error("Invalid value for startY option",w.startY),delete w.startY),!w.didDrawPage&&(w.afterPageContent||w.beforePageContent||w.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),w.didDrawPage=function(T){f.applyStyles(f.userStyles),w.beforePageContent&&w.beforePageContent(T),f.applyStyles(f.userStyles),w.afterPageContent&&w.afterPageContent(T),f.applyStyles(f.userStyles),w.afterPageAdd&&T.pageNumber>1&&T.afterPageAdd(T),f.applyStyles(f.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(T){w[T]&&console.error('The "'.concat(T,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(T){var C=T[0],Y=T[1];w[Y]&&(console.error("Use of deprecated option ".concat(Y,". Use ").concat(C," instead")),w[C]=w[Y])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(T){var C=typeof T=="string"?T:T[0],Y=typeof T=="string"?T:T[1];typeof w[C]<"u"&&(typeof w.styles[Y]>"u"&&(w.styles[Y]=w[C]),console.error("Use of deprecated option: "+C+", use the style "+Y+" instead."))});for(var N=0,F=["styles","bodyStyles","headStyles","footStyles"];N<F.length;N++){var q=F[N];m(w[q]||{})}for(var L=w.columnStyles||{},E=0,V=Object.keys(L);E<V.length;E++){var X=V[E];m(L[X]||{})}},_=0,b=[y,h,k];_<b.length;_++){var p=b[_];S(p)}}l.default=c;function m(f){f.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),f.minCellHeight||(f.minCellHeight=f.rowHeight)):f.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),f.cellWidth||(f.cellWidth=f.columnWidth))}},260:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var m=c(796),f=c(172),y=c(420),h=function(){function b(p,w){this.pageNumber=1,this.pageCount=1,this.id=p.id,this.settings=p.settings,this.styles=p.styles,this.hooks=p.hooks,this.columns=w.columns,this.head=w.head,this.body=w.body,this.foot=w.foot}return b.prototype.getHeadHeight=function(p){return this.head.reduce(function(w,N){return w+N.getMaxCellHeight(p)},0)},b.prototype.getFootHeight=function(p){return this.foot.reduce(function(w,N){return w+N.getMaxCellHeight(p)},0)},b.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},b.prototype.callCellHooks=function(p,w,N,F,q,L){for(var E=0,V=w;E<V.length;E++){var X=V[E],T=new f.CellHookData(p,this,N,F,q,L),C=X(T)===!1;if(N.text=Array.isArray(N.text)?N.text:[N.text],C)return!1}return!0},b.prototype.callEndPageHooks=function(p,w){p.applyStyles(p.userStyles);for(var N=0,F=this.hooks.didDrawPage;N<F.length;N++){var q=F[N];q(new f.HookData(p,this,w))}},b.prototype.callWillDrawPageHooks=function(p,w){for(var N=0,F=this.hooks.willDrawPage;N<F.length;N++){var q=F[N];q(new f.HookData(p,this,w))}},b.prototype.getWidth=function(p){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var w=this.columns.reduce(function(F,q){return F+q.wrappedWidth},0);return w}else{var N=this.settings.margin;return p-N.left-N.right}},b}();l.Table=h;var k=function(){function b(p,w,N,F,q){q===void 0&&(q=!1),this.height=0,this.raw=p,p instanceof m.HtmlRowInput&&(this.raw=p._element,this.element=p._element),this.index=w,this.section=N,this.cells=F,this.spansMultiplePages=q}return b.prototype.getMaxCellHeight=function(p){var w=this;return p.reduce(function(N,F){var q;return Math.max(N,((q=w.cells[F.index])===null||q===void 0?void 0:q.height)||0)},0)},b.prototype.hasRowSpan=function(p){var w=this;return p.filter(function(N){var F=w.cells[N.index];return F?F.rowSpan>1:!1}).length>0},b.prototype.canEntireRowFit=function(p,w){return this.getMaxCellHeight(w)<=p},b.prototype.getMinimumRowHeight=function(p,w){var N=this;return p.reduce(function(F,q){var L=N.cells[q.index];if(!L)return 0;var E=w.getLineHeight(L.styles.fontSize),V=L.padding("vertical"),X=V+E;return X>F?X:F},0)},b}();l.Row=k;var S=function(){function b(p,w,N){var F,q;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=w,this.section=N,this.raw=p;var L=p;p!=null&&typeof p=="object"&&!Array.isArray(p)?(this.rowSpan=p.rowSpan||1,this.colSpan=p.colSpan||1,L=(q=(F=p.content)!==null&&F!==void 0?F:p.title)!==null&&q!==void 0?q:p,p._element&&(this.raw=p._element)):(this.rowSpan=1,this.colSpan=1);var E=L!=null?""+L:"",V=/\r\n|\r|\n/g;this.text=E.split(V)}return b.prototype.getTextPos=function(){var p;if(this.styles.valign==="top")p=this.y+this.padding("top");else if(this.styles.valign==="bottom")p=this.y+this.height-this.padding("bottom");else{var w=this.height-this.padding("vertical");p=this.y+w/2+this.padding("top")}var N;if(this.styles.halign==="right")N=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var F=this.width-this.padding("horizontal");N=this.x+F/2+this.padding("left")}else N=this.x+this.padding("left");return{x:N,y:p}},b.prototype.getContentHeight=function(p,w){w===void 0&&(w=1.15);var N=Array.isArray(this.text)?this.text.length:1,F=this.styles.fontSize/p*w,q=N*F+this.padding("vertical");return Math.max(q,this.styles.minCellHeight)},b.prototype.padding=function(p){var w=(0,y.parseSpacing)(this.styles.cellPadding,0);return p==="vertical"?w.top+w.bottom:p==="horizontal"?w.left+w.right:w[p]},b}();l.Cell=S;var _=function(){function b(p,w,N){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=p,this.raw=w,this.index=N}return b.prototype.getMaxCustomCellWidth=function(p){for(var w=0,N=0,F=p.allRows();N<F.length;N++){var q=F[N],L=q.cells[this.index];L&&typeof L.styles.cellWidth=="number"&&(w=Math.max(w,L.styles.cellWidth))}return w},b}();l.Column=_},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function c(m,f,y,h,k){if(m==null)throw new TypeError("Cannot convert undefined or null to object");for(var S=Object(m),_=1;_<arguments.length;_++){var b=arguments[_];if(b!=null)for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(S[p]=b[p])}return S}l.assign=c},972:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var m=c(744),f=c(260),y=c(324),h=c(796),k=c(356);function S(q,L){var E=new m.DocHandler(q),V=_(L,E.scaleFactor()),X=new f.Table(L,V);return(0,y.calculateWidths)(E,X),E.applyStyles(E.userStyles),X}l.createTable=S;function _(q,L){var E=q.content,V=N(E.columns);if(E.head.length===0){var X=p(V,"head");X&&E.head.push(X)}if(E.foot.length===0){var X=p(V,"foot");X&&E.foot.push(X)}var T=q.settings.theme,C=q.styles;return{columns:V,head:b("head",E.head,V,C,T,L),body:b("body",E.body,V,C,T,L),foot:b("foot",E.foot,V,C,T,L)}}function b(q,L,E,V,X,T){var C={},Y=L.map(function(G,ce){for(var R=0,j={},I=0,M=0,K=0,ie=E;K<ie.length;K++){var P=ie[K];if(C[P.index]==null||C[P.index].left===0)if(M===0){var B=void 0;Array.isArray(G)?B=G[P.index-I-R]:B=G[P.dataKey];var H={};typeof B=="object"&&!Array.isArray(B)&&(H=(B==null?void 0:B.styles)||{});var Z=F(q,P,ce,X,V,T,H),te=new f.Cell(B,Z,q);j[P.dataKey]=te,j[P.index]=te,M=te.colSpan-1,C[P.index]={left:te.rowSpan-1,times:M}}else M--,I++;else C[P.index].left--,M=C[P.index].times,R++}return new f.Row(G,ce,q,j)});return Y}function p(q,L){var E={};return q.forEach(function(V){if(V.raw!=null){var X=w(L,V.raw);X!=null&&(E[V.dataKey]=X)}}),Object.keys(E).length>0?E:null}function w(q,L){if(q==="head"){if(typeof L=="object")return L.header||L.title||null;if(typeof L=="string"||typeof L=="number")return L}else if(q==="foot"&&typeof L=="object")return L.footer;return null}function N(q){return q.map(function(L,E){var V,X,T;return typeof L=="object"?T=(X=(V=L.dataKey)!==null&&V!==void 0?V:L.key)!==null&&X!==void 0?X:E:T=E,new f.Column(T,L,E)})}function F(q,L,E,V,X,T,C){var Y=(0,h.getTheme)(V),G;q==="head"?G=X.headStyles:q==="body"?G=X.bodyStyles:q==="foot"&&(G=X.footStyles);var ce=(0,k.assign)({},Y.table,Y[q],X.styles,G),R=X.columnStyles[L.dataKey]||X.columnStyles[L.index]||{},j=q==="body"?R:{},I=q==="body"&&E%2===0?(0,k.assign)({},Y.alternateRow,X.alternateRowStyles):{},M=(0,h.defaultStyles)(T),K=(0,k.assign)({},M,ce,I,j);return(0,k.assign)(K,C)}},664:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var m=c(420),f=c(260),y=c(744),h=c(356),k=c(136),S=c(224);function _(R,j){var I=j.settings,M=I.startY,K=I.margin,ie={x:K.left,y:M},P=j.getHeadHeight(j.columns)+j.getFootHeight(j.columns),B=M+K.bottom+P;if(I.pageBreak==="avoid"){var H=j.body,Z=H.reduce(function(ne,fe){return ne+fe.height},0);B+=Z}var te=new y.DocHandler(R);(I.pageBreak==="always"||I.startY!=null&&B>te.pageSize().height)&&(ce(te),ie.y=K.top),j.callWillDrawPageHooks(te,ie);var le=(0,h.assign)({},ie);j.startPageNumber=te.pageNumber(),I.horizontalPageBreak?b(te,j,le,ie):(te.applyStyles(te.userStyles),(I.showHead==="firstPage"||I.showHead==="everyPage")&&j.head.forEach(function(ne){return X(te,j,ne,ie,j.columns)}),te.applyStyles(te.userStyles),j.body.forEach(function(ne,fe){var Ae=fe===j.body.length-1;V(te,j,ne,Ae,le,ie,j.columns)}),te.applyStyles(te.userStyles),(I.showFoot==="lastPage"||I.showFoot==="everyPage")&&j.foot.forEach(function(ne){return X(te,j,ne,ie,j.columns)})),(0,m.addTableBorder)(te,j,le,ie),j.callEndPageHooks(te,ie),j.finalY=ie.y,R.lastAutoTable=j,R.previousAutoTable=j,R.autoTable&&(R.autoTable.previous=j),te.applyStyles(te.userStyles)}l.drawTable=_;function b(R,j,I,M){var K=(0,S.calculateAllColumnsCanFitInPage)(R,j),ie=j.settings;if(ie.horizontalPageBreakBehaviour==="afterAllRows")K.forEach(function(Z,te){R.applyStyles(R.userStyles),te>0?G(R,j,I,M,Z.columns,!0):p(R,j,M,Z.columns),w(R,j,I,M,Z.columns),F(R,j,M,Z.columns)});else for(var P=-1,B=K[0],H=function(){var Z=P;if(B){R.applyStyles(R.userStyles);var te=B.columns;P>=0?G(R,j,I,M,te,!0):p(R,j,M,te),Z=N(R,j,P+1,M,te),F(R,j,M,te)}var le=Z-P;K.slice(1).forEach(function(ne){R.applyStyles(R.userStyles),G(R,j,I,M,ne.columns,!0),N(R,j,P+1,M,ne.columns,le),F(R,j,M,ne.columns)}),P=Z};P<j.body.length-1;)H()}function p(R,j,I,M){var K=j.settings;R.applyStyles(R.userStyles),(K.showHead==="firstPage"||K.showHead==="everyPage")&&j.head.forEach(function(ie){return X(R,j,ie,I,M)})}function w(R,j,I,M,K){R.applyStyles(R.userStyles),j.body.forEach(function(ie,P){var B=P===j.body.length-1;V(R,j,ie,B,I,M,K)})}function N(R,j,I,M,K,ie){R.applyStyles(R.userStyles),ie=ie??j.body.length;var P=Math.min(I+ie,j.body.length),B=-1;return j.body.slice(I,P).forEach(function(H,Z){var te=I+Z===j.body.length-1,le=Y(R,j,te,M);H.canEntireRowFit(le,K)&&(X(R,j,H,M,K),B=I+Z)}),B}function F(R,j,I,M){var K=j.settings;R.applyStyles(R.userStyles),(K.showFoot==="lastPage"||K.showFoot==="everyPage")&&j.foot.forEach(function(ie){return X(R,j,ie,I,M)})}function q(R,j,I){var M=I.getLineHeight(R.styles.fontSize),K=R.padding("vertical"),ie=Math.floor((j-K)/M);return Math.max(0,ie)}function L(R,j,I,M){var K={};R.spansMultiplePages=!0,R.height=0;for(var ie=0,P=0,B=I.columns;P<B.length;P++){var H=B[P],Z=R.cells[H.index];if(Z){Array.isArray(Z.text)||(Z.text=[Z.text]);var te=new f.Cell(Z.raw,Z.styles,Z.section);te=(0,h.assign)(te,Z),te.text=[];var le=q(Z,j,M);Z.text.length>le&&(te.text=Z.text.splice(le,Z.text.length));var ne=M.scaleFactor(),fe=M.getLineHeightFactor();Z.contentHeight=Z.getContentHeight(ne,fe),Z.contentHeight>=j&&(Z.contentHeight=j,te.styles.minCellHeight-=j),Z.contentHeight>R.height&&(R.height=Z.contentHeight),te.contentHeight=te.getContentHeight(ne,fe),te.contentHeight>ie&&(ie=te.contentHeight),K[H.index]=te}}var Ae=new f.Row(R.raw,-1,R.section,K,!0);Ae.height=ie;for(var Ne=0,Ee=I.columns;Ne<Ee.length;Ne++){var H=Ee[Ne],te=Ae.cells[H.index];te&&(te.height=Ae.height);var Z=R.cells[H.index];Z&&(Z.height=R.height)}return Ae}function E(R,j,I,M){var K=R.pageSize().height,ie=M.settings.margin,P=ie.top+ie.bottom,B=K-P;j.section==="body"&&(B-=M.getHeadHeight(M.columns)+M.getFootHeight(M.columns));var H=j.getMinimumRowHeight(M.columns,R),Z=H<I;if(H>B)return console.error("Will not be able to print row ".concat(j.index," correctly since it's minimum height is larger than page height")),!0;if(!Z)return!1;var te=j.hasRowSpan(M.columns),le=j.getMaxCellHeight(M.columns)>B;return le?(te&&console.error("The content of row ".concat(j.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(te||M.settings.rowPageBreak==="avoid")}function V(R,j,I,M,K,ie,P){var B=Y(R,j,M,ie);if(I.canEntireRowFit(B,P))X(R,j,I,ie,P);else if(E(R,I,B,j)){var H=L(I,B,j,R);X(R,j,I,ie,P),G(R,j,K,ie,P),V(R,j,H,M,K,ie,P)}else G(R,j,K,ie,P),V(R,j,I,M,K,ie,P)}function X(R,j,I,M,K){M.x=j.settings.margin.left;for(var ie=0,P=K;ie<P.length;ie++){var B=P[ie],H=I.cells[B.index];if(!H){M.x+=B.width;continue}R.applyStyles(H.styles),H.x=M.x,H.y=M.y;var Z=j.callCellHooks(R,j.hooks.willDrawCell,H,I,B,M);if(Z===!1){M.x+=B.width;continue}T(R,H,M);var te=H.getTextPos();(0,k.default)(H.text,te.x,te.y,{halign:H.styles.halign,valign:H.styles.valign,maxWidth:Math.ceil(H.width-H.padding("left")-H.padding("right"))},R.getDocument()),j.callCellHooks(R,j.hooks.didDrawCell,H,I,B,M),M.x+=B.width}M.y+=I.height}function T(R,j,I){var M=j.styles;if(R.getDocument().setFillColor(R.getDocument().getFillColor()),typeof M.lineWidth=="number"){var K=(0,m.getFillStyle)(M.lineWidth,M.fillColor);K&&R.rect(j.x,I.y,j.width,j.height,K)}else typeof M.lineWidth=="object"&&(M.fillColor&&R.rect(j.x,I.y,j.width,j.height,"F"),C(R,j,I,M.lineWidth))}function C(R,j,I,M){var K,ie,P,B;M.top&&(K=I.x,ie=I.y,P=I.x+j.width,B=I.y,M.right&&(P+=.5*M.right),M.left&&(K-=.5*M.left),H(M.top,K,ie,P,B)),M.bottom&&(K=I.x,ie=I.y+j.height,P=I.x+j.width,B=I.y+j.height,M.right&&(P+=.5*M.right),M.left&&(K-=.5*M.left),H(M.bottom,K,ie,P,B)),M.left&&(K=I.x,ie=I.y,P=I.x,B=I.y+j.height,M.top&&(ie-=.5*M.top),M.bottom&&(B+=.5*M.bottom),H(M.left,K,ie,P,B)),M.right&&(K=I.x+j.width,ie=I.y,P=I.x+j.width,B=I.y+j.height,M.top&&(ie-=.5*M.top),M.bottom&&(B+=.5*M.bottom),H(M.right,K,ie,P,B));function H(Z,te,le,ne,fe){R.getDocument().setLineWidth(Z),R.getDocument().line(te,le,ne,fe,"S")}}function Y(R,j,I,M){var K=j.settings.margin.bottom,ie=j.settings.showFoot;return(ie==="everyPage"||ie==="lastPage"&&I)&&(K+=j.getFootHeight(j.columns)),R.pageSize().height-M.y-K}function G(R,j,I,M,K,ie){K===void 0&&(K=[]),ie===void 0&&(ie=!1),R.applyStyles(R.userStyles),j.settings.showFoot==="everyPage"&&!ie&&j.foot.forEach(function(B){return X(R,j,B,M,K)}),j.callEndPageHooks(R,M);var P=j.settings.margin;(0,m.addTableBorder)(R,j,I,M),ce(R),j.pageNumber++,j.pageCount++,M.x=P.left,M.y=P.top,I.y=P.top,j.callWillDrawPageHooks(R,M),j.settings.showHead==="everyPage"&&(j.head.forEach(function(B){return X(R,j,B,M,K)}),R.applyStyles(R.userStyles))}l.addPage=G;function ce(R){var j=R.pageNumber();R.setPage(j+1);var I=R.pageNumber();return I===j?(R.addPage(),!0):!1}},224:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var m=c(420);function f(h,k,S){var _;S===void 0&&(S={});var b=(0,m.getPageAvailableWidth)(h,k),p=new Map,w=[],N=[],F=[];k.settings.horizontalPageBreakRepeat,Array.isArray(k.settings.horizontalPageBreakRepeat)?F=k.settings.horizontalPageBreakRepeat:(typeof k.settings.horizontalPageBreakRepeat=="string"||typeof k.settings.horizontalPageBreakRepeat=="number")&&(F=[k.settings.horizontalPageBreakRepeat]),F.forEach(function(V){var X=k.columns.find(function(T){return T.dataKey===V||T.index===V});X&&!p.has(X.index)&&(p.set(X.index,!0),w.push(X.index),N.push(k.columns[X.index]),b-=X.wrappedWidth)});for(var q=!0,L=(_=S==null?void 0:S.start)!==null&&_!==void 0?_:0;L<k.columns.length;){if(p.has(L)){L++;continue}var E=k.columns[L].wrappedWidth;if(q||b>=E)q=!1,w.push(L),N.push(k.columns[L]),b-=E;else break;L++}return{colIndexes:w,columns:N,lastIndex:L-1}}function y(h,k){for(var S=[],_=0;_<k.columns.length;_++){var b=f(h,k,{start:_});b.columns.length&&(S.push(b),_=b.lastIndex)}return S}l.calculateAllColumnsCanFitInPage=y},324:function(o,l,c){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var m=c(420);function f(w,N){y(w,N);var F=[],q=0;N.columns.forEach(function(E){var V=E.getMaxCustomCellWidth(N);V?E.width=V:(E.width=E.wrappedWidth,F.push(E)),q+=E.width});var L=N.getWidth(w.pageSize().width)-q;L&&(L=h(F,L,function(E){return Math.max(E.minReadableWidth,E.minWidth)})),L&&(L=h(F,L,function(E){return E.minWidth})),L=Math.abs(L),!N.settings.horizontalPageBreak&&L>.1/w.scaleFactor()&&(L=L<1?L:Math.round(L),console.warn("Of the table content, ".concat(L," units width could not fit page"))),S(N),_(N,w),k(N)}l.calculateWidths=f;function y(w,N){var F=w.scaleFactor(),q=N.settings.horizontalPageBreak,L=(0,m.getPageAvailableWidth)(w,N);N.allRows().forEach(function(E){for(var V=0,X=N.columns;V<X.length;V++){var T=X[V],C=E.cells[T.index];if(C){var Y=N.hooks.didParseCell;N.callCellHooks(w,Y,C,E,T,null);var G=C.padding("horizontal");C.contentWidth=(0,m.getStringWidth)(C.text,C.styles,w)+G;var ce=(0,m.getStringWidth)(C.text.join(" ").split(/[^\S\u00A0]+/),C.styles,w);if(C.minReadableWidth=ce+C.padding("horizontal"),typeof C.styles.cellWidth=="number")C.minWidth=C.styles.cellWidth,C.wrappedWidth=C.styles.cellWidth;else if(C.styles.cellWidth==="wrap"||q===!0)C.contentWidth>L?(C.minWidth=L,C.wrappedWidth=L):(C.minWidth=C.contentWidth,C.wrappedWidth=C.contentWidth);else{var R=10/F;C.minWidth=C.styles.minCellWidth||R,C.wrappedWidth=C.contentWidth,C.minWidth>C.wrappedWidth&&(C.wrappedWidth=C.minWidth)}}}}),N.allRows().forEach(function(E){for(var V=0,X=N.columns;V<X.length;V++){var T=X[V],C=E.cells[T.index];if(C&&C.colSpan===1)T.wrappedWidth=Math.max(T.wrappedWidth,C.wrappedWidth),T.minWidth=Math.max(T.minWidth,C.minWidth),T.minReadableWidth=Math.max(T.minReadableWidth,C.minReadableWidth);else{var Y=N.styles.columnStyles[T.dataKey]||N.styles.columnStyles[T.index]||{},G=Y.cellWidth||Y.minCellWidth;G&&typeof G=="number"&&(T.minWidth=G,T.wrappedWidth=G)}C&&(C.colSpan>1&&!T.minWidth&&(T.minWidth=C.minWidth),C.colSpan>1&&!T.wrappedWidth&&(T.wrappedWidth=C.minWidth))}})}function h(w,N,F){for(var q=N,L=w.reduce(function(R,j){return R+j.wrappedWidth},0),E=0;E<w.length;E++){var V=w[E],X=V.wrappedWidth/L,T=q*X,C=V.width+T,Y=F(V),G=C<Y?Y:C;N-=G-V.width,V.width=G}if(N=Math.round(N*1e10)/1e10,N){var ce=w.filter(function(R){return N<0?R.width>F(R):!0});ce.length&&(N=h(ce,N,F))}return N}l.resizeColumns=h;function k(w){for(var N={},F=1,q=w.allRows(),L=0;L<q.length;L++)for(var E=q[L],V=0,X=w.columns;V<X.length;V++){var T=X[V],C=N[T.index];if(F>1)F--,delete E.cells[T.index];else if(C)C.cell.height+=E.height,F=C.cell.colSpan,delete E.cells[T.index],C.left--,C.left<=1&&delete N[T.index];else{var Y=E.cells[T.index];if(!Y)continue;if(Y.height=E.height,Y.rowSpan>1){var G=q.length-L,ce=Y.rowSpan>G?G:Y.rowSpan;N[T.index]={cell:Y,left:ce,row:E}}}}}function S(w){for(var N=w.allRows(),F=0;F<N.length;F++)for(var q=N[F],L=null,E=0,V=0,X=0;X<w.columns.length;X++){var T=w.columns[X];if(V-=1,V>1&&w.columns[X+1])E+=T.width,delete q.cells[T.index];else if(L){var C=L;delete q.cells[T.index],L=null,C.width=T.width+E}else{var C=q.cells[T.index];if(!C)continue;if(V=C.colSpan,E=0,C.colSpan>1){L=C,E+=T.width;continue}C.width=T.width+E}}}function _(w,N){for(var F={count:0,height:0},q=0,L=w.allRows();q<L.length;q++){for(var E=L[q],V=0,X=w.columns;V<X.length;V++){var T=X[V],C=E.cells[T.index];if(C){N.applyStyles(C.styles,!0);var Y=C.width-C.padding("horizontal");if(C.styles.overflow==="linebreak")C.text=N.splitTextToSize(C.text,Y+1/N.scaleFactor(),{fontSize:C.styles.fontSize});else if(C.styles.overflow==="ellipsize")C.text=b(C.text,Y,C.styles,N,"...");else if(C.styles.overflow==="hidden")C.text=b(C.text,Y,C.styles,N,"");else if(typeof C.styles.overflow=="function"){var G=C.styles.overflow(C.text,Y);typeof G=="string"?C.text=[G]:C.text=G}C.contentHeight=C.getContentHeight(N.scaleFactor(),N.getLineHeightFactor());var ce=C.contentHeight/C.rowSpan;C.rowSpan>1&&F.count*F.height<ce*C.rowSpan?F={height:ce,count:C.rowSpan}:F&&F.count>0&&F.height>ce&&(ce=F.height),ce>E.height&&(E.height=ce)}}F.count--}}function b(w,N,F,q,L){return w.map(function(E){return p(E,N,F,q,L)})}l.ellipsize=b;function p(w,N,F,q,L){var E=1e4*q.scaleFactor();if(N=Math.ceil(N*E)/E,N>=(0,m.getStringWidth)(w,F,q))return w;for(;N<(0,m.getStringWidth)(w+L,F,q)&&!(w.length<=1);)w=w.substring(0,w.length-1);return w.trim()+L}},964:function(o){if(typeof n>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=n}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var c=i[o]={exports:{}};return r[o].call(c.exports,c,c.exports,s),c.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),c=s(776),m=s(664),f=s(972),y=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return y.Table}});var h=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return h.CellHookData}});var k=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return k.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return k.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return k.Row}});function S(N){(0,l.default)(N)}o.applyPlugin=S;function _(N,F){var q=(0,c.parseInput)(N,F),L=(0,f.createTable)(N,q);(0,m.drawTable)(N,L)}function b(N,F){var q=(0,c.parseInput)(N,F);return(0,f.createTable)(N,q)}o.__createTable=b;function p(N,F){(0,m.drawTable)(N,F)}o.__drawTable=p;try{var w=s(964);w.jsPDF&&(w=w.jsPDF),S(w)}catch{}o.default=_}(),a}()})})(IA);const DA=(t,e,n,r,i="all")=>{var h;const s=new Ge;s.setFontSize(16),s.setTextColor(0,0,0),s.setFont(void 0,"bold"),s.text("Istituto Veneto di Terapia Familiare",14,20),s.setFont(void 0,"normal"),s.setFontSize(11),s.text("Via della Quercia 2/B, Treviso",14,28),s.setDrawColor(200,200,200),s.line(14,35,196,35),s.setFontSize(16),s.setTextColor(50,50,50),s.setFont(void 0,"bold");const a=new Date(t.year,t.month).toLocaleString("it-IT",{month:"long"}),o=i!=="all"?` (${i.charAt(0).toUpperCase()+i.slice(1)})`:"";s.text(`Rimborso Chilometrico - ${e.name} ${e.surname}${o}`,14,45),s.setFont(void 0,"normal"),s.setFontSize(12),s.text(`${a.charAt(0).toUpperCase()+a.slice(1)} ${t.year}`,14,52),s.setFontSize(11),s.setTextColor(0,0,0);const l=[];e.isDocente&&l.push("Docente"),e.isAmministratore&&l.push("Amministratore"),e.isDipendente&&l.push("Dipendente");const c=l.length>0?l.join(", "):"Nessun ruolo";s.text(`Persona: ${e.name} ${e.surname}`,14,62),s.text(`Ruoli: ${c}`,14,68),s.text(`Periodo: ${a} ${t.year}`,14,74),i!=="all"&&(s.setFont(void 0,"bold"),s.setTextColor(200,100,0),s.text(`Report filtrato per ruolo: ${i.charAt(0).toUpperCase()+i.slice(1)}`,14,80),s.setFont(void 0,"normal"),s.setTextColor(0,0,0));const m=i!=="all"?88:82;s.setFillColor(240,240,240),s.roundedRect(14,m,182,35,3,3,"F"),s.setFont(void 0,"bold"),s.text("Riepilogo:",18,m+10),s.setFont(void 0,"normal"),s.text(`Totale Kilometri: ${t.totalDistance.toFixed(1)} km`,18,m+18),s.text(`Rimborso Chilometrico: ${t.totalReimbursement.toFixed(2)} `,18,m+26),s.text(`Pedaggi Autostradali: ${t.totalTollFees.toFixed(2)} `,120,m+18),s.text(`Rimborsi Vitto: ${t.totalMealReimbursement.toFixed(2)} `,120,m+10),s.setFont(void 0,"bold"),s.text(`TOTALE GENERALE: ${(t.totalReimbursement+t.totalTollFees+t.totalMealReimbursement).toFixed(2)} `,18,m+33),s.setFont(void 0,"normal");const f=k=>new Date(k).toLocaleDateString("it-IT");if(t.trips.length>0){const k=["Data","Origine","Destinazione","Ruolo","Veicolo","Km","Tariffa","Rimborso","Pedaggio","Vitto","Totale"],S=p=>p?p==="docente"?"Doc":p==="amministratore"?"Amm":p==="dipendente"?"Dip":p:"-",_=t.trips.map(p=>{const w=r(p.vehicleId),N=p.isRoundTrip?p.distance*2:p.distance,F=w?w.reimbursementRate:0,q=N*F,L=p.hasToll&&p.tollAmount?p.isRoundTrip?p.tollAmount*2:p.tollAmount:0,E=p.hasMeal&&p.mealAmount?p.mealAmount:0,V=p.hasMeal&&p.mealAmount?`${p.mealAmount.toFixed(2)}  (${p.mealType==="pranzo"?"Pranzo":"Cena"})`:"-",X=q+L+E;return[f(p.date),p.origin.length>12?p.origin.substring(0,12)+"...":p.origin,p.destination.length>12?p.destination.substring(0,12)+"...":p.destination,S(p.tripRole),w?`${w.make} ${w.model} (${w.plate})`:"N/A",`${N.toFixed(1)}`,w?`${F.toFixed(2)} `:"-",`${q.toFixed(2)} `,L>0?`${L.toFixed(2)} `:"-",V,`${X.toFixed(2)} `]}),b=i!=="all"?131:125;s.autoTable({startY:b,head:[k],body:_,theme:"striped",headStyles:{fillColor:[0,128,128],textColor:255,fontStyle:"bold"},alternateRowStyles:{fillColor:[240,240,240]},margin:{top:10},styles:{fontSize:7,cellPadding:1.5},columnStyles:{0:{cellWidth:16},1:{cellWidth:18},2:{cellWidth:18},3:{cellWidth:10},4:{cellWidth:26},5:{cellWidth:10},6:{cellWidth:12},7:{cellWidth:14},8:{cellWidth:12},9:{cellWidth:14},10:{cellWidth:14}}})}else{const k=i!=="all"?131:125;s.text("Nessun viaggio registrato per questo periodo",14,k)}const y=((h=s.lastAutoTable)==null?void 0:h.finalY)||135;s.text("Firma Responsabile",14,y+30),s.line(14,y+40,80,y+40),s.text("Firma Beneficiario",120,y+30),s.line(120,y+40,186,y+40),s.setFontSize(8),s.text("Documento generato automaticamente dal sistema di gestione rimborsi ITFV",14,285),s.save(`rimborso_${e.surname.toLowerCase()}_${a}_${t.year}.pdf`)},FA=()=>{var ce,R;const{state:t,generateMonthlyReport:e,getPerson:n,getVehicle:r,formatDate:i}=ps(),[s,a]=ge.useState(""),[o,l]=ge.useState(new Date().getMonth().toString()),[c,m]=ge.useState(new Date().getFullYear().toString()),[f,y]=ge.useState(null),[h,k]=ge.useState(!0),[S,_]=ge.useState(!0),[b,p]=ge.useState(!0),[w,N]=ge.useState("all"),[F,q]=ge.useState(null),L=Array.from({length:12},(j,I)=>({value:I.toString(),label:new Date(0,I).toLocaleString("it-IT",{month:"long"})})),E=new Date().getFullYear(),V=Array.from({length:3},(j,I)=>({value:(E-I).toString(),label:(E-I).toString()})),X=t.people.filter(j=>!h&&!S&&!b?!0:h&&j.isDocente||S&&j.isAmministratore||b&&j.isDipendente),T=()=>{if(!s)return;let j=e(s,parseInt(o),parseInt(c));if(j){const I={docente:0,amministratore:0,dipendente:0};j.trips.forEach(ie=>{ie.tripRole&&(I[ie.tripRole]=(I[ie.tripRole]||0)+1)});const K=Object.entries(I).filter(([ie,P])=>P>0).length>1;q({hasMultipleRoles:K,roleCounts:I})}if(j&&w!=="all"){const I=j.trips.filter(B=>B.tripRole===w);let M=0,K=0,ie=0,P=0;I.forEach(B=>{const H=r(B.vehicleId);if(H){const Z=B.isRoundTrip?B.distance*2:B.distance;M+=Z,K+=Z*H.reimbursementRate}if(B.hasToll&&B.tollAmount){const Z=B.isRoundTrip?B.tollAmount*2:B.tollAmount;ie+=Z}B.hasMeal&&B.mealAmount&&(P+=B.mealAmount)}),j={...j,trips:I,totalDistance:M,totalReimbursement:K,totalTollFees:ie,totalMealReimbursement:P}}y(j)},C=()=>{if(!f)return;const j=n(f.personId);if(!j)return;const I=new Date(f.year,f.month).toLocaleString("it-IT",{month:"long"}),M=`Rimborso Spese di Trasferta - ${j.name} ${j.surname} - ${I} ${f.year}`;DA(f,j,M,r,w)},Y=j=>{if(!j)return null;const M={docente:{label:"Docente",bgColor:"bg-teal-100",textColor:"text-teal-700"},amministratore:{label:"Amministratore",bgColor:"bg-blue-100",textColor:"text-blue-700"},dipendente:{label:"Dipendente",bgColor:"bg-gray-100",textColor:"text-gray-700"}}[j]||{label:j,bgColor:"bg-gray-100",textColor:"text-gray-700"};return v.jsx("span",{className:`inline-flex items-center px-2 py-1 rounded text-xs font-medium ${M.bgColor} ${M.textColor}`,children:M.label})},G=[{key:"date",header:"Data",render:j=>v.jsx("span",{children:i(j.date)})},{key:"route",header:"Percorso",render:j=>v.jsxs("span",{children:[j.origin,"  ",j.destination,j.isRoundTrip&&v.jsx("span",{className:"ml-1 text-teal-600",children:"(A/R)"})]})},{key:"role",header:"Ruolo",render:j=>Y(j.tripRole)},{key:"vehicle",header:"Veicolo",render:j=>{const I=r(j.vehicleId);return I?v.jsxs("span",{children:[I.make," ",I.model," (",I.plate,")"]}):v.jsx("span",{className:"text-red-500",children:"Veicolo non trovato"})}},{key:"distance",header:"Km",render:j=>{const I=j.isRoundTrip?j.distance*2:j.distance;return v.jsxs("span",{children:[I.toFixed(1)," km"]})}},{key:"rate",header:"Tariffa (/km)",render:j=>{const I=r(j.vehicleId);return I?v.jsxs("span",{className:"text-gray-700",children:[I.reimbursementRate.toFixed(2)," "]}):v.jsx("span",{children:"-"})}},{key:"reimbursement",header:"Rimborso ()",render:j=>{const I=r(j.vehicleId);if(!I)return v.jsx("span",{children:"-"});const K=(j.isRoundTrip?j.distance*2:j.distance)*I.reimbursementRate;return v.jsxs("span",{className:"font-medium",children:[K.toFixed(2)," "]})}},{key:"toll",header:"Pedaggio ()",render:j=>{if(j.hasToll&&j.tollAmount){const I=j.isRoundTrip?j.tollAmount*2:j.tollAmount;return v.jsxs("span",{className:"font-medium text-amber-700",children:[I.toFixed(2)," "]})}return v.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"meal",header:"Vitto",render:j=>{if(j.hasMeal&&j.mealType&&j.mealAmount){const I=j.mealType==="pranzo"?"Pranzo":"Cena";return v.jsxs("div",{className:"flex flex-col",children:[v.jsxs("span",{className:"font-medium text-green-700",children:[j.mealAmount.toFixed(2)," "]}),v.jsxs("span",{className:"text-xs text-gray-500",children:["(",I,")"]})]})}return v.jsx("span",{className:"text-gray-400",children:"-"})}},{key:"purpose",header:"Motivo"}];return v.jsxs("div",{className:"space-y-6",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Report Mensili"}),v.jsxs($r,{children:[v.jsxs("div",{className:"mb-6",children:[v.jsx("h2",{className:"text-lg font-medium text-gray-900 mb-4",children:"Genera Report Mensile"}),v.jsxs("div",{className:"mb-4",children:[v.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Filtra per Ruolo"}),v.jsxs("div",{className:"flex flex-wrap gap-4",children:[v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:h,onChange:j=>k(j.target.checked),className:"h-4 w-4 text-teal-600 focus:ring-teal-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Docenti"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:S,onChange:j=>_(j.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Amministratori"})]}),v.jsxs("label",{className:"flex items-center",children:[v.jsx("input",{type:"checkbox",checked:b,onChange:j=>p(j.target.checked),className:"h-4 w-4 text-green-600 focus:ring-green-500 border-gray-300 rounded"}),v.jsx("span",{className:"ml-2 text-sm text-gray-700",children:"Dipendenti"})]})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(_r,{id:"personId",label:"Seleziona Persona",options:X.map(j=>{const I=[];return j.isDocente&&I.push("D"),j.isAmministratore&&I.push("A"),j.isDipendente&&I.push("Dip"),{value:j.id,label:`${j.name} ${j.surname} (${I.join(", ")})`}}),value:s,onChange:j=>a(j.target.value)}),v.jsx(_r,{id:"tripRole",label:"Filtra per Ruolo Trasferta",options:[{value:"all",label:"Tutti i ruoli"},{value:"docente",label:"Solo Docente"},{value:"amministratore",label:"Solo Amministratore"},{value:"dipendente",label:"Solo Dipendente"}],value:w,onChange:j=>N(j.target.value)})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(_r,{id:"month",label:"Mese",options:L,value:o,onChange:j=>l(j.target.value)}),v.jsx(_r,{id:"year",label:"Anno",options:V,value:c,onChange:j=>m(j.target.value)})]}),v.jsx("div",{className:"mt-4",children:v.jsx(ft,{variant:"primary",icon:v.jsx(xd,{size:18}),onClick:T,disabled:!s,children:"Genera Report"})})]}),f&&v.jsxs("div",{className:"border-t border-gray-200 pt-6",children:[(F==null?void 0:F.hasMultipleRoles)&&w==="all"&&v.jsx("div",{className:"mb-4 bg-amber-50 border-l-4 border-amber-400 p-4 rounded",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(V3,{className:"h-5 w-5 text-amber-600 mt-0.5 mr-3 flex-shrink-0"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-amber-800 mb-1",children:"Attenzione: Trasferte in Pi Ruoli Rilevate"}),v.jsx("p",{className:"text-sm text-amber-700 mb-2",children:"Questa persona ha effettuato trasferte in ruoli diversi durante questo periodo:"}),v.jsxs("ul",{className:"text-sm text-amber-700 list-disc list-inside mb-2",children:[F.roleCounts.docente>0&&v.jsxs("li",{children:[v.jsx("strong",{children:F.roleCounts.docente})," trasferte come ",v.jsx("strong",{children:"Docente"})]}),F.roleCounts.amministratore>0&&v.jsxs("li",{children:[v.jsx("strong",{children:F.roleCounts.amministratore})," trasferte come ",v.jsx("strong",{children:"Amministratore"})]}),F.roleCounts.dipendente>0&&v.jsxs("li",{children:[v.jsx("strong",{children:F.roleCounts.dipendente})," trasferte come ",v.jsx("strong",{children:"Dipendente"})]})]}),v.jsxs("p",{className:"text-sm text-amber-700",children:[v.jsx("strong",{children:"Raccomandazione:"}),' Si consiglia di generare report separati per ogni ruolo utilizzando il filtro "Filtra per Ruolo Trasferta" sopra.']})]})]})}),v.jsxs("div",{className:"flex justify-between items-center mb-4",children:[v.jsxs("div",{children:[v.jsxs("div",{className:"flex items-center gap-2",children:[v.jsxs("h2",{className:"text-lg font-medium text-gray-900",children:["Report: ",(ce=n(f.personId))==null?void 0:ce.name," ",(R=n(f.personId))==null?void 0:R.surname]}),w!=="all"&&Y(w)]}),v.jsxs("p",{className:"text-sm text-gray-600",children:[new Date(f.year,f.month).toLocaleString("it-IT",{month:"long"})," ",f.year,w!=="all"&&v.jsx("span",{className:"ml-2 text-amber-600 font-medium",children:"(Report filtrato per ruolo)"})]})]}),v.jsxs("div",{className:"flex space-x-2",children:[v.jsx(ft,{variant:"secondary",icon:v.jsx(n_,{size:18}),onClick:C,children:"Stampa"}),v.jsx(ft,{variant:"success",icon:v.jsx(Q3,{size:18}),onClick:C,children:"Scarica PDF"})]})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-5 gap-4 mb-6",children:[v.jsx("div",{className:"bg-blue-50 p-4 rounded-lg border border-blue-100",children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(Y3,{className:"h-8 w-8 text-blue-500 mr-3"}),v.jsxs("div",{children:[v.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Periodo"}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[new Date(f.year,f.month).toLocaleString("it-IT",{month:"long"})," ",f.year]})]})]})}),v.jsx("div",{className:`p-4 rounded-lg border ${w!=="all"?"bg-amber-50 border-amber-200 ring-2 ring-amber-300":"bg-green-50 border-green-100"}`,children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(r_,{className:`h-8 w-8 mr-3 ${w!=="all"?"text-amber-500":"text-green-500"}`}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Totale Km",w!=="all"&&v.jsx("span",{className:"text-xs text-amber-600 ml-1",children:"(filtrato)"})]}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[f.totalDistance.toFixed(1)," km"]})]})]})}),v.jsx("div",{className:`p-4 rounded-lg border ${w!=="all"?"bg-amber-50 border-amber-200 ring-2 ring-amber-300":"bg-teal-50 border-teal-100"}`,children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(xd,{className:`h-8 w-8 mr-3 ${w!=="all"?"text-amber-500":"text-teal-500"}`}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Rimborso Km",w!=="all"&&v.jsx("span",{className:"text-xs text-amber-600 ml-1",children:"(filtrato)"})]}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[f.totalReimbursement.toFixed(2)," "]})]})]})}),v.jsx("div",{className:`p-4 rounded-lg border ${w!=="all"?"bg-amber-50 border-amber-200 ring-2 ring-amber-300":"bg-amber-50 border-amber-100"}`,children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(N5,{className:"h-8 w-8 text-amber-500 mr-3"}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Pedaggi",w!=="all"&&v.jsx("span",{className:"text-xs text-amber-600 ml-1",children:"(filtrato)"})]}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[f.totalTollFees.toFixed(2)," "]})]})]})}),v.jsx("div",{className:`p-4 rounded-lg border ${w!=="all"?"bg-amber-50 border-amber-200 ring-2 ring-amber-300":"bg-green-50 border-green-100"}`,children:v.jsxs("div",{className:"flex items-center",children:[v.jsx(xd,{className:`h-8 w-8 mr-3 ${w!=="all"?"text-amber-500":"text-green-500"}`}),v.jsxs("div",{children:[v.jsxs("h3",{className:"text-sm font-medium text-gray-700",children:["Rimborsi Vitto",w!=="all"&&v.jsx("span",{className:"text-xs text-amber-600 ml-1",children:"(filtrato)"})]}),v.jsxs("p",{className:"text-lg font-semibold text-gray-900",children:[f.totalMealReimbursement.toFixed(2)," "]})]})]})})]}),v.jsx("div",{className:"bg-gradient-to-r from-blue-50 to-purple-50 p-5 rounded-lg border-2 border-purple-200 mb-6",children:v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{className:"flex items-center",children:[v.jsx("div",{className:"bg-purple-100 p-3 rounded-full",children:v.jsx(xd,{className:"h-6 w-6 text-purple-600"})}),v.jsxs("div",{className:"ml-4",children:[v.jsx("h3",{className:"text-sm font-medium text-gray-700",children:"Totale Generale"}),v.jsx("p",{className:"text-xs text-gray-600",children:"Km + Pedaggi + Vitto"})]})]}),v.jsxs("p",{className:"text-2xl font-bold text-purple-900",children:[(f.totalReimbursement+f.totalTollFees+f.totalMealReimbursement).toFixed(2)," "]})]})}),f.trips.length>0?v.jsx(Hh,{columns:G,data:f.trips,keyExtractor:j=>j.id}):v.jsx("div",{className:"text-center py-6 bg-gray-50 rounded-lg",children:v.jsx("p",{className:"text-gray-500",children:"Nessuna trasferta registrata in questo periodo"})})]})]})]})},MA=()=>{const{state:t,deleteSavedRoute:e}=ps(),n=Vr(),[r,i]=ge.useState(""),s=l=>{window.confirm("Sei sicuro di voler eliminare questo percorso salvato?")&&e(l)},a=t.savedRoutes.filter(l=>l.name.toLowerCase().includes(r.toLowerCase())||l.origin.toLowerCase().includes(r.toLowerCase())||l.destination.toLowerCase().includes(r.toLowerCase())),o=[{key:"name",header:"Nome Percorso",render:l=>v.jsx("span",{className:"font-medium text-gray-900",children:l.name})},{key:"origin",header:"Origine",render:l=>v.jsx("span",{className:"text-sm text-gray-600",children:l.origin.length>30?l.origin.substring(0,30)+"...":l.origin})},{key:"destination",header:"Destinazione",render:l=>v.jsx("span",{className:"text-sm text-gray-600",children:l.destination.length>30?l.destination.substring(0,30)+"...":l.destination})},{key:"distances",header:"Opzioni Percorso",render:l=>v.jsxs("div",{className:"space-y-1",children:[l.distances.map((c,m)=>v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(zh,{className:"h-3 w-3 text-teal-500"}),v.jsxs("span",{className:"text-xs text-gray-600",children:[c.label,": ",v.jsxs("span",{className:"font-medium",children:[c.distance.toFixed(1)," km"]})]})]},c.id)),l.distances.length===0&&v.jsx("span",{className:"text-xs text-red-500",children:"Nessuna distanza configurata"})]})},{key:"actions",header:"Azioni",className:"text-right w-32",render:l=>v.jsxs("div",{className:"flex flex-col items-stretch space-y-2",children:[v.jsx(ft,{variant:"info",size:"sm",icon:v.jsx(Bh,{size:16}),onClick:c=>{c.stopPropagation(),n(`/percorsi/${l.id}`)},className:"w-full",children:"Modifica"}),v.jsx(ft,{variant:"danger",size:"sm",icon:v.jsx(hc,{size:16}),onClick:c=>{c.stopPropagation(),s(l.id)},className:"w-full",children:"Elimina"})]})}];return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex justify-between items-center",children:[v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"Percorsi Salvati"}),v.jsx(bn,{to:"/percorsi/nuovo",children:v.jsx(ft,{variant:"primary",icon:v.jsx(E5,{size:18}),children:"Nuovo Percorso"})})]}),v.jsxs($r,{children:[v.jsxs("div",{className:"mb-4 relative",children:[v.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:v.jsx(Y0,{size:18,className:"text-gray-400"})}),v.jsx("input",{type:"text",placeholder:"Cerca per nome, origine o destinazione...",className:"pl-10 shadow-sm focus:ring-teal-500 focus:border-teal-500 block w-full sm:text-sm border-gray-300 rounded-md",value:r,onChange:l=>i(l.target.value)})]}),v.jsx("div",{className:"mb-4 bg-blue-50 rounded-md p-4 border border-blue-200",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(K0,{className:"text-blue-500 mt-1 mr-3 flex-shrink-0",size:20}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-blue-800",children:"Percorsi con Multiple Opzioni"}),v.jsx("p",{className:"text-sm text-blue-600 mt-1",children:"Ora puoi salvare pi opzioni di distanza per ogni percorso (es. strada normale, autostrada). Questo ti permetter di selezionare rapidamente l'opzione desiderata quando inserisci un nuovo tragitto, riducendo la necessit di consultare Google Maps ogni volta."})]})]})}),v.jsx(Hh,{columns:o,data:a,keyExtractor:l=>l.id,onRowClick:l=>n(`/percorsi/${l.id}`),emptyMessage:r?"Nessun percorso trovato con questi criteri di ricerca":"Nessun percorso salvato. Clicca su 'Nuovo Percorso' per iniziare."})]})]})};let Ed;const zA=new Uint8Array(16);function BA(){if(!Ed&&(Ed=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!Ed))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return Ed(zA)}const Tn=[];for(let t=0;t<256;++t)Tn.push((t+256).toString(16).slice(1));function UA(t,e=0){return Tn[t[e+0]]+Tn[t[e+1]]+Tn[t[e+2]]+Tn[t[e+3]]+"-"+Tn[t[e+4]]+Tn[t[e+5]]+"-"+Tn[t[e+6]]+Tn[t[e+7]]+"-"+Tn[t[e+8]]+Tn[t[e+9]]+"-"+Tn[t[e+10]]+Tn[t[e+11]]+Tn[t[e+12]]+Tn[t[e+13]]+Tn[t[e+14]]+Tn[t[e+15]]}const qA=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),Zv={randomUUID:qA};function Ep(t,e,n){if(Zv.randomUUID&&!e&&!t)return Zv.randomUUID();t=t||{};const r=t.random||(t.rng||BA)();return r[6]=r[6]&15|64,r[8]=r[8]&63|128,UA(r)}const e2=()=>{const{id:t}=G0(),e=Vr(),{state:n,addSavedRoute:r,updateSavedRoute:i}=ps(),s=!!t,a=s?n.savedRoutes.find(N=>N.id===t):null,[o,l]=ge.useState({name:"",origin:"",destination:"",distances:[{id:Ep(),label:"Percorso Standard",distance:0}]}),[c,m]=ge.useState({});ge.useEffect(()=>{a&&l({name:a.name,origin:a.origin,destination:a.destination,distances:a.distances.length>0?a.distances:[{id:Ep(),label:"Percorso Standard",distance:0}]})},[a]);const f=()=>{const N={};if(o.name.trim()||(N.name="Il nome del percorso  obbligatorio"),o.origin.trim()||(N.origin="L'indirizzo di origine  obbligatorio"),o.destination.trim()||(N.destination="L'indirizzo di destinazione  obbligatorio"),o.distances.length===0)N.distances="Almeno una distanza  obbligatoria";else{o.distances.some(E=>!E.label.trim()||isNaN(E.distance)||E.distance<=0)&&(N.distances="Tutte le distanze devono avere un nome e un valore positivo");const q=o.distances.map(E=>E.label.trim().toLowerCase()),L=new Set(q);q.length!==L.size&&(N.distances="I nomi delle distanze devono essere univoci")}return m(N),Object.keys(N).length===0},y=N=>{const{name:F,value:q}=N.target;l(L=>({...L,[F]:q}))},h=(N,F,q)=>{l(L=>({...L,distances:L.distances.map(E=>E.id===N?{...E,[F]:F==="distance"||F==="tollAmount"?parseFloat(q)||0:q}:E)}))},k=(N,F)=>{l(q=>({...q,distances:q.distances.map(L=>L.id===N?{...L,tollEntryStation:F?L.tollEntryStation||"":void 0,tollExitStation:F?L.tollExitStation||"":void 0,tollAmount:F?L.tollAmount||0:void 0}:L)}))},S=()=>{const N={id:Ep(),label:"",distance:0};l(F=>({...F,distances:[...F.distances,N]}))},_=N=>{o.distances.length<=1||l(F=>({...F,distances:F.distances.filter(q=>q.id!==N)}))},b=()=>{try{aw(o.origin,o.destination)}catch(N){N instanceof Error&&alert(N.message)}},p=N=>{if(N.preventDefault(),!f())return;const F={name:o.name,origin:o.origin,destination:o.destination,distances:o.distances};s&&a?i({id:a.id,...F}):r(F),e("/percorsi")},w=o.origin.trim()&&o.destination.trim();return v.jsxs("div",{className:"space-y-6",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(ft,{variant:"secondary",icon:v.jsx(Xu,{size:18}),onClick:()=>e("/percorsi"),children:"Torna all'elenco"}),v.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:s?"Modifica Percorso":"Nuovo Percorso"})]}),v.jsx($r,{children:v.jsxs("form",{onSubmit:p,className:"space-y-6",children:[v.jsx(bt,{id:"name",name:"name",label:"Nome Percorso",value:o.name,onChange:y,error:c.name,placeholder:"es. Sede Treviso - Sede Vicenza",required:!0}),v.jsx("div",{className:"p-4 bg-blue-50 rounded-md border border-blue-200",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(K0,{className:"text-blue-500 mt-1 mr-3 flex-shrink-0",size:20}),v.jsxs("div",{children:[v.jsx("h3",{className:"font-medium text-blue-800",children:"Suggerimento"}),v.jsx("p",{className:"text-sm text-blue-600 mt-1",children:'Inserisci indirizzi completi per un calcolo della distanza pi accurato. Esempio: "Via della Quercia 2/B, Treviso, Italia"'})]})]})}),v.jsx(bt,{id:"origin",name:"origin",label:"Indirizzo di Origine",value:o.origin,onChange:y,error:c.origin,placeholder:"Via, numero civico, citt",required:!0}),v.jsx(bt,{id:"destination",name:"destination",label:"Indirizzo di Destinazione",value:o.destination,onChange:y,error:c.destination,placeholder:"Via, numero civico, citt",required:!0}),v.jsx("div",{className:"bg-green-50 p-4 rounded-lg border border-green-100",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(rs,{className:"h-5 w-5 text-green-500 mr-3 mt-0.5 flex-shrink-0"}),v.jsxs("div",{className:"flex-grow",children:[v.jsx("h3",{className:"font-medium text-green-800 mb-2",children:"Calcolo Distanza con Google Maps"}),v.jsx("p",{className:"text-sm text-green-700 mb-3",children:"Clicca il pulsante qui sotto per aprire Google Maps con il percorso tra gli indirizzi inseriti. Potrai vedere le diverse opzioni di percorso (strada normale, autostrada, ecc.) e inserire manualmente le distanze nei campi sottostanti."}),v.jsx(ft,{type:"button",variant:"success",size:"sm",icon:v.jsx(mh,{size:16}),onClick:b,disabled:!w,children:"Apri Google Maps"}),!w&&v.jsx("p",{className:"text-xs text-green-600 mt-1",children:"Inserisci prima gli indirizzi di origine e destinazione"})]})]})}),v.jsxs("div",{className:"space-y-4",children:[v.jsxs("div",{className:"flex items-center justify-between",children:[v.jsxs("div",{children:[v.jsx("h3",{className:"text-lg font-medium text-gray-900",children:"Opzioni di Percorso"}),v.jsx("p",{className:"text-sm text-gray-600",children:"Aggiungi diverse opzioni di percorso (es. strada normale, autostrada) con le rispettive distanze"})]}),v.jsx(ft,{type:"button",variant:"primary",size:"sm",icon:v.jsx(Fa,{size:16}),onClick:S,children:"Aggiungi Percorso"})]}),c.distances&&v.jsx("p",{className:"text-sm text-red-600",children:c.distances}),v.jsx("div",{className:"space-y-3",children:o.distances.map((N,F)=>v.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg border border-gray-200",children:[v.jsxs("div",{className:"flex items-center justify-between mb-3",children:[v.jsxs("div",{className:"flex items-center space-x-2",children:[v.jsx(t_,{className:"h-4 w-4 text-gray-500"}),v.jsxs("span",{className:"text-sm font-medium text-gray-700",children:["Percorso ",F+1]})]}),o.distances.length>1&&v.jsx(ft,{type:"button",variant:"danger",size:"sm",icon:v.jsx(hc,{size:14}),onClick:()=>_(N.id),children:"Rimuovi"})]}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[v.jsx(bt,{id:`distance-label-${N.id}`,label:"Nome Percorso",value:N.label,onChange:q=>h(N.id,"label",q.target.value),placeholder:"es. Strada Normale, Autostrada, Percorso Veloce",required:!0}),v.jsx(bt,{id:`distance-value-${N.id}`,label:"Distanza (km)",type:"number",step:"0.1",min:"0.1",value:N.distance.toString(),onChange:q=>h(N.id,"distance",q.target.value),placeholder:"Inserisci la distanza da Google Maps",required:!0})]}),v.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[v.jsxs("div",{className:"flex items-center space-x-2 mb-3",children:[v.jsx("input",{type:"checkbox",id:`toll-checkbox-${N.id}`,checked:N.tollEntryStation!==void 0||N.tollExitStation!==void 0||N.tollAmount!==void 0,onChange:q=>k(N.id,q.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),v.jsx("label",{htmlFor:`toll-checkbox-${N.id}`,className:"text-sm font-medium text-gray-700",children:"Questo percorso include pedaggi autostradali"})]}),(N.tollEntryStation!==void 0||N.tollExitStation!==void 0||N.tollAmount!==void 0)&&v.jsxs("div",{className:"space-y-3",children:[v.jsx("div",{className:"p-3 bg-blue-50 rounded-md border border-blue-200",children:v.jsxs("div",{className:"flex items-start",children:[v.jsx(rs,{className:"h-4 w-4 text-blue-500 mr-2 mt-0.5 flex-shrink-0"}),v.jsx("div",{className:"flex-grow",children:v.jsxs("p",{className:"text-xs text-blue-700",children:["Puoi definire un pedaggio predefinito per questo percorso. Gli importi possono essere modificati per ogni singolo viaggio."," ",v.jsxs("a",{href:"https://www.infoviaggiando.it/pedaggi",target:"_blank",rel:"noopener noreferrer",className:"underline hover:text-blue-800 inline-flex items-center",children:["Consulta qui gli importi aggiornati",v.jsx(mh,{size:12,className:"ml-1"})]})]})})]})}),v.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[v.jsx(bt,{id:`toll-entry-${N.id}`,label:"Casello di Entrata",value:N.tollEntryStation||"",onChange:q=>h(N.id,"tollEntryStation",q.target.value),placeholder:"es. Treviso"}),v.jsx(bt,{id:`toll-exit-${N.id}`,label:"Casello di Uscita",value:N.tollExitStation||"",onChange:q=>h(N.id,"tollExitStation",q.target.value),placeholder:"es. Vicenza"}),v.jsx(bt,{id:`toll-amount-${N.id}`,label:"Importo Pedaggio ()",type:"number",step:"0.10",min:"0",value:(N.tollAmount||0).toString(),onChange:q=>h(N.id,"tollAmount",q.target.value),placeholder:"es. 3.50"})]})]})]})]},N.id))})]}),v.jsx("div",{className:"flex justify-end",children:v.jsx(ft,{type:"submit",variant:"primary",icon:v.jsx(gh,{size:18}),children:s?"Salva Modifiche":"Salva Percorso"})})]})})]})},$A=()=>{var b,p;const t=Vr(),e=hs(),{signIn:n,user:r}=Sl(),{showToast:i}=kl(),[s,a]=ge.useState(""),[o,l]=ge.useState(""),[c,m]=ge.useState(!1),[f,y]=ge.useState({}),h=ge.useRef(!1),k=((p=(b=e.state)==null?void 0:b.from)==null?void 0:p.pathname)||"/";ge.useEffect(()=>{h.current&&r&&t(k,{replace:!0})},[r,k,t]);const S=()=>{const w={};return s.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(s)||(w.email="Email non valida"):w.email="Email obbligatoria",o||(w.password="Password obbligatoria"),y(w),Object.keys(w).length===0},_=async w=>{if(w.preventDefault(),!!S()){m(!0);try{const{error:N}=await n(s,o);N?(N.message.includes("Invalid login credentials")?i("Email o password non corretti","error"):N.message.includes("Email not confirmed")?i("Conferma la tua email prima di accedere","error"):i(N.message,"error"),m(!1)):(i("Accesso effettuato con successo","success"),h.current=!0)}catch{i("Errore durante l'accesso","error"),m(!1)}}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-blue-50 px-4",children:v.jsx("div",{className:"max-w-md w-full",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(Z3,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Accedi"}),v.jsx("p",{className:"text-gray-600",children:"Rimborsi Chilometrici ITFV"})]}),v.jsxs("form",{onSubmit:_,className:"space-y-6",children:[v.jsx(bt,{label:"Email",type:"email",value:s,onChange:w=>a(w.target.value),error:f.email,placeholder:"nome@esempio.it",autoComplete:"email"}),v.jsx(bt,{label:"Password",type:"password",value:o,onChange:w=>l(w.target.value),error:f.password,placeholder:"",autoComplete:"current-password"}),v.jsx("div",{className:"flex items-center justify-between",children:v.jsx(bn,{to:"/forgot-password",className:"text-sm text-teal-600 hover:text-teal-700 font-medium",children:"Password dimenticata?"})}),v.jsx(ft,{type:"submit",className:"w-full",disabled:c,children:c?"Accesso in corso...":"Accedi"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-gray-600",children:["Non hai un account?"," ",v.jsx(bn,{to:"/signup",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Registrati"})]})})]})})})},WA=()=>{const t=Vr(),{signUp:e}=Sl(),{state:n}=ps(),{showToast:r}=kl(),[i,s]=ge.useState(""),[a,o]=ge.useState(""),[l,c]=ge.useState(""),[m,f]=ge.useState(""),[y,h]=ge.useState(!1),[k,S]=ge.useState({}),_=n.people.map(w=>({value:w.id,label:`${w.name} ${w.surname}`})),b=()=>{const w={};return i.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(i)||(w.email="Email non valida"):w.email="Email obbligatoria",a?a.length<8&&(w.password="La password deve contenere almeno 8 caratteri"):w.password="Password obbligatoria",l?a!==l&&(w.confirmPassword="Le password non corrispondono"):w.confirmPassword="Conferma password obbligatoria",m||(w.personId="Seleziona una persona"),S(w),Object.keys(w).length===0},p=async w=>{if(w.preventDefault(),!!b()){h(!0);try{const{error:N}=await e(i,a,m);N?N.message.includes("already registered")?r("Questa email  gi registrata","error"):r(N.message,"error"):(r("Registrazione completata! Ora puoi accedere.","success"),t("/login"))}catch{r("Errore durante la registrazione","error")}finally{h(!1)}}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-blue-50 px-4 py-12",children:v.jsx("div",{className:"max-w-md w-full",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(L5,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Registrati"}),v.jsx("p",{className:"text-gray-600",children:"Crea il tuo account"})]}),v.jsxs("form",{onSubmit:p,className:"space-y-6",children:[v.jsx(_r,{label:"Seleziona Persona",value:m,onChange:w=>f(w.target.value),options:_,error:k.personId,placeholder:"Seleziona..."}),v.jsx(bt,{label:"Email",type:"email",value:i,onChange:w=>s(w.target.value),error:k.email,placeholder:"nome@esempio.it",autoComplete:"email"}),v.jsx(bt,{label:"Password",type:"password",value:a,onChange:w=>o(w.target.value),error:k.password,placeholder:"",autoComplete:"new-password",hint:"Minimo 8 caratteri"}),v.jsx(bt,{label:"Conferma Password",type:"password",value:l,onChange:w=>c(w.target.value),error:k.confirmPassword,placeholder:"",autoComplete:"new-password"}),v.jsx(ft,{type:"submit",className:"w-full",disabled:y,children:y?"Registrazione in corso...":"Registrati"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs("p",{className:"text-gray-600",children:["Hai gi un account?"," ",v.jsx(bn,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium",children:"Accedi"})]})})]})})})},HA=()=>{const{resetPassword:t}=Sl(),{showToast:e}=kl(),[n,r]=ge.useState(""),[i,s]=ge.useState(!1),[a,o]=ge.useState(!1),[l,c]=ge.useState({}),m=()=>{const y={};return n.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(n)||(y.email="Email non valida"):y.email="Email obbligatoria",c(y),Object.keys(y).length===0},f=async y=>{if(y.preventDefault(),!!m()){s(!0);try{const{error:h}=await t(n);h?e(h.message,"error"):(o(!0),e("Email di recupero inviata con successo","success"))}catch{e("Errore durante l'invio dell'email","error")}finally{s(!1)}}};return a?v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-blue-50 px-4",children:v.jsx("div",{className:"max-w-md w-full",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8 text-center",children:[v.jsx("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(Q1,{className:"w-8 h-8 text-green-600"})}),v.jsx("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Email Inviata"}),v.jsxs("p",{className:"text-gray-600 mb-6",children:["Abbiamo inviato un link per il recupero della password all'indirizzo ",v.jsx("strong",{children:n}),". Controlla la tua casella di posta e segui le istruzioni."]}),v.jsx("p",{className:"text-sm text-gray-500 mb-6",children:"Se non ricevi l'email entro qualche minuto, controlla la cartella spam."}),v.jsx(bn,{to:"/login",children:v.jsxs(ft,{className:"w-full",children:[v.jsx(Xu,{className:"w-4 h-4 mr-2"}),"Torna al Login"]})})]})})}):v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-blue-50 px-4",children:v.jsx("div",{className:"max-w-md w-full",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(Q1,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Password Dimenticata?"}),v.jsx("p",{className:"text-gray-600",children:"Inserisci la tua email e ti invieremo un link per reimpostare la password."})]}),v.jsxs("form",{onSubmit:f,className:"space-y-6",children:[v.jsx(bt,{label:"Email",type:"email",value:n,onChange:y=>r(y.target.value),error:l.email,placeholder:"nome@esempio.it",autoComplete:"email"}),v.jsx(ft,{type:"submit",className:"w-full",disabled:i,children:i?"Invio in corso...":"Invia Link di Recupero"})]}),v.jsx("div",{className:"mt-6 text-center",children:v.jsxs(bn,{to:"/login",className:"text-teal-600 hover:text-teal-700 font-medium inline-flex items-center",children:[v.jsx(Xu,{className:"w-4 h-4 mr-2"}),"Torna al Login"]})})]})})})},VA=()=>{const t=Vr(),{updatePassword:e}=Sl(),{showToast:n}=kl(),[r,i]=ge.useState(""),[s,a]=ge.useState(""),[o,l]=ge.useState(!1),[c,m]=ge.useState({}),f=()=>{const h={};return r?r.length<8&&(h.password="La password deve contenere almeno 8 caratteri"):h.password="Password obbligatoria",s?r!==s&&(h.confirmPassword="Le password non corrispondono"):h.confirmPassword="Conferma password obbligatoria",m(h),Object.keys(h).length===0},y=async h=>{if(h.preventDefault(),!!f()){l(!0);try{const{error:k}=await e(r);k?n(k.message,"error"):(n("Password aggiornata con successo","success"),t("/login"))}catch{n("Errore durante l'aggiornamento della password","error")}finally{l(!1)}}};return v.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-teal-50 to-blue-50 px-4",children:v.jsx("div",{className:"max-w-md w-full",children:v.jsxs("div",{className:"bg-white rounded-2xl shadow-xl p-8",children:[v.jsxs("div",{className:"text-center mb-8",children:[v.jsx("div",{className:"w-16 h-16 bg-teal-600 rounded-full flex items-center justify-center mx-auto mb-4",children:v.jsx(X3,{className:"w-8 h-8 text-white"})}),v.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Reimposta Password"}),v.jsx("p",{className:"text-gray-600",children:"Inserisci la tua nuova password"})]}),v.jsxs("form",{onSubmit:y,className:"space-y-6",children:[v.jsx(bt,{label:"Nuova Password",type:"password",value:r,onChange:h=>i(h.target.value),error:c.password,placeholder:"",autoComplete:"new-password",hint:"Minimo 8 caratteri"}),v.jsx(bt,{label:"Conferma Nuova Password",type:"password",value:s,onChange:h=>a(h.target.value),error:c.confirmPassword,placeholder:"",autoComplete:"new-password"}),v.jsx(ft,{type:"submit",className:"w-full",disabled:o,children:o?"Aggiornamento in corso...":"Aggiorna Password"})]})]})})})};function GA(){return v.jsxs(T3,{children:[v.jsx(Ln,{path:"/login",element:v.jsx($A,{})}),v.jsx(Ln,{path:"/signup",element:v.jsx(WA,{})}),v.jsx(Ln,{path:"/forgot-password",element:v.jsx(HA,{})}),v.jsx(Ln,{path:"/reset-password",element:v.jsx(VA,{})}),v.jsxs(Ln,{path:"/",element:v.jsx($6,{children:v.jsx(q6,{})}),children:[v.jsx(Ln,{index:!0,element:v.jsx(jN,{})}),v.jsx(Ln,{path:"persone",element:v.jsx(CN,{})}),v.jsx(Ln,{path:"persone/nuovo",element:v.jsx(Cv,{})}),v.jsx(Ln,{path:"persone/:id",element:v.jsx(Cv,{})}),v.jsx(Ln,{path:"tragitti",element:v.jsx(EN,{})}),v.jsx(Ln,{path:"tragitti/nuovo",element:v.jsx(Lv,{})}),v.jsx(Ln,{path:"tragitti/:id",element:v.jsx(Lv,{})}),v.jsx(Ln,{path:"percorsi",element:v.jsx(MA,{})}),v.jsx(Ln,{path:"percorsi/nuovo",element:v.jsx(e2,{})}),v.jsx(Ln,{path:"percorsi/:id",element:v.jsx(e2,{})}),v.jsx(Ln,{path:"report",element:v.jsx(FA,{})})]})]})}m5(document.getElementById("root")).render(v.jsx(ge.StrictMode,{children:v.jsx(z3,{children:v.jsx(z6,{children:v.jsx(U6,{children:v.jsx(PN,{children:v.jsx(GA,{})})})})})}));export{At as _,Mf as c,t2 as g};
